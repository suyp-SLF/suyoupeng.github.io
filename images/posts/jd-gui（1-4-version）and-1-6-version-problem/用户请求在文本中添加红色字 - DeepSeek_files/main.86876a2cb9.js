(()=>{"use strict";var e={50114:function(e){e.exports="data:image/svg+xml,%3Csvg width='778' height='36' viewBox='0 0 778 36' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='url(%23paint0_linear_8042_70329)' d='M0 0h778v36H0z'/%3E%3Cdefs%3E%3ClinearGradient id='paint0_linear_8042_70329' x1='389' x2='389' y2='36' gradientUnits='userSpaceOnUse'%3E%3Cstop offset='.202' stop-color='%23151517'/%3E%3Cstop offset='1' stop-color='%23151517' stop-opacity='0'/%3E%3C/linearGradient%3E%3C/defs%3E%3C/svg%3E"},24347:function(e){e.exports="data:image/svg+xml,%3Csvg width='778' height='36' viewBox='0 0 778 36' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='url(%23paint0_linear_8042_95944)' d='M0 0h778v36H0z'/%3E%3Cdefs%3E%3ClinearGradient id='paint0_linear_8042_95944' x1='389' x2='389' y2='36' gradientUnits='userSpaceOnUse'%3E%3Cstop offset='.202' stop-color='%23fff'/%3E%3Cstop offset='1' stop-color='%23fff' stop-opacity='0'/%3E%3C/linearGradient%3E%3C/defs%3E%3C/svg%3E"},8880:function(e,t,n){e.exports=n.p+"static/sha3_wasm_bg.7b9ca65ddd.wasm"},23513:function(e,t,n){n.d(t,{E0:()=>u,Mp:()=>o,gn:()=>l,wl:()=>c,z7:()=>d});var a=n(2480);let r=null,s=null;function o(){return r||(r=document.createElement("iframe")),r}function i(){let e=new a.B;s=e.promise;let t=n=>{var a;(null===(a=n.data)||void 0===a?void 0:a.pageLoaded)&&(e.resolve(),window.removeEventListener("message",t))};window.addEventListener("message",t)}async function l(){let e=o();e.style.cssText="display: none; pointer-events: none",e.src="about:blank",document.body.appendChild(e),e.src="https://run-html-chat.deepseeksvc.com/usercontent/usercontent.html",i()}function d(e){let t=o();try{e.moveBefore(t,null)}catch(n){e.appendChild(t),i()}}async function c(e){var t;r||l(),await s,null==r||null===(t=r.contentWindow)||void 0===t||t.postMessage({__deepseekCodeBlock:e},"*")}function u(){r||(window.requestIdleCallback||window.requestAnimationFrame||(()=>{}))(l)}},52653:function(e,t,n){n.d(t,{Yp:()=>p,_N:()=>C,lY:()=>f}),n(62100),n(82538),n(54235),n(48773),n(84011),n(96141),n(93078),n(8286),n(51093),n(79300),n(69279),n(12821),n(48981),n(84426),n(36244),n(2550),n(5243),n(36631);var a=n(1322),r=n.n(a),s=n(78044),o=n(29087);let i={javascript:"js",typescript:"ts",javascriptreact:"jsx",typescriptreact:"tsx",html:"html",css:"css",less:"less",scss:"scss",svg:"svg",dart:"dart",vue:"vue",svelte:"svelte",python:"py",java:"java",csharp:"cs",c:"c",cpp:"cpp",golang:"go",ruby:"rb",rust:"rs",php:"php",sql:"sql",cmake:"cmake",makefile:"mk",scala:"scala",haskell:"hs",erlang:"erl",clojure:"clj",fsharp:"fs",swift:"swift",objectivec:"m",kotlin:"kt",json:"json",yaml:"yaml",bash:"sh",shell:"sh",xml:"xml",powershell:"ps1",dockerfile:"dockerfile",lua:"lua",diff:"diff",ini:"ini",nginx:"nginx",batch:"bat",markdown:"md",latex:"tex",r:"r",julia:"jl",matlab:"m",jupyter:"ipynb",mermaid:"mermaid"},l=Object.values(i),d=e=>e in i?i[e]:l.includes(e)?e:null,c=e=>{if(!e)return"txt";let t=e.split(/\s+/)[0].toLowerCase(),n=t.replace(/\d+$/,"");if(t.includes("+"))for(let e of t.split("+")){let t=d(e);if(t)return t}return d(n)||d(t)||"txt"},u=async e=>{let{code:t,infostring:n,ext:a}=e,r=a||c(n),s="deepseek_";n&&(s+=n+"_"),s+=new Date().toISOString().replace(/-/g,"").slice(0,8);let o=await h(t);return(s+=o?"_"+o:"")+"."+r},h=async e=>{try{return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-1",new TextEncoder().encode(e.slice(0,2e3))))).map(e=>e.toString(16).padStart(2,"0")).join("").slice(0,6)}catch(e){return null}},p=async(e,t)=>{let n=await u({code:e,infostring:t});o.l.tracker.info({name:"downloadCodeFile",message:"下载代码文件",payload:{infostring:t||"",name:n}}),r()(e,n)},g=function(e){let{width:t,height:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=new DOMParser().parseFromString(e,"text/xml");return a.getElementsByName("svg").forEach(e=>{e.setAttribute("width","".concat(t,"px")),e.setAttribute("height","".concat(n,"px"))}),a.children[0].outerHTML},m=function(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=((t=e).match(/^<svg[^>]+xmlns="http:\/\/www\.w3\.org\/2000\/svg"/)||(t=t.replace(/^<svg/,'<svg xmlns="http://www.w3.org/2000/svg"')),t.match(/^<svg[^>]+"http:\/\/www\.w3\.org\/1999\/xlink"/)||(t=t.replace(/^<svg/,'<svg xmlns:xlink="http://www.w3.org/1999/xlink"')),t).replaceAll("<br>","<br/>").replaceAll(/<img([^>]*)>/g,(e,t)=>"<img ".concat(t," />"));return n&&g(a,n),'<?xml version="1.0" encoding="UTF-8"?>\n'.concat(a)},f=async e=>{let t=m(e),n=await u({code:t,infostring:"mermaid",ext:"svg"});o.l.tracker.info({name:"downloadSvgFile",message:"下载svg文件",payload:{}}),r()(t,n)},C=async(e,t)=>{let n=await u({code:e,infostring:"mermaid",ext:"png"}),a=document.createElement("canvas");a.width=3*t.width,a.height=3*t.height,a.style.width="".concat(t.width,"px"),a.style.height="".concat(t.height,"px");let o=a.getContext("2d");if(!o)throw Error("context not found");o.fillStyle=t.isDark?"#000":"#fff",o.fillRect(0,0,a.width,a.height);let i=new Image;i.addEventListener("load",()=>{o.drawImage(i,0,0,a.width,a.height),a.toBlob(e=>{e&&r()(e,n)},"image/png")});let l=m(e,{width:a.width,height:a.height});i.src="data:image/svg+xml;base64,".concat((0,s.cv)(l))}},57645:function(e,t,n){n.d(t,{A:()=>a});let a=new(n(70595)).x},71126:function(e,t,n){n.d(t,{LM:()=>i,he:()=>d,kq:()=>l});var a=n(45768),r=n(56549),s=n(41515);let o=()=>({user:null,pending:!0}),i=(0,a.Ue)((0,r.XR)(e=>({...o(),setUser:t=>e(e=>({...e,user:t})),updateNeedBirthday:t=>{e((0,s.Uy)(e=>{e.user&&(e.user.needBirthday=t)}))},reset:()=>{e(o())},settlePending:()=>{e(e=>({...e,pending:!1}))}}))),l=()=>i(e=>!!e.user),d=()=>i(e=>e.pending?"pending":e.user?"yes":"no")},27096:function(e,t,n){n.d(t,{N:()=>a.N});var a=n(56413)},56413:function(e,t,n){n.d(t,{F:()=>s,N:()=>o}),n(82538);var a=n(37918);let r=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return window.collectEvent(...t)},s=()=>new Promise(e=>{window.collectEvent("getToken",t=>{e(t)})}),o={init:e=>{r("init",{app_id:0x13145ad,channel_domain:"https://gator.volces.com",ab_channel_domain:"https://tab.volces.com",enable_ab_test:!0,auto_exposure_expriment:!1,disable_sdk_monitor:!0,enable_storage:!0}),r("config",{commit_id:"e3aaadf6",commit_datetime:"2025/09/08 20:00:39"}),r("start")},setUserUniqueId:e=>{r("config",{user_unique_id:e})},clearUserUniqueId:()=>{r("config",{user_unique_id:null})},reportEvent:e=>{if((0,a.AO)(e)||a.Bf.includes(e.eventName)&&"error"!==e.level)return;let t={event_level:e.level,event_message:e.eventMessage,...(0,a.v5)(e.payload)};r(e.eventName,t)}}},9053:function(e,t,n){n.d(t,{hM:()=>r,lu:()=>s}),n(36631);var a,r=((a={}).Dev="dev",a.Staging="staging",a.Production="production",a.ChatTest="chat_test",a.Unknown="unknown",a);let s=(()=>{let e=location.hostname;if(e.match(/(\d{1,3}\.){3,3}\d{1,3}/))return"dev";switch(e){case"localhost":return"dev";case"chat-test.deepseek.com":return"chat_test";case"chat.deepseek.com":return"production";case"chat-dev.deepseek.com":return"staging";default:throw Error("Unknown hostname: ".concat(e))}})()},38096:function(e,t,n){n.d(t,{V:()=>o,z:()=>s});var a=n(15629);let r=(0,n(45768).Ue)(e=>({pixelRatio:window.devicePixelRatio,setPixelRatio:t=>e({pixelRatio:t})})),s=()=>{let e=(0,a.useRef)(0);(0,a.useEffect)(()=>{if(e.current>0)return;e.current++;let t="(resolution: ".concat(window.devicePixelRatio,"dppx)"),n=()=>{r.setState({pixelRatio:window.devicePixelRatio})},a=window.matchMedia(t);return a.addListener(n),()=>{e.current=0,a.removeListener(n)}},[])},o=()=>r(e=>e.pixelRatio)},48775:function(e,t,n){n.d(t,{F:()=>r});var a=n(29087);let r=()=>"dark"===a.l.useTheme()},23290:function(e,t){},4450:function(e,t,n){t.getCJKQuotationMarksPatch=void 0,n(91474);var a=n(85285);Object.defineProperty(t,"getCJKQuotationMarksPatch",{enumerable:!0,get:function(){return a.getCJKQuotationMarksPatch}})},85285:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getCJKQuotationMarksPatch=void 0;let n=e=>"@font-face {\n  font-family: 'quote-cjk-patch';\n  src: local('".concat(e?"PingFangTC":"PingFangSC","-Regular');\n  unicode-range: U+201C-201D, U+2018-2019;\n}"),a=null,r=()=>(null===a&&(a=document.createElement("style")),a);t.getCJKQuotationMarksPatch=()=>{let e=r();return{enable:t=>{let{tradition:a}=t;e.innerHTML=n(a),document.head.appendChild(e)},disable:()=>{e.innerHTML="",document.head.contains(e)&&document.head.removeChild(e)}}}},29087:function(e,t,n){n.d(t,{a:()=>eT,l:()=>eI}),n(1227),n(16798),n(98067),n(36631),n(82538);var a=n(23279),r=n(45768),s=n(15629),o=n(96151),i=n(38973),l=n(37918),d=n(16446);n(82833),n(50868),n(31881),n(13464),n(64386),n(47120),n(14861);var c=n(30866);class u{create(e,t,n){let a;let r=null!=n?n:"0",o=!0,i=null;function l(t,n,s){(0!==s||t!==d())&&(o=!0,a={value:t,__version:r},localStorage.setItem(e,JSON.stringify(a)),n&&u.forEach(e=>{e(t)}))}let d=()=>{if(!c.jU)return t;if(!o)return a.value;let n=localStorage.getItem(e);if(null===n)return l(t,!1,1),o=!1,t;try{let e=(a=JSON.parse(n)).__version;return e||(l(a,!1,1),e="0"),e!==r&&l(t,!1,1),o=!1,a.value}catch(a){return this.onGetError(a,{key:e,value:n}),l(t,!1,1),o=!1,t}},u=new Set;return{set:function(e){c.jU&&(null==i||i(e),l(e,!0,0))},get:d,useState(){if(!c.jU)return[t,()=>{}];let[e,n]=(0,s.useState)(d),a=(0,s.useCallback)(e=>{l(e,!0,0),n(e)},[]);return(0,s.useEffect)(()=>(u.add(n),()=>{u.delete(n)}),[]),[e,a]},subscribe(e,t){let{immediately:n}=t;c.jU&&(i=e,n&&e(d()))}}}createMock(e,t){let n=new Set,a=null,r=e=>{null==a||a(e),n.forEach(t=>{t(e)})},o=()=>t;return{set:r,get:o,useState(){if(!c.jU)return[t,()=>{}];let[e,a]=(0,s.useState)(o),i=(0,s.useCallback)(e=>{r(e),a(e)},[]);return(0,s.useEffect)(()=>(n.add(a),()=>{n.delete(a)}),[]),[e,i]},subscribe(e,t){let{immediately:n}=t;c.jU&&(a=e,n&&e(o()))}}}constructor({onGetError:e}){(0,d._)(this,"onGetError",void 0),this.onGetError=e}}var h=n(15838),p=n(78769),g=n(1402);let m={zh_CN:{__placeholder:e=>"",invalidPowResponseToast:"请求验证失败",invalidTokenToast:"登录信息已失效，请重新登录",ipAccessRestrictedToast:"请求过于频繁，请稍后再试",mobileNotBindedInMainlandChinaToast:"请完成实名认证",underReviewToast:"你的账户正在审核中",userIsBannedToast:"由于违规次数过多，你的账户已被临时停用"},en_US:{__placeholder:e=>"",invalidPowResponseToast:"Validation failed",invalidTokenToast:"You have signed out of your account, please log in again.",ipAccessRestrictedToast:"Too many requests. Please try again later.",mobileNotBindedInMainlandChinaToast:"Please verify your phone number.",underReviewToast:"Your account is under review.",userIsBannedToast:"As a result of violations, your account has been temporarily suspended."}},f={};function C(e,t){return f[e]?f[e]:f[e]=function(){for(var n=arguments.length,a=Array(n),r=0;r<n;r++)a[r]=arguments[r];let s=v(t())(e);return"string"==typeof s?s:s(...a)}}function v(e){return t=>m[e][t]}n(63393);var x=n(2480),S=n(70595);class E{async waitUntil(e){if(e(this.state))return;let t=new x.B,n=this.stateChanged$.subscribe(()=>{e(this.state)&&(t.resolve(),n.unsubscribe())});await t.promise}postStateChange(){this.stateChanged$.next()}addRequest(e){this.state.requests.push(e),this.postStateChange()}removeRequest(e){this.state.requests=this.state.requests.filter(t=>t.id!==e),this.postStateChange()}constructor(){(0,d._)(this,"state",{requests:[]}),(0,d._)(this,"stateChanged$",new S.x)}}var b=n(75929);n(7195);let _=new class{listenAndUnlock(){this.locked&&this.locked.finally(this.unlock)}addLock(e){if(this.locked)throw Error("lock is already acquired");this.locked=e,this.listenAndUnlock()}waitLock(e){if(!this.currentLock){this.addLock(e());return}this.currentLock.finally(()=>{this.waitLock(e)})}get isLocked(){return!!this.locked}get currentLock(){return this.locked}constructor(){(0,d._)(this,"locked",null),(0,d._)(this,"unlock",()=>{this.locked=null})}},y=async()=>{if(!_.isLocked){let e=(0,b.$q)();_.addLock(e)}await _.currentLock},w=0;class I extends s.Component{static getDerivedStateFromError(e){return{hasError:!0,error:e}}resetErrorBoundary(){let{error:e}=this.state;if(null!==e){var t,n;null===(t=(n=this.props).onReset)||void 0===t||t.call(n),this.setState({hasError:!1,error:void 0})}}componentDidCatch(e,t){var n,a;null===(n=(a=this.props).onError)||void 0===n||n.call(a,e,t)}render(){if(this.state.hasError){let{renderFallback:e}=this.props;return(0,a.jsx)(I,{renderFallback:()=>{var e,t;return null===(e=(t=this.props).renderFallbackLastResort)||void 0===e?void 0:e.call(t,{error:this.state.error,reset:this.resetErrorBoundary})},children:e({reset:this.resetErrorBoundary,error:this.state.error})})}return this.props.children}constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state={hasError:!1,error:void 0}}}var T=n(91054),k=n(23331),M=n(72955),j=n(395),R=n(62443),A=n(58764);n(5581);var N=n(41380);let L=0;function F(){return(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 16 16",children:(0,a.jsx)("g",{fill:"none",children:(0,a.jsx)("path",{d:"M8 2a6 6 0 1 1 0 12A6 6 0 0 1 8 2zM6.534 5.839a.5.5 0 0 0-.638.057l-.057.07a.5.5 0 0 0 .057.638L7.293 8L5.896 9.396l-.057.07a.5.5 0 0 0 .057.638l.07.057a.5.5 0 0 0 .638-.057L8 8.707l1.396 1.397l.07.057a.5.5 0 0 0 .638-.057l.057-.07a.5.5 0 0 0-.057-.638L8.707 8l1.397-1.396l.057-.07a.5.5 0 0 0-.057-.638l-.07-.057a.5.5 0 0 0-.638.057L8 7.293L6.604 5.896l-.07-.057z",fill:"currentColor"})})})}function O(){return(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20",children:(0,a.jsx)("g",{fill:"none",children:(0,a.jsx)("path",{d:"M10 2a8 8 0 1 1 0 16a8 8 0 0 1 0-16zm0 10.5a.75.75 0 1 0 0 1.5a.75.75 0 0 0 0-1.5zM10 6a.5.5 0 0 0-.492.41L9.5 6.5V11l.008.09a.5.5 0 0 0 .984 0L10.5 11V6.5l-.008-.09A.5.5 0 0 0 10 6z",fill:"currentColor"})})})}function P(){return(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20",children:(0,a.jsx)("g",{fill:"none",children:(0,a.jsx)("path",{d:"M10 2a8 8 0 1 1 0 16a8 8 0 0 1 0-16zm3.358 5.646a.5.5 0 0 0-.637-.057l-.07.057L9 11.298L7.354 9.651l-.07-.058a.5.5 0 0 0-.695.696l.057.07l2 2l.07.057a.5.5 0 0 0 .568 0l.07-.058l4.004-4.004l.058-.07a.5.5 0 0 0-.058-.638z",fill:"currentColor"})})})}function D(e){let t,n,{content:r,type:s,title:o,footer:i,onClose:l,zIndex:d}=e;switch(s){case"warning":t="".concat(A.F,"-notification__icon--warning"),n=(0,a.jsx)(O,{});break;case"error":t="".concat(A.F,"-notification__icon--error"),n=(0,a.jsx)(F,{});break;default:t="".concat(A.F,"-notification__icon--success"),n=(0,a.jsx)(P,{})}return(0,a.jsxs)("div",{className:"".concat(A.F,"-notification"),style:{zIndex:d},children:[(0,a.jsx)("div",{className:(0,k.Z)("".concat(A.F,"-notification__icon"),t),children:n}),(0,a.jsxs)("div",{className:"".concat(A.F,"-notification__main"),children:[(0,a.jsx)("div",{className:"".concat(A.F,"-notification__title"),children:o}),(0,a.jsx)("div",{className:"".concat(A.F,"-notification__content"),children:r}),(0,a.jsx)("div",{className:"".concat(A.F,"-notification__footer"),children:i})]}),(0,a.jsx)("div",{className:"".concat(A.F,"-notification__close-wrapper"),children:(0,a.jsx)(R.P,{onClick:l})})]})}let B=(0,s.createContext)(null),H=(0,s.createContext)(null);function V(e){let{children:t,onNotification:n}=e,[r,o]=(0,s.useState)([]),i=(0,N.B)();return(0,a.jsx)(B.Provider,{value:o,children:(0,a.jsxs)(H.Provider,{value:n,children:[t,(0,T.createPortal)((0,a.jsx)("div",{className:(0,k.Z)("".concat(A.F,"-notification-container"),"".concat(A.F,"-theme")),style:i,children:r.map(e=>(0,a.jsx)(U,{setNotifications:o,notificationProps:e},e.id))}),document.body)]})})}function U(e){let{notificationProps:t,setNotifications:n}=e,[r,o]=(0,s.useState)(!0);return(0,a.jsx)(M.$,{appear:!0,in:r,transformOrigin:"top",onExited:()=>{n(e=>e.filter(e=>e.id!==t.id))},children:(0,s.useMemo)(()=>(0,a.jsx)(D,{...t,onClose:()=>{o(!1)}}),[t])})}function W(e){let{setNotification:t}=e,n=function(){let e=(0,s.useContext)(B),t=(0,s.useContext)(H);if(!e||!t)throw Error("useNotification must be used inside NotificationProvider");let n=(n,a)=>{let{title:r,content:s,footer:o}=a,i=L++;e(e=>{let t=Math.max(...e.map(e=>e.zIndex),0);return e.concat({title:r,type:n,content:s,footer:o,id:i,zIndex:t+1})}),t((0,j.P5)(r),(0,j.P5)(s),"success"===n?"info":"warning"===n?"warn":"error")};return{warning:e=>n("warning",e),error:e=>n("error",e),success:e=>n("success",e)}}();return(0,s.useMemo)(()=>{t(n)},[t,n]),null}var G=n(3985);function z(e){let{setToast:t}=e,n=(0,G.pm)();return(0,s.useMemo)(()=>{t(n)},[t,n]),null}var Z=n(10090),q=n(57570);function K(e){let{children:t,onToast:n,placement:r}=e,[o,i]=(0,s.useState)([]),l=(0,N.B)(),[d,c]=(0,s.useState)([]),u=(0,Z.$0)(e=>{let t=d,n=!1;"function"==typeof e?i(a=>{let r=e(a);return r.forEach(e=>{t.includes(e.placement)||(t=t.concat(e.placement),n=!0)}),r}):(e.forEach(e=>{t.includes(e.placement)||(t=t.concat(e.placement),n=!0)}),i(e)),n&&c(t)});return(0,a.jsx)(q.BD.Provider,{value:u,children:(0,a.jsx)(q.wj.Provider,{value:n||null,children:(0,a.jsxs)(q.DS.Provider,{value:r||null,children:[t,d.map(e=>(0,T.createPortal)((0,a.jsx)("div",{className:(0,k.Z)("".concat(A.F,"-toast-container"),"".concat(A.F,"-toast-container--").concat(e),"".concat(A.F,"-theme")),style:l,children:o.filter(t=>t.placement===e).map(e=>(0,a.jsx)(G.BV,{setToasts:u,toastProps:e},e.id))}),document.body,e))]})})})}var Y=n(65914),X=n(84940);function $(e){return c.jU?Q(e.getState().localePreference):"en_US"}function Q(e){return c.jU?"system"===e?navigator.language.startsWith("zh")?"zh_CN":"en_US":e:"en_US"}let J=(0,s.createContext)(null);class ee{setIsColdStart(e){this.isColdStart=e}getCurrentDuration(){return Math.round(performance.now()-this.navigationStartTime)}resetNavigationStartTime(){this.ttiResolved&&(this.ttiResolved=!1),this.navigationResolved&&(this.navigationStartTime=performance.now())}report(e,t,n,a){this.navigationResolved=!0;let r=this.isColdStart;if(this.isColdStart&&this.setIsColdStart(!1),this.ttiResolved)return;this.ttiResolved=!0;let s=Math.round(performance.now()-this.navigationStartTime);this.tracker.info({name:"__tti",message:"".concat(e," TTI 上报：").concat(s,"ms"),payload:{type:r?"coldStart":"warmStart",referer:document.referrer,metricDuration:s,metricVisitIndex:t,metricDurationSinceMounted:-1===n?-1:s-n,hasError:"".concat(a)}})}constructor(e){(0,d._)(this,"isColdStart",!0),(0,d._)(this,"navigationStartTime",0),(0,d._)(this,"navigationResolved",!1),(0,d._)(this,"ttiResolved",!1),(0,d._)(this,"tracker",void 0),this.tracker=e}}var et=n(3697);function en(e){"zh_CN"===e?et.locale("zh-cn"):et.locale("en")}n(15962),n(61137);let ea=(e,t)=>e===t||e&&({HK:"CN中国香港",MO:"CN中国澳门",TW:"CN中国台湾"})[e]===t;var er=n(17353);let es={zh_CN:{updateVersionNotificationContent:e=>{let{version:t}=e;return"检测到新版本 ".concat(t,"，请刷新页面升级。")},updateVersionNotificationRefreshButton:"立即刷新",updateVersionNotificationTitle:"升级提示"},en_US:{updateVersionNotificationContent:e=>{let{version:t}=e;return"New version V".concat(t," is available. Please refresh the page.")},updateVersionNotificationRefreshButton:"Refresh",updateVersionNotificationTitle:"New version available"}},eo={};function ei(e,t){return eo[e]?eo[e]:eo[e]=function(n){var a;let r=(a=t(),e=>es[a][e])(e);return"string"==typeof r?r:r(n)}}var el=n(42659);class ed{_update(e){if(e)try{this.trackedElement=e;let t=this.determinePosition(e);this.currentPosition=t,this.writePosition(t)}catch(e){}}dispose(){window.removeEventListener("resize",this.handleResize),this.trackedElement=null}handleResize(){this.trackedElement&&this.update(this.trackedElement)}determinePosition(e){let t=e.getBoundingClientRect(),n=t.left,a=t.top,r=window.innerWidth,s=window.innerHeight,o=Math.max(0,Math.min(1,n/r)),i=Math.max(0,Math.min(1,a/s));return"".concat(o.toFixed(3),"#").concat(i.toFixed(3))}parsePosition(e){try{let[t,n]=e.split("#"),a=parseFloat(t),r=parseFloat(n);if(isNaN(a)||isNaN(r)||a<0||a>1||r<0||r>1)return{x:.1,y:.1};return{x:a,y:r}}catch(e){return{x:.1,y:.1}}}getInitialPosition(){let e=this.parsePosition(this.currentPosition),t=window.innerWidth,n=window.innerHeight;return{x:e.x*t,y:e.y*n}}constructor(e,t){(0,d._)(this,"readPosition",void 0),(0,d._)(this,"writePosition",void 0),(0,d._)(this,"currentPosition",void 0),(0,d._)(this,"trackedElement",null),(0,d._)(this,"update",(0,el.Z)(this._update,500,{trailing:!0})),this.readPosition=e,this.writePosition=t;try{this.currentPosition=this.readPosition()||"0.100#0.100"}catch(e){this.currentPosition="0.100#0.100"}window.addEventListener("resize",this.handleResize)}}let ec=e=>{let t=(0,s.useRef)();return(0,s.useEffect)(()=>()=>{var e;return null===(e=t.current)||void 0===e?void 0:e.dispose()},[]),t.current||(t.current=new ed(e.get,e.set)),t.current};var eu=n(78140);function eh(e){let{type:t="info",className:n,style:r,domProps:o,children:i,closable:l,onClose:d,theme:c}=e,u=(0,s.useMemo)(()=>({"--ds-banner-text-color":null==c?void 0:c.textColor}),[c]);return(0,a.jsxs)("div",{...o,className:(0,k.Z)("".concat(A.F,"-banner"),"".concat(A.F,"-banner--").concat(t),n,null==o?void 0:o.className),style:{...u,...null==o?void 0:o.style,...r},children:[(0,a.jsx)("div",{className:"".concat(A.F,"-banner__content"),children:i}),l&&(0,a.jsx)("div",{className:"".concat(A.F,"-banner__close-wrapper"),children:(0,a.jsx)(R.P,{theme:{textColor:"rgb(var(--ds-rgb-primary-foreground))",boxShadowColorFocus:"currentColor",hoverColor:"rgba(0, 0, 0, 0.15)"},onClick:()=>{null==d||d()}})})]})}n(23140);var ep=n(78368);function eg(e){if(!e||"object"!=typeof e||!("id"in e)||"string"!=typeof e.id&&"number"!=typeof e.id||!("items"in e)||!Array.isArray(e.items)||0===e.items.length)return!1;for(let t of e.items)if(!function(e){var t,n;if(!e||"object"!=typeof e||!("show"in e)||"boolean"!=typeof e.show||!("showCondition"in e)||!Array.isArray(e.showCondition))return!1;for(let n of e.showCondition){if("authenticated"!==(t=n)&&"unauthenticated"!==t)return!1}if(!("showDeployEnv"in e)||!Array.isArray(e.showDeployEnv))return!1;for(let t of e.showDeployEnv){if("staging"!==(n=t)&&"production"!==n)return!1}if(!("showByAppId"in e)||!Array.isArray(e.showByAppId)||!("type"in e)||"info"!==e.type&&"warning"!==e.type&&"error"!==e.type||!("closable"in e)||"boolean"!=typeof e.closable||!("content"in e)||!e.content||"object"!=typeof e.content)return!1;for(let[t,n]of Object.entries(e.content))if("string"!=typeof t||"string"!=typeof n)return!1;return!0}(t))return!1;return!0}function em(e,t){let n=e.items.filter(e=>e.showByAppId.includes(t));return 0===n.length?null:{...e,items:n}}n(43536);var ef=n(52640),eC=n(78549);let ev={nodeEnv:"production",deployEnv:"production",dev:!1,appVersion:"20241129.1",userAgent:navigator.userAgent,commitId:"e3aaadf6",referrer:document.referrer,channel:"queue",clientPlatform:"web"};var ex=n(29140),eS=n(57645),eE=n(71126);let eb={zh_CN:{adblockAlertText:"你的浏览器可能启用了 AdGuard/AdBlock/uBlock 类插件，请关闭相关拦截插件，以免影响正常使用。",adblockAlertTitle:"关闭广告拦截插件",ageGateConfirm:"确认",ageGateDesc:"仅用于确认你的年龄，你的信息不会公开。",ageGateMonth:"月",ageGateNetworkError:"操作失败，请稍后重试",ageGateRejectText:"你不符合使用本产品的最低年龄要求",ageGateTitle:"请选择你的出生年月",ageGateYear:"年",ageGetInvalidDate:"无效日期",agentSelectionCreateSessionSidebarTitle:"新建会话",agentSelectionCreateSessionTooltip:"开启新对话",allowTrainingDescription:"允许我们将你的对话内容用于优化 DeepSeek 的使用体验。我们保障你的数据隐私安全。",allowTrainingSwitchLabel:"数据用于优化体验",allowTrainingSwitchNetworkError:"操作失败，请稍后重试",alreadyInNewChatToast:"已经是最新对话",avartarMenuDownloadAppOption:"下载手机应用",avartarMenuSettingsDialogTitle:"系统设置",avartarMenuSettingsOption:"系统设置",avatarMenuSettingsDialogDeleteAccountItemLabel:"注销账号",avatarMenuSettingsDialogDeleteAllHistoryButton:"删除",avatarMenuSettingsDialogDeleteAllHistoryLabel:"删除所有对话",avatarMenuSettingsDialogExportOldHistoryButton:"导出",avatarMenuSettingsDialogExportOldHistoryFinishedLabel:"已导出，点击链接下载",avatarMenuSettingsDialogExportOldHistoryLabel:"导出旧版历史对话",avatarMenuSettingsDialogExportOldHistoryPendingLabel:"正在导出，请稍候",avatarMenuSettingsDialogThemeItemLabel:"主题",avatarMenuSettingsDialogThemeSelectDarkOption:"深色",avatarMenuSettingsDialogThemeSelectLightOption:"浅色",avatarMenuSettingsDialogThemeSelectSystemOption:"跟随系统",beyondTextLimit:e=>{let{file_usage_ratio:t}=e;return(0,a.jsxs)(a.Fragment,{children:["超出字数限制，DeepSeek 只阅读了前 ",Math.max(1,Math.floor(t)),"%"]})},brandNewChatDivider:"以下是新的对话",cancel:"取消",cancelCreateRole:"取消",cancelDeleteRole:"取消",cancelEditRole:"取消",chatCannotContinueDueToRoleDeleted:"该角色已被删除，对话无法继续",chatHtmlTitle:"探索未至之境",chatInputEmptyPromptButtonTooltip:"请输入你的问题",chatInputNewChatButton:"新对话",chatInputNewChatButtonThinkingExceededPrompt:"当前对话已超出深度思考的最大长度限制，开启一个新对话继续思考吧~",chatInputNewChatButtonTooltip:"内容比较长，消息将发送到新的对话",chatInputPlaceholder:"请输入问题。Enter 发送，Ctrl + Enter 换行",chatInputPlaceholderChat:"给 DeepSeek 发送消息 ",chatInputPlaceholderCoder:"发送给 代码助手",chatInputPlaceholderMobile:"请输入问题",chatInputStopButtonTooltip:"停止生成",Chinese:"中文",clearContext:"开启新对话",clearContextDivider:"以下是新的对话",clickToSendCurMsgToNewChat:"点击此处将此消息发送至新会话",codeDownload:"下载",collapseSiderbarButton:"收起边栏",completionContextTooLongToast:"当前对话已超过上下文长度上限，",completionFrequentToast:"请求过于频繁，请稍后再试",completionNetworkErrorToast:"消息未能发送，请检查网络",completionPromptTooLongToast:"你输入的信息过长，请调整后重试",completionPromptTooLongToast_legacy:"你输入的信息过长，请调整后重试",completionServerBusyToast:"服务器繁忙，请稍后再试",completionServerBusyToast_legacy:"服务器繁忙，请稍后再试",completionServerErrorToast:"服务器暂时不可用",completionServerErrorToast_legacy:"服务器暂时不可用",completionWipNetworkErrorToast:"网络异常，请稍后重试",confirmCreateRole:"确认创建",confirmDeleteRoleContent:"删除后，该角色将不可恢复，与该角色的历史对话均不可继续。",confirmDeleteRoleTitle:"确认删除？",contentCaveat:"内容由 AI 生成，请仔细甄别",continueGenerationButton:"继续生成",cookieBannerAcceptAll:"接受全部",cookieBannerAcceptEssential:"仅接受必要 Cookies",cookieBannerDesc:"我们使用 Cookies 来提供和改进服务并进行安全防护。点击查看我们的 <a>Cookie 政策</a>。你可以选择接受全部，或仅接受必要 Cookies（可能导致部分功能无法正常使用）。",cookieBannerTitle:"Cookie 设置",copyCode:"复制",copyCodeOk:"复制成功",createRole:"创建角色",createRoleTooltip:"创建新角色",customRoleTooMany:"自定义角色已达个数上限",deactivatedSearchTooltip:"按需搜索网页",deactivatedThinkTooltip:"先思考后回答，解决推理问题",deepSeekChat:"通用对话 V2.5",deepSeekCoder:"代码助手 V2.5",deletAllHistoryFailedToast:"删除失败，请重试",deleteAllHistoryModalCancel:"取消",deleteAllHistoryModalConfirm:"确认删除",deleteAllHistoryModalConfirmText:"确认删除所有历史对话",deleteAllHistoryModalContent:"如点击确认删除，当前账号的所有历史对话将被清空，无法找回。",deleteAllHistoryModalTitle:"确认删除所有历史对话？",deleteAllHistoryOkToast:"删除成功",deleteFilesToSearchTooltip:"请先删除文件再开启联网搜索",deleteRole:"删除角色",deleteRoleButton:"删除",deleteRoleFailToast:"删除失败",deleteSessionFailedToast:"删除失败，请重试",deleteSessionModalContentCancelButton:"取消",deleteSessionModalContentConfirmButton:"删除",deleteSessionModalContentDescription:"删除后，该对话将不可恢复。确认删除吗？",deleteSessionModalContentTitle:"永久删除对话",deleteSessionOkToast:"删除成功",downloadAppInMobile:"下载应用",dragFileDesc:"最多支持 50 个文件，每个 100 MB，仅提取文字，接受 pdf、doc、xlsx、ppt、图片、文本、代码等",dragFileErrorTip:"上传的文件包含暂未支持的文件格式，请转换文件格式后重试。支持PDF、DOC、XLSX、PPT、图片、文本、代码等。",dragFileToUpload:"文件拖动到此处即可上传（仅提取文字）",editAvatar:"修改头像",editAvatarChooseColor:"选择颜色",editAvatarConfirm:"确定",editAvatarDefaultContent:"头像",editAvatarInputLabel:"自定义文字",editAvatarPlaceholder:"输入头像文字",editDisableTooltip:"该消息暂不支持修改",editMessageCancelButton:"取消",editMessageSendButton:"发送",editMessageTooltip:"修改",editRole:"编辑角色",editRoleTitle:"编辑角色",enableSearchTooltip:"DeepSeek 将在需要时联网搜索（已开启）",English:"English",eraseChatButton:"删除本页",errorPageReloadButton:"重新加载",errorPageTitle:"似乎出了点问题",expandSiderbarButton:"打开边栏",exploreRole:"探索新角色",exploreRolesOrCreateNew:"你可以探索以下角色，直接开启对话，或者点击侧边栏中的加号创建专属于你的新角色。",exploreRoleTooltip:"探索新角色",exportAllButton:"导出",exportAllDesc:"导出内容中将包含你的账号信息和所有历史对话。导出可能需要一段时间，下载链接的有效期为 7 天。",exportAllDownload:"下载",exportAllDownloadFailed:"下载失败。",exportAllExpiryNoticeDesc:(e,t,n)=>(0,a.jsxs)(a.Fragment,{children:["历史对话于 ",t," 导出，将于 ",n," 过期，",e," 将更新下载链接。"," "]}),exportAllFailed:"导出失败，请稍候重试。",exportAllLabel:"导出所有历史对话",exportAllLinkExpired:"链接已失效，请重新导出。",exportAllRateLimit:"导出过于频繁，请稍后重试。",exportAllReexportBtn:"重新导出",exportedHistoryTooltip:"导出旧版历史记录",fake:"虚假信息",falseInformation:"不实信息",feedbackFailedToast:"反馈失败，请重试",feedbackModalTitle:"反馈",feedbackOkToast:"反馈成功",feedbackPlaceholder:"我们想知道你对此回答不满意的原因，你认为更好的回答是什么？",fileContentTooLong:"文件内容过长",fileParseFailed:"解析失败",fileParseQueuing:"等待中...",filing:"浙ICP备2023025841号",footerICPAlgorithm2Title:"网信算备330105747635301240017号",footerICPAlgorithmTitle:"网信算备110108970550101240011号",footerICPModelTitle:"Beijing-DeepseekChat-202404280016",generatingDisableTooltip:"请在消息生成结束后操作",globalWatermark:e=>"内容由 AI 生成",goToExportHistory:"去导出",harmful:"有害/不安全",historyIsEmpty:"暂无历史对话",historyLoadFailed:e=>{let{renderRetryButton:t}=e;return(0,a.jsxs)(a.Fragment,{children:["加载失败，你可以\xa0",t("重试加载")]})},illegal:"违法违规",isSearching:"搜索中...",isThinking:"思考中...",logout:"退出登录",logoutAllDevices:"确认登出所有设备？",logoutAllDevicesButton:"登出",logoutAllDevicesCancel:"取消",logoutAllDevicesConfirm:"确认登出",logoutAllDevicesDesc:e=>"点击“".concat(e,"”后，当前账号将在所有已登录设备或浏览器中退出登录（包括当前设备）。"),logoutAllDevicesFail:"退出登录失败，请稍后重试",logoutAllDevicesTitle:"登出所有设备",logoutFail:"退出登录失败",menuToOpenPlatform:"开放平台",mermaidCode:"代码",mermaidDiagram:"图表",mermaidDownloadCode:"下载代码",mermaidDownloadPng:"下载 PNG",mermaidDownloadSvg:"下载 SVG",mermaidRenderFail:"渲染失败",mermaidZoomIn:"放大",mermaidZoomOut:"缩小",messageCopyButtonTooltip:"复制",messageDeleteButtonTooltip:"删除",messageDislikeButtonTooltip:"不喜欢",messageLikeButtonTooltip:"喜欢",messageModel:e=>"由 ".concat(e," 生成"),messageRenderError:"消息渲染似乎出现了一些问题，你可以向我们反馈。",messageSearching:"搜索中...",mobileHeaderTabChat:"通用对话 V2.5",mobileHeaderTabCoder:"代码助手 V2.5",muteAlert:e=>{let{muteUntil:t,renderContactUs:n}=e;return(0,a.jsxs)(a.Fragment,{children:["由于违反用户使用规范，你的账号已被禁言至 ",t,"，如有疑问请"," ",n({children:"联系我们"}),"。"]})},myRolesDropdown:"查看我的角色",myRolesPage:"我创建的角色",nameYourRole:"为你的角色命名",nonsense:"没有帮助",onboardingMsg:"我可以帮你写代码、读文件、写作各种创意内容，请把你的任务交给我吧~",onlyExtractTextFromFiles:"仅识别附件中的文字",other:"其他",porngraphicOrViolent:"色情暴力",previewFileFail:"打开文件时遇到了问题",previewTextTooLong:"文件内容较长，无法全部展示",profileEmailTitle:"邮箱",profilePhoneNumberTitle:"手机号码",profileUserName:"用户名",promptRolePlaceholder:"描述角色能做什么，如何做，应该避免做什么。示例：你是一个经验丰富的小学数学老师，你擅长使用具体的例子引导学生逐步思考，请详细地拆解问题，避免省略过程。",r1DescTooltip:"调用 DeepSeek-R1-Lite，解决复杂推理问题（已开启）",r1PowComputeFail:"当前操作遇到一些问题，请稍后再试",regenerate:"重新生成",regenerateNotAvailable:"该消息不支持重新生成",renameFailed:"重命名失败",report:"联系我们",reportFooterText:"联系我们：service@deepseek.com",reportTextareaPlaceholder:"请描述你的意见与建议。如有疑问，欢迎通过微信或邮箱与我们直接联系。",resend:"重新发送",resendButtonTooltip:"重试",revokeByServerDivider:"出于内容安全考虑，一条消息被撤回",roleAgainstUsageTermToast:"角色信息可能违反使用规范，请修改后重试",roleCreateSuccess:"角色创建成功",roleDesc:"角色开场白（选填）",roleDescExceedError:"欢迎语超出字数限制",roleEditSuccess:"角色编辑成功",roleLatestUpdatedAt:"最后修改",roleName:"角色名称",roleNameExceedError:"角色名超出字数限制",roleNotFound:"角色不存在",rolePromptExceedError:"设定描述超出字数限制",roleSysPrompt:"设定描述",runHtml:"运行",saveEditRole:"保存",scanDownloadApp:"扫码下载 DeepSeek APP",search:"联网搜索",searchFoundXSites:e=>{let{n:t}=e;return"已阅读 ".concat(t," 个网页")},searchGotNothing:"未搜索到合适的内容",searchNotSupportFiles:"联网搜索不支持上传文件",searchNotSupportThink:"联网搜索不支持深度思考",searchResult:"搜索结果",searchRole:"搜索",sendButtonContent:"发送",sendFeedback:"联系我们",serviceUnavailable:"服务暂时不可用",sessionHeaderModelNameChat:"通用对话 V2",sessionHeaderModelNameCoder:"代码助手 V2",sessionHistoryTimelineLabel30days:"30 天内",sessionHistoryTimelineLabel7days:"7 天内",sessionHistoryTimelineLabelToday:"今天",sessionHistoryTimelineLabelYesterday:"昨天",sessionItemMenuDeleteOption:"删除",sessionItemMenuRenameOption:"重命名",sessionLoadFailed:e=>{let{renderRetryButton:t}=e;return(0,a.jsxs)(a.Fragment,{children:["加载失败，你可以\xa0",t("重试加载")]})},setRoleIntroPlaceholder:"为角色设置开场白",setRoleNameError:"请填写角色名称",setRolePromptError:"请填写设定描述",settingDialogAsideAccountOptionLabel:"账号管理",settingDialogAsideDataOptionLabel:"数据管理",settingDialogAsideGeneralOptionLabel:"通用设置",settingDialogAsidePolicyOptionLabel:"服务协议",settingsAppearance:"外观",settingsDarkTheme:"深色主题",settingsLightTheme:"浅色主题",settingsLocalePreference:"语言",settingsLocalePreferenceSystem:"跟随系统",settingsSystemTheme:"跟随系统",share:"分享",shareButtonDisabledTooltip:"该消息不支持分享",shareContentWarning:"该对话来自分享，由 AI 生成，请仔细甄别。",shareContinueChat:"和 DeepSeek 继续聊",shareCreateLink:"创建分享链接",shareCreateLinkButton:"创建并复制",shareCreateLinkCopiedToast:"分享链接已复制",shareCreateLinkExceedLimitToast:"当前对话生成链接数达到上限",shareCreateLinkFailedToast:"生成链接失败",shareCreateLinkInform:"任何获得链接的人都可以查看你分享的对话，请检查是否包含敏感或隐私内容。",shareFile:"文件",shareFileNoPreview:"分享中的文件不支持展示",shareInvalid:"你访问的链接已失效",shareLinksManageButton:"管理",shareLinksManageCopy:"复制链接",shareLinksManageDelete:"删除",shareLinksManageDeleteConfirmDesc:"删除链接后，任何人无法通过该链接访问你分享的对话。",shareLinksManageDeleteConfirmTitle:"确认删除吗？",shareLinksManageDeleteFailedToast:"删除失败，请重试",shareLinksManageDeleteOkToast:"删除成功",shareLinksManageDescription:"我共享的链接",shareLinksManagementEmpty:"暂无共享的链接",shareLinksManageSharedAt:"共享于",shareNetworkError:"网络异常，请稍后重试",shareNotFound:"你访问的链接不存在",sharePanelNoShareable:"暂无可分享的消息",sharePluralMessageSelected:e=>"已选择 ".concat(e," 组对话"),shareSelectAll:"全选",shareSingularMessageSelected:e=>"已选择 ".concat(e," 组对话"),sidebarClose:"关闭",sidebarZoomIn:"放大",sidebarZoomOut:"缩小",siderButtonChatNewBadge:"全新",siderProfile:"个人信息",stopButtonContent:"停止",submit:"提交",supportEmail:"service@deepseek.com",suspectedCopyRightInfringement:"涉嫌侵权",systemServiceException:"系统服务异常",t:"连续访问次数过多，请休息一会儿",thinkingElapsed:e=>{let{secs:t}=e;return"已深度思考（用时 ".concat(t," 秒）")},thinkingStop:"思考已停止",thinkingSwitch:"深度思考",thinkingSwitchLabelDisabledTooltip:e=>{let{total:t}=e;return"今日使用次数已达上限，北京时间 24:00 刷新（".concat(t,"次/天）")},thinkingSwitchLabelDisabledTooltipNotPrepared:"正在更新深度思考次数，请稍后再试",thinkingSwitchQuotaDescription:e=>{let{left:t}=e;return"（今日剩余 ".concat(t," 次）")},thinkingSwitchQuotaDescriptionMobile:e=>{let{left:t}=e;return"（剩余 ".concat(t," 次）")},thinkNotSupportSearchTooltip:"深度思考不支持联网搜索",unsupportedFragment:"暂不支持展示的工具类型",untitledChat:"新对话",uploadFileButtonTooltip:()=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{role:"title",children:"上传附件（仅识别文字）"}),"最多 50 个，每个 100 MB，支持各类文档和图片"]}),uploadFileDeleteInvalidFilePrompt:"请删除异常文件再发送",uploadFileNotificationModalContent:()=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{children:"DeepSeek 文件上传功能全新上线！"}),(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"功能亮点："}),"一键提取文字，轻松阅读文档"]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"推荐场景："}),"可以精准提取中英文书籍、论文及常规电子文档中的文字"]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"优化建议："}),"包含大量图片、公式的文档上传 PDF 格式，效果最佳"]})]}),uploadFileNotificationModalOk:"我知道了",uploadFileNotificationModalTitle:"\uD83C\uDF89 功能上新",uploadFileStatusContentEmpty:"未提取到文字",uploadFileStatusContentFilter:"可能违反使用规范",uploadFileStatusContentFilterForMobile:"可能违反使用规范",uploadFileStatusFailed:"上传失败",uploadFileStatusParsing:"解析中...",uploadFileStatusUploading:"上传中...",uploadingFiles:"文件解析中...",uploadMax100MBSize:"单个文件大小超过限制（100 MB），请调整后重试",uploadMax50Files:"上传文件最多支持 50 个",uploadMultipleFileTokenCountExceededPrompt:e=>{let{percent:t}=e;return"DeepSeek 只能阅读全部文件的 ".concat(t,"%，请删减后发送")},uploadMultipleFileTokenCountExceededPrompt2:"超出字数限制，请删减后发送或开启新对话",usageEnvUnsafeTitle:"使用环境异常",usageEnvUnsafeWarn:"当前页面的使用环境可能存在数据和隐私泄露风险，为保障安全，建议您使用我们的官方产品。",userMessageEdit:"修改",viewConversationHistoryButton:"点击查看历史对话",viewPolicyButton:"查看",wechatQrCodeDescription:()=>(0,a.jsxs)(a.Fragment,{children:["扫码添加",(0,a.jsx)("br",{}),"DeepSeek 官方微信"]}),welcomeMessageChat:"你好，我是 DeepSeek V2.5 通用对话助手，有问题尽管问我。",welcomeMessageChat250808:"今天有什么可以帮到你？",welcomeMessageChatV2:"我是 DeepSeek，很高兴见到你！\n",welcomeMessageCode:"你好，我是 DeepSeek V2.5 代码助手，任何关于编程的问题，都可以问我。"},en_US:{adblockAlertText:"Your adblocker is on (AdGuard/AdBlock/uBlock). Please disable it for proper use.",adblockAlertTitle:"Disable Ad Blocker",ageGateConfirm:"Confirm",ageGateDesc:"For age verification only. Your information will not be disclosed.",ageGateMonth:"Month",ageGateNetworkError:"Operation failed, please try again later.",ageGateRejectText:"You do not meet the minimum age requirement to use this product.",ageGateTitle:"When were you born?",ageGateYear:"Year",ageGetInvalidDate:"Invalide date",agentSelectionCreateSessionSidebarTitle:"New chat",agentSelectionCreateSessionTooltip:"New chat",allowTrainingDescription:"Allow your content to be used to train our models and improve our services. We secure your data privacy.",allowTrainingSwitchLabel:"Improve the model for everyone",allowTrainingSwitchNetworkError:"Operation failed, please try again later.",alreadyInNewChatToast:"You're already in the latest chat",avartarMenuDownloadAppOption:"Download mobile App",avartarMenuSettingsDialogTitle:"Settings",avartarMenuSettingsOption:"Settings",avatarMenuSettingsDialogDeleteAccountItemLabel:"Delete account",avatarMenuSettingsDialogDeleteAllHistoryButton:"Delete all",avatarMenuSettingsDialogDeleteAllHistoryLabel:"Delete all chats",avatarMenuSettingsDialogExportOldHistoryButton:"Export",avatarMenuSettingsDialogExportOldHistoryFinishedLabel:"History exported, click to download",avatarMenuSettingsDialogExportOldHistoryLabel:"Export old version chats",avatarMenuSettingsDialogExportOldHistoryPendingLabel:"Exporting, please wait",avatarMenuSettingsDialogThemeItemLabel:"Theme",avatarMenuSettingsDialogThemeSelectDarkOption:"Dark",avatarMenuSettingsDialogThemeSelectLightOption:"Light",avatarMenuSettingsDialogThemeSelectSystemOption:"System",beyondTextLimit:e=>{let{file_usage_ratio:t}=e;return(0,a.jsxs)(a.Fragment,{children:["Length limit reached. DeepSeek can only read the first"," ",Math.max(1,Math.floor(t)),"%."]})},brandNewChatDivider:"Context cleared",cancel:"Cancel",cancelCreateRole:"Cancel",cancelDeleteRole:"Cancel",cancelEditRole:"Cancel",chatCannotContinueDueToRoleDeleted:"This role has been deleted. The chat cannot continue.",chatHtmlTitle:"Into the Unknown",chatInputEmptyPromptButtonTooltip:"Message is empty\n",chatInputNewChatButton:"New chat",chatInputNewChatButtonThinkingExceededPrompt:"We've exceeded the length limit for DeepThink. Let's start a new chat!",chatInputNewChatButtonTooltip:"Length limit exceeded. Your message will be sent to a new chat.",chatInputPlaceholder:"Send a message",chatInputPlaceholderChat:"Message DeepSeek",chatInputPlaceholderCoder:"Message Coder-V2",chatInputPlaceholderMobile:"Message",chatInputStopButtonTooltip:"Stop",Chinese:"中文",clearContext:"Clear context",clearContextDivider:"Context cleared",clickToSendCurMsgToNewChat:"Click here to send this message to a new chat.",codeDownload:"Download",collapseSiderbarButton:"Close sidebar",completionContextTooLongToast:"We’ve exceeded the length limit.",completionFrequentToast:"Too many requests. Please try again later.",completionNetworkErrorToast:"Check your internet connection and try again.",completionPromptTooLongToast:"The message you sent is too long. Please modify it and resend.",completionPromptTooLongToast_legacy:"The message you sent is too long. Please modify it and resend.",completionServerBusyToast:"Server busy, please try again later.",completionServerBusyToast_legacy:"Server busy, please try again later.",completionServerErrorToast:"Server is temporarily unavailable.",completionServerErrorToast_legacy:"Server is temporarily unavailable.",completionWipNetworkErrorToast:"Network error, please try again later.",confirmCreateRole:"Create",confirmDeleteRoleContent:"Are you sure you want to delete this role? This cannot be undone.",confirmDeleteRoleTitle:"Confiem deletion?",contentCaveat:"AI-generated, for reference only",continueGenerationButton:"Continue",cookieBannerAcceptAll:"Accept all cookies",cookieBannerAcceptEssential:"Necessary cookies only",cookieBannerDesc:"We use cookies to provide and improve services and ensure security. Click to view our <a>cookie policy</a>. You can choose to accept all or only necessary cookies, which may affect some functionalities.",cookieBannerTitle:"Cookie Settings",copyCode:"Copy",copyCodeOk:"Copied!",createRole:"Create role",createRoleTooltip:"Create role",customRoleTooMany:"Maximum roles created.",deactivatedSearchTooltip:"Search the web when necessary",deactivatedThinkTooltip:"Think before responding to solve reasoning problems",deepSeekChat:"DeepSeek-V2.5",deepSeekCoder:"Coder-V2.5",deletAllHistoryFailedToast:"Deletion failed. Please try again.",deleteAllHistoryModalCancel:"Cancel",deleteAllHistoryModalConfirm:"Confirm deletion",deleteAllHistoryModalConfirmText:"Confirm delete all chat history",deleteAllHistoryModalContent:"If you confirm deletion, all chat history for this account will be permanently erased and cannot be recovered.",deleteAllHistoryModalTitle:"Delete all chats?",deleteAllHistoryOkToast:"Successfully deleted.",deleteFilesToSearchTooltip:"Please remove the file before searching",deleteRole:"Delete role",deleteRoleButton:"Delete",deleteRoleFailToast:"Deletion failed",deleteSessionFailedToast:"Deletion failed. Please try again.",deleteSessionModalContentCancelButton:"Cancel",deleteSessionModalContentConfirmButton:"Delete",deleteSessionModalContentDescription:"Are you sure you want to delete this chat?",deleteSessionModalContentTitle:"Delete chat?",deleteSessionOkToast:"Successfully deleted.",downloadAppInMobile:"Get App",dragFileDesc:"Max 50 files per chat at 100MB each. Text extraction only.",dragFileErrorTip:"The uploaded file format is not supported. Supported formats include PDF, DOC, XLSX, PPT, images, text, and code.",dragFileToUpload:"Drop files here to add to chat (Text extraction only)",editAvatar:"Edit Avatar/Text",editAvatarChooseColor:"Choose Color",editAvatarConfirm:"Confirm",editAvatarDefaultContent:"Avatar",editAvatarInputLabel:"Text",editAvatarPlaceholder:"Enter avatar text",editDisableTooltip:"This message cannot be edited now",editMessageCancelButton:"Cancel",editMessageSendButton:"Send",editMessageTooltip:"Edit",editRole:"Edit role",editRoleTitle:"Edit role",enableSearchTooltip:"Search the web when necessary (Enabled)",English:"English",eraseChatButton:"Delete chat",errorPageReloadButton:"Reload page",errorPageTitle:"Something went wrong.",expandSiderbarButton:"Open sidebar",exploreRole:"Explore Deep Roles",exploreRolesOrCreateNew:"Discover the Deep Roles below or click the plus icon in the sidebar to create your own role.",exploreRoleTooltip:"Explore Deep Roles",exportAllButton:"Export",exportAllDesc:"This data includes your account information and all chat history. Exporting may take some time. The download link will be valid for 7 days.",exportAllDownload:"Download",exportAllDownloadFailed:"Download failed.",exportAllExpiryNoticeDesc:(e,t,n)=>(0,a.jsxs)(a.Fragment,{children:["Exported on ",t,", expires on ",n,". ",e," will update the download link."]}),exportAllFailed:"Export failed. Please retry later.",exportAllLabel:"Export data",exportAllLinkExpired:"Link expired. Please export again.",exportAllRateLimit:"Exporting too frequently. Please try again later.",exportAllReexportBtn:"Re-exporting",exportedHistoryTooltip:"Export old version chats",fake:"Fake",falseInformation:"Misinformation",feedbackFailedToast:"Feedback failed. Please try again.",feedbackModalTitle:"Feedback",feedbackOkToast:"Successfully submitted.",feedbackPlaceholder:"We appreciate your feedback. Please share any comments or suggestions that you have to help us improve.",fileContentTooLong:"Text limit exceeded",fileParseFailed:"Parsing failed",fileParseQueuing:"Pending...",filing:"Zhejiang ICP No. 2023025841 - 1",footerICPAlgorithm2Title:"网信算备330105747635301240017号",footerICPAlgorithmTitle:"网信算备110108970550101240011号",footerICPModelTitle:"Beijing-DeepseekChat-202404280016",generatingDisableTooltip:"Please wait until the message is generated",globalWatermark:e=>"Generated by AI",goToExportHistory:"Export",harmful:"Harmful / Unsafe",historyIsEmpty:"No chat history",historyLoadFailed:e=>{let{renderRetryButton:t}=e;return(0,a.jsxs)(a.Fragment,{children:["Failed to load, you can\xa0",t("retry loading"),"."]})},illegal:"Illegal",isSearching:"Searching the web...",isThinking:"Thinking...",logout:"Log out",logoutAllDevices:"Log out of all devices?",logoutAllDevicesButton:"Log out",logoutAllDevicesCancel:"Cancel",logoutAllDevicesConfirm:"Confirm Logout",logoutAllDevicesDesc:e=>'Clicking "'.concat(e,'" will sign you out of all devices and browsers, including this device.'),logoutAllDevicesFail:"Log out failed. Please try again later.",logoutAllDevicesTitle:"Log out of all devices",logoutFail:"Logout failed.",menuToOpenPlatform:"API Platform",mermaidCode:"Code",mermaidDiagram:"Diagram",mermaidDownloadCode:"Code",mermaidDownloadPng:"PNG",mermaidDownloadSvg:"SVG",mermaidRenderFail:"Mermaid rendering failed.",mermaidZoomIn:"Zoom in",mermaidZoomOut:"Zoom out",messageCopyButtonTooltip:"Copy",messageDeleteButtonTooltip:"Delete",messageDislikeButtonTooltip:"Dislike",messageLikeButtonTooltip:"Like",messageModel:e=>"Generated by ".concat(e),messageRenderError:"Something went wrong when rendering the message.\nPlease contact us for help.",messageSearching:"Searching...",mobileHeaderTabChat:"DeepSeek-V2.5",mobileHeaderTabCoder:"Coder-V2.5",muteAlert:e=>{let{muteUntil:t,renderContactUs:n}=e;return(0,a.jsxs)(a.Fragment,{children:["Due to violation of user policies, your account has been suspended until ",t,". If you have any questions, please ",n({children:"contact us"}),"."]})},myRolesDropdown:"My roles",myRolesPage:"My roles",nameYourRole:"Name your role",nonsense:"Unhelpful",onboardingMsg:"How can I help you today?",onlyExtractTextFromFiles:"Extract only text from images and files.",other:"Others",porngraphicOrViolent:"Porn / Violence",previewFileFail:"Preview failed",previewTextTooLong:"The document content is too long to display in full",profileEmailTitle:"Email address",profilePhoneNumberTitle:"Phone number",profileUserName:"Name",promptRolePlaceholder:"Describe what the role can do, how it does it, and what to avoid. Example: You are an experienced elementary math teacher skilled at guiding students step by step using concrete examples. Please break problems down in detail and avoid skipping steps.",r1DescTooltip:"Use DeepSeek-R1-Lite to solve complex reasoning problems (Enabled)",r1PowComputeFail:"Operation unsuccessful. Please retry later.",regenerate:"Regenerate",regenerateNotAvailable:"This message cannot be regenerated",renameFailed:"Rename failed",report:"Contact us",reportFooterText:"Contact us: service@deepseek.com",reportTextareaPlaceholder:"Please share your comments and suggestions. If you have any questions, feel free to contact us directly through WeChat or email.",resend:"Resend",resendButtonTooltip:"Retry",revokeByServerDivider:"A message was withdrawn for content security reasons",roleAgainstUsageTermToast:"Role information may violate usage terms. Please revise and try again.",roleCreateSuccess:"Role created successfully",roleDesc:"Greeting message",roleDescExceedError:"Greeting message is too long.",roleEditSuccess:"Update successfully",roleLatestUpdatedAt:"Latest update",roleName:"Name",roleNameExceedError:"Name is too long.",roleNotFound:"The role does not exist",rolePromptExceedError:"Instruction is too long.",roleSysPrompt:"Instructions",runHtml:"Run",saveEditRole:"Save",scanDownloadApp:"Scan to get DeepSeek App",search:"Search",searchFoundXSites:e=>{let{n:t}=e;return"Read ".concat(t," web pages")},searchGotNothing:"No suitable content found",searchNotSupportFiles:"Uploading files is unavailable for searching",searchNotSupportThink:"DeepThink is unavailable",searchResult:"Search results",searchRole:"Search",sendButtonContent:"Send",sendFeedback:"Contact us",serviceUnavailable:"Service is temporarily unavailable.",sessionHeaderModelNameChat:"DeepSeek-V2",sessionHeaderModelNameCoder:"Coder-V2",sessionHistoryTimelineLabel30days:"30 Days",sessionHistoryTimelineLabel7days:"7 Days",sessionHistoryTimelineLabelToday:"Today",sessionHistoryTimelineLabelYesterday:"Yesterday",sessionItemMenuDeleteOption:"Delete",sessionItemMenuRenameOption:"Rename",sessionLoadFailed:e=>{let{renderRetryButton:t}=e;return(0,a.jsxs)(a.Fragment,{children:["Failed to load, you can\xa0",t("retry loading"),"."]})},setRoleIntroPlaceholder:"Set an greeting message for the role",setRoleNameError:"Please enter a name.",setRolePromptError:"Please enter instructions.",settingDialogAsideAccountOptionLabel:"Profile",settingDialogAsideDataOptionLabel:"Data",settingDialogAsideGeneralOptionLabel:"General",settingDialogAsidePolicyOptionLabel:"About",settingsAppearance:"Appearance",settingsDarkTheme:"Dark Theme",settingsLightTheme:"Light Theme",settingsLocalePreference:"Language",settingsLocalePreferenceSystem:"System",settingsSystemTheme:"System (automatic)",share:"Share",shareButtonDisabledTooltip:"This message cannot be shared",shareContentWarning:"This conversation is shared and generated by AI, for reference only.",shareContinueChat:"Continue with DeepSeek",shareCreateLink:"Create public link",shareCreateLinkButton:"Create and copy",shareCreateLinkCopiedToast:"Link copied.",shareCreateLinkExceedLimitToast:"The chat has reached the link generation limit.",shareCreateLinkFailedToast:"Failed to generate the link.",shareCreateLinkInform:"Anyone with the link can view the conversation you’ve shared. Please check for sensitive or private content.",shareFile:"File",shareFileNoPreview:"Shared files can't be displayed",shareInvalid:"The link you accessed has expired.",shareLinksManageButton:"Manage",shareLinksManageCopy:"Copy link",shareLinksManageDelete:"Delete",shareLinksManageDeleteConfirmDesc:"Once the link is deleted, no one can access the conversation through it.",shareLinksManageDeleteConfirmTitle:"Confirm deletion?",shareLinksManageDeleteFailedToast:"Deletion failed. Please try again.",shareLinksManageDeleteOkToast:"Successfully deleted.",shareLinksManageDescription:"Shared links",shareLinksManagementEmpty:"No shared links",shareLinksManageSharedAt:"Shared on",shareNetworkError:"Network error, please try again later.",shareNotFound:"The link you accessed does not exist.",sharePanelNoShareable:"No messages to share",sharePluralMessageSelected:e=>"".concat(e," conversation turns selected"),shareSelectAll:"Select all",shareSingularMessageSelected:e=>"".concat(e," conversation turn selected"),sidebarClose:"Close",sidebarZoomIn:"Zoom in",sidebarZoomOut:"Zoom out",siderButtonChatNewBadge:"NEW",siderProfile:"My Profile",stopButtonContent:"Stop",submit:"Submit",supportEmail:"service@deepseek.com",suspectedCopyRightInfringement:"Allegedly infringed",systemServiceException:"System temporarily unavailable",t:"Too many requests. Try again later.",thinkingElapsed:e=>{let{secs:t}=e;return"Thought for ".concat(t," seconds")},thinkingStop:"Thinking stopped",thinkingSwitch:"DeepThink",thinkingSwitchLabelDisabledTooltip:e=>{let{total:t}=e;return"You're out of DeepThink messages until 12:00 AM Beijing Time (".concat(t," messages per day).")},thinkingSwitchLabelDisabledTooltipNotPrepared:"Updating DeepThink messages, please try again later.",thinkingSwitchQuotaDescription:e=>{let{left:t}=e;return" (".concat(t," messages left today)")},thinkingSwitchQuotaDescriptionMobile:e=>{let{left:t}=e;return" (".concat(t," left)")},thinkNotSupportSearchTooltip:"Search is unavailable",unsupportedFragment:"Tool type not supported for display",untitledChat:"New chat",uploadFileButtonTooltip:()=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{role:"title",children:"Text extraction only."}),"Upload docs or images (Max 50, 100MB each)"]}),uploadFileDeleteInvalidFilePrompt:"Remove failed files to submit.",uploadFileNotificationModalContent:()=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{children:"DeepSeek's file upload feature is now live!"}),(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"Key feature: "})," One-click text extraction for effortless document reading."]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"Ideal for:"})," Accurately extracting text from Chinese and English books, academic papers, and standard electronic documents."]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"Pro tip:"})," For documents with images or formulas, upload in PDF format for best results."]})]}),uploadFileNotificationModalOk:"Got it",uploadFileNotificationModalTitle:"\uD83C\uDF89 New Feature",uploadFileStatusContentEmpty:"No text extracted",uploadFileStatusContentFilter:"May violate terms",uploadFileStatusContentFilterForMobile:"May violate terms",uploadFileStatusFailed:"Upload failed",uploadFileStatusParsing:"Parsing...",uploadFileStatusUploading:"Uploading...",uploadingFiles:"Parsing file...",uploadMax100MBSize:"You may not upload files larger than 100MB.",uploadMax50Files:"You can add at most 50 attachments to a message. Please select fewer attachments.\n",uploadMultipleFileTokenCountExceededPrompt:e=>{let{percent:t}=e;return"DeepSeek can only read  ".concat(t,"% of all files. Try replacing the attached files with smaller excerpts.")},uploadMultipleFileTokenCountExceededPrompt2:"Length limit reached. Try shortening or start a new chat.",usageEnvUnsafeTitle:"Abnormal usage environment",usageEnvUnsafeWarn:"The current usage environment may pose data and privacy risks. For your security, we recommend using our official product.",userMessageEdit:"Edit",viewConversationHistoryButton:"View history",viewPolicyButton:"View",wechatQrCodeDescription:()=>"Scan QR Code to contact customer service.",welcomeMessageChat:"Hi, I'm DeepSeek V2.5 Chat assistant. Feel free to ask me anything!",welcomeMessageChat250808:"How can I help you?",welcomeMessageChatV2:"Hi, I'm DeepSeek.",welcomeMessageCode:"Hi, I'm DeepSeek V2.5 Coder. Feel free to ask me anything about coding."}};n(9053);var e_=n(27096);let ey=()=>{},ew=(0,ex.ju)({getTracker:()=>eI.tracker,getHttpService:()=>eI.http,getChallengeUrl:"/api/v0/users/create_guest_challenge",solveChallenge:ef.xN,showErrorToast:(e,t)=>{eI.withToast(e=>{let n=eT.getTranslate()("completionWipNetworkErrorToast");e.error({node:n,description:JSON.stringify({url:t,text:n})})})},encoder:btoa}),eI=function(e){var t,n,d;let m=()=>{let t=e.user.getMemoryToken();if(t.token)return{token:t.token,source:"memory"};{let e=U.get();return e?{token:e,source:"localStorage"}:{token:null,source:"memory"}}},f=null===(t=e.ip.debugMock)||void 0===t?void 0:t.ip,x=f?()=>f:()=>B.getState().ip,b=f?()=>f:()=>B(e=>e.ip),_=null===(n=e.ip.debugMock)||void 0===n?void 0:n.region,T=_?()=>_:()=>B.getState().region,k=_?()=>_:()=>B(e=>e.region),{tracker:M,logger:j,withError:R,switchToConsoleChannel:A}=(0,l.Se)({customEventsApi:e.customEventsApi,lylaAdapter:i.V,staticEnv:e.staticEnv}),{monitor:N,http:L,httpClientErrorType:F,HTTP_CLIENT_ERROR:O,isHttpClientError:P,withDefaultHttpContext:D}=function(e){let{lylaAdapter:t,tracker:n,locale:{useLocale:a,getLocale:r},logger:o,withError:i,baseUrl:l,onToast:d,user:c,chat:u,staticEnv:m,cloudflareEnabled:f,onBeforeRequestInit:x}=e,S=new E;function b(e,t,a,r,o,i,l){let p=[h.Ts.MISSING_TOKEN,h.Ts.INVALID_TOKEN];if(a===h.Ts.USER_IS_BANNED)return d({level:"error",node:(0,s.createElement)(C("userIsBannedToast",i)),description:r("userIsBannedToast"),dedupeKey:"userIsBannedToast"}),c.onIsBanned(),t.unauthorizedReason="banned",{error:"userIsBanned",detail:null};if([h.Ts.POW_HEADER_ERROR,h.Ts.INVALID_POW_RESPONSE].includes(a))return d({level:"error",node:(0,s.createElement)(C("invalidPowResponseToast",i)),description:"".concat(r("invalidPowResponseToast"),", code: ").concat(a,", id: ").concat(t.logId),dedupeKey:"invalidPowResponseToast"}),{error:"invalidPowResponse",detail:null};if(p.includes(a)){switch(d({level:"error",node:(0,s.createElement)(C("invalidTokenToast",i)),description:r("invalidTokenToast"),dedupeKey:"invalidTokenToast"}),c.onTokenInvalid(),a){case h.Ts.MISSING_TOKEN:t.unauthorizedReason="missingToken";break;case h.Ts.INVALID_TOKEN:t.unauthorizedReason="invalidToken",n.error({name:"tokenInvalid",message:"用户 token 无效",payload:{requestHeaders:l.requestOptions.headers,responseHeaders:l.headers}})}return{error:"tokenInvalid",detail:null}}if(a===h.Ts.IP_ACCESS_RESTRICTED)return c.onIpAccessRestricted(),d({level:"error",node:(0,s.createElement)(C("ipAccessRestrictedToast",i)),description:r("ipAccessRestrictedToast"),dedupeKey:"ipAccessRestrictedToast"}),{error:"ipAccessRestricted",detail:null};if(a===h.Ts.MUTED){let t=0;if(e&&"object"==typeof e&&"data"in e){let n=e.data;if(n&&"object"==typeof n&&"end_at"in n){let e=n.end_at;"number"==typeof e&&(t=1e3*e)}}return u.onMuted({muteUntil:t}),{error:"muted",detail:null}}else if(a!==h.Ts.OK&&!o)return{error:"others",detail:"HTTP response code is ".concat(a,", and [context.mayMissingApiCode] is falsy")};else return{error:"none",detail:null}}let{lyla:_,isLylaError:I}=(0,p.w)(t,{baseUrl:l,context:h.bF,hooks:{onInit:[e=>{let t=w++;return e.context.id=t,e},async e=>(x&&await x(e),S.addRequest({requestOptions:e,id:e.context.id}),e)],onBeforeRequest:[e=>{var t;let a=(e.url||"").split("?")[0];if(e.context.path=a,e.context.startTime=Date.now(),n.info({name:"__httpRequest",message:"httpRequest ".concat(null===(t=e.method)||void 0===t?void 0:t.toUpperCase()," ").concat(e.url||""),payload:{url:e.url||"",path:a,method:e.method||""}}),e.headers||(e.headers={}),e.headers["X-App-Version"]=m.appVersion,!e.context.withToken)return e;let{token:r,source:s}=c.getToken();return r&&(e.headers.Authorization="Bearer ".concat(r),e.context.tokenSource=s),e}],onHeadersReceived:[e=>{var t;let{headers:n,requestOptions:a}=e,r=null!==(t=n["x-ds-trace-id"])&&void 0!==t?t:h.WN;a.context.logId=r}],onAfterResponse:[(e,t)=>{var s;S.removeRequest(e.context.id);let l=Date.now()-e.context.startTime;e.context.duration=l;let d=e.requestOptions.method||"",c=e.requestOptions.url||"",u=null!==(s=e.headers["x-ds-trace-id"])&&void 0!==s?s:h.WN;e.context.logId=u;let p=null,g=null;try{"text"===e.requestOptions.responseType?(p=e.json.code,g=e.json):p=h.Ts.OK}catch(t){o.debug("解析响应为 json 出错",{consoleOnlyArgs:[e.body.slice(0,100)]})}let m=v(r()),{error:f,detail:C}=b(g,e.context,p,m,e.context.mayMissingApiCode,a,e);if("none"===f)n.info({name:"__httpResponse",message:"httpResponse ".concat(d.toUpperCase()," ").concat(e.requestOptions.url||"",", ").concat(l,"ms, reason: ").concat(f),payload:{url:c,path:e.context.path,method:d,metricDuration:l,status:"".concat(e.status),logId:u}});else{let a=Error("HTTP response code is ".concat(p,", error: ").concat(f,", detail: ").concat(C," (logId: ").concat(u,", url: ").concat(c,")"));a.name="BIZ_ERROR[".concat(p,"]"),n.error({name:"__httpResponse",message:"httpResponse ".concat(d.toUpperCase()," ").concat(e.requestOptions.url||"",", ").concat(l,"ms, reason: ").concat(f),payload:i(a,{url:c,path:e.context.path,method:d,metricDuration:l,status:"".concat(e.status),logId:u,errorType:"biz",code:"".concat(p)})}),t(a)}return e}],onResponseError:[(e,t)=>{var s,l,d,c,u,p,C,x;S.removeRequest(e.context.id);let{requestOptions:E}=e,_=Date.now()-E.context.startTime;e.context.duration=_;let y=E.method||"",w=E.url||"";m.dev&&e.type===g.PF.ABORTED&&o.debug("丢弃请求");let I=h.WN;if(e.response&&(I=null!==(c=e.response.headers["x-ds-trace-id"])&&void 0!==c?c:h.WN,e.response.context.logId=I),e.response){let s=null,l=null;try{"text"===e.response.requestOptions.responseType?(s=e.response.json.code,l=e.response.json):s=h.Ts.OK}catch(t){o.debug("解析响应为 json 出错",{consoleOnlyArgs:[e.response.body]})}let d=v(r()),{error:c,detail:u}=b(l,e.context,s,d,!0,a,e.response);if("none"!==c){let a=Error("HTTP response code is ".concat(s,", error: ").concat(c,", detail: ").concat(u," (logId: ").concat(I,", url: ").concat(w,")"));a.name="BIZ_ERROR[".concat(s,"]"),n.error({name:"__httpResponse",message:"httpResponse ".concat(y.toUpperCase()," ").concat(e.response.requestOptions.url||"",", ").concat(_,"ms, reason: ").concat(c),payload:i(a,{url:w,path:e.response.context.path,method:y,duration:_,metricDuration:_,status:"".concat(e.response.status),logId:I,errorType:"biz",code:"".concat(s)})}),t(e);return}}if(f&&(null===(s=e.response)||void 0===s?void 0:s.status)===403&&(null===(l=e.response)||void 0===l?void 0:l.headers["cf-mitigated"])==="challenge"&&(null===(d=e.response)||void 0===d?void 0:d.body)){let a=Error("HTTP response challenged (logId: ".concat(I,", url: ").concat(w,")"));a.name="CF_CHALLENGED",e.context.unauthorizedReason="cfChallenged",n.error({name:"__httpResponse",message:"httpResponse ".concat(y.toUpperCase()," ").concat(w,", ").concat(_,"ms"),payload:i(a,{url:w,method:y,duration:_,metricDuration:_,path:e.context.path,status:"".concat(null!==(p=null===(u=e.response)||void 0===u?void 0:u.status)&&void 0!==p?p:-1),logId:I,errorType:"client",code:"challenged"}),options:{consoleOnlyArgs:[e]}}),t(e);return}if(e.type!==g.PF.ABORTED){n.error({name:"__httpResponse",message:"httpResponse ".concat(y.toUpperCase()," ").concat(w,", ").concat(_,"ms"),payload:i(e,{url:w,method:y,duration:_,metricDuration:_,path:e.context.path,status:"".concat(null!==(x=null===(C=e.response)||void 0===C?void 0:C.status)&&void 0!==x?x:-1),logId:I,errorType:"client",code:"none"}),options:{consoleOnlyArgs:[e]}});return}}],onNonResponseError:[e=>{S.removeRequest(e.context.id),e.type!==g.PF.INVALID_JSON&&n.error({name:"__httpNonResponseError",message:e.message,payload:i(e,{})})}]}}),T=_.withRetry({createState:()=>({}),onResolved:async e=>{let{response:t}=e;return{action:"resolve",value:t}},onRejected:async e=>{let{error:t,options:n}=e;return"cfChallenged"===t.context.unauthorizedReason?(await y(),{action:"retry",value:()=>n}):{action:"reject",value:t}}});return{http:T,monitor:S,httpClientErrorType:T.errorType,HTTP_CLIENT_ERROR:g.PF,withDefaultHttpContext:function(e){return{...h.bF,...e}},isHttpClientError:I}}({lylaAdapter:i.V,locale:{useLocale:ex,getLocale:ev},baseUrl:e.http.baseUrl,logger:j,tracker:M,withError:R,onToast:e=>{let{level:t,node:n,dedupeKey:a,description:r}=e;eM(e=>{e[t]({node:n,description:r},{dedupeKey:a})})},user:{getStatus:e.user.getStatus,getToken:m,onIpAccessRestricted:e.user.onIpAccessRestricted,onIsBanned:e.user.onIsBanned,onTokenInvalid:e.user.onTokenInvalid},chat:{onMuted:e.chat.onMuted},staticEnv:e.staticEnv,cloudflareEnabled:e.http.cloudflareEnabled,onBeforeRequestInit:e.http.onBeforeRequestInit}),{useApp:B,storageHandles:H,userTokenStorageHandle:U,debugPanelEnabledStorageHandle:G,DebugPanel:Z,toggleDebugPanel:q,eventbus$:et,bannerStorageHandle:es,getLastSessionValue:eo,useLastSessionValue:el,setLastSessionValue:ed,visibilityChange$:ef}=function(e){let{appConfig:t,tracker:n,withError:o}=e,i=new S.x,l=new X.X(!c.jU||!document.hidden),d=new u({onGetError:(e,t)=>{let{key:a,value:r}=t;n.error({name:"__parseStorageValueFailed",message:"解析 storage 值失败",payload:o(e,{key:a,value:null===r?"null":r})})}}),h=t.createStorageHandles({storageHandleManager:d}),p=d.create("userToken",null,null),g={};for(let e in t.fg.defaultValue)g[e]=d[t.fg.defaultValue[e].saveToLocalStorage?"create":"createMock"]("__appKit_".concat(t.id,"_fg_").concat(e),t.fg.defaultValue[e].value,t.fg.defaultValue[e].storageVersion);let m=d.create("__appKit_".concat(t.id,"_debugPanelEnabled"),!1,null),{DebugPanel:f,toggleDebugPanel:C}=function(e){let{debugPanelEnabledStorageHandle:t,debugPanelFoldStorageHandle:n,debugPanelPositionStorageHandle:r}=e,o=e=>t.set(null!=e?e:!t.get()),i=e=>n.set(null!=e?e:!n.get());return{DebugPanel:function(e){let{items:l,className:d}=e,[c]=t.useState(),[u]=n.useState(),h=(0,a.jsx)("div",{style:{height:1,background:"#fff6",margin:"4px 0"}}),p=l.some(e=>e.alwaysShow)||c,g=ec(r),{divRef:m,style:f}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{initialPosition:t={x:20,y:20},boundaryPadding:n=10,disabled:a=!1,snapThreshold:r=20}=e,[o,i]=(0,s.useState)(t),[l,d]=(0,s.useState)(!1),c=(0,s.useRef)(null),u=(0,s.useRef)({x:0,y:0}),h=(0,s.useRef)({width:window.innerWidth,height:window.innerHeight}),p=(0,s.useCallback)(function(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!c.current)return{x:e,y:t};let s=c.current,o=window.innerWidth,i=window.innerHeight,d=s.offsetWidth,u=s.offsetHeight,h=Math.max(n,Math.min(e,o-d-n)),p=Math.max(n,Math.min(t,i-u-n));return(a||!l)&&(h<r+n&&(h=n),o-(h+d)<r+n&&(h=o-d-n),p<r+n&&(p=n),i-(p+u)<r+n&&(p=i-u-n)),{x:h,y:p}},[n,l,r]),g=(0,s.useCallback)(()=>{i(t)},[t]),m=(0,s.useCallback)(e=>{if(!a&&(d(!0),c.current)){let t=c.current.getBoundingClientRect();u.current={x:e.clientX-t.left,y:e.clientY-t.top}}},[a]),f=(0,s.useRef)(e.onDrag);f.current=e.onDrag;let C=(0,s.useCallback)(e=>{var t;if(!l)return;let{x:n,y:a}=p(e.clientX-u.current.x,e.clientY-u.current.y);null===(t=f.current)||void 0===t||t.call(f),i({x:n,y:a})},[l,p]),v=(0,s.useCallback)(()=>{d(!1),c.current&&i(e=>p(e.x,e.y,!0))},[p]),x=(0,s.useCallback)(()=>{if(!c.current)return;let e=window.innerWidth,t=window.innerHeight;e<h.current.width||t<h.current.height?i(e=>p(e.x,e.y,!0)):i(e=>p(e.x,e.y,!1)),h.current={width:e,height:t}},[p]);return(0,s.useEffect)(()=>{let e=c.current;return e&&e.addEventListener("mousedown",m),window.addEventListener("mousemove",C),window.addEventListener("mouseup",v),window.addEventListener("resize",x),()=>{e&&e.removeEventListener("mousedown",m),window.removeEventListener("mousemove",C),window.removeEventListener("mouseup",v),window.removeEventListener("resize",x)}},[m,C,v,x]),(0,s.useEffect)(()=>{i(e=>p(e.x,e.y))},[]),{divRef:c,style:{position:"fixed",top:"".concat(o.y,"px"),left:"".concat(o.x,"px"),cursor:a?"default":l?"grabbing":"default"},isDragging:l,reset:g}}({disabled:!1,initialPosition:g.getInitialPosition(),onDrag:()=>g.update(m.current)});return p?(0,a.jsxs)("div",{ref:m,className:d,style:{borderRadius:8,fontSize:12,lineHeight:1.2,padding:8,color:"#fff",zIndex:1e3,backgroundColor:"rgba(0, 0, 0, 0.75)",width:u?100:300,...f},children:[(0,a.jsx)("button",{onClick:()=>i(),children:u?"Debug":"收起"}),!u&&(0,a.jsx)("button",{onClick:()=>o(!1),style:{marginLeft:"1em",color:"red"},children:"关闭"}),u?null:h,u?null:l.map((e,t)=>{if(!e.alwaysShow&&!c)return null;let n=0!==t;switch(e.type){case"text":return(0,a.jsxs)(s.Fragment,{children:[n?h:null,(0,a.jsx)("div",{children:e.label},t)]},t);case"button":return(0,a.jsxs)(s.Fragment,{children:[n?h:null,(0,a.jsx)("button",{onClick:e.onClick,style:{padding:"2px 8px",borderRadius:4,fontSize:12,lineHeight:1.2},children:e.label}),(0,a.jsx)("div",{children:e.desc})]},t)}})]}):null},toggleDebugPanel:o}}({debugPanelEnabledStorageHandle:m,debugPanelFoldStorageHandle:d.create("__appKit_debugPanelFold",!1,null),debugPanelPositionStorageHandle:d.create("__appKit_debugPanelPosition","0.000#0.000",null)}),v=d.create("__appKit_".concat(t.id,"_banner"),{closedBannerId:null,cachedBannerOptions:null},null),x=(0,r.Ue)((e,n)=>{let a=t.theme.defaultPreference,r=null;t.theme.saveToLocalStorage&&(a=(r=d.create("__appKit_".concat(t.id,"_themePreference"),t.theme.defaultPreference,t.theme.localStorageVersion)).get());let s=null,o=t.locale.defaultPreference;t.locale.saveToLocalStorage&&(o=(s=d.create("__appKit_".concat(t.id,"_localePreference"),t.locale.defaultPreference,t.locale.localStorageVersion)).get());let l=null,u=!1;t.debug.saveToLocalStorage&&(u=(l=d.create("__appKit_".concat(t.id,"_debug"),!1,null)).get());let{defaultRegion:h,defaultIp:p}=function(){var e,t;if(!c.jU)return{defaultIp:"__IP__",defaultRegion:"__REGION__"};let n=null===(e=document.querySelector("meta[name=ip]"))||void 0===e?void 0:e.content,a=null===(t=document.querySelector("meta[name=region]"))||void 0===t?void 0:t.content;return{defaultIp:n&&"__IP__"!==n?n:null,defaultRegion:a&&"__REGION__"!==a?a:null}}();return{themePreference:a,localePreference:o,visible:!!c.jU&&!document.hidden,debug:u,region:h,ip:p,isIpLoading:null===h&&null===p,getFgByKey:e=>g[e].get(),useFgByKey:e=>g[e].useState(),setFgByKey:(e,t)=>g[e].set(t),setThemePreference:t=>{null==r||r.set(t),i.next({name:"themePreferenceChange",payload:t}),e(e=>({...e,themePreference:t}))},setLocalePreference:t=>{i.next({name:"localePreferenceChange",payload:[t,n().localePreference]}),null==s||s.set(t),e(e=>({...e,localePreference:t}))},setDebug:n=>{t.debug.saveToLocalStorage&&(null==l||l.set(n)),e(e=>({...e,debug:n}))}}}),{useLastSessionValue:E,setLastSessionValue:b,getLastSessionValue:_}=function(e,t,n){let a={};for(let e in n)a[e]=n[e].defaultValue;let r=e.create("__appKit_".concat(t,"_lastSessionValue"),a,null),s=r.get(),o={};for(let e in n)o[e]=void 0===s[e]?n[e].defaultValue:s[e];return r.set(o),{useLastSessionValue:function(){return r.useState()},getLastSessionValue:function(){return r.get()},setLastSessionValue:function(e){let t=e(r.get());r.set(t)}}}(d,t.id,t.lastSessionValue);return{eventbus$:i,userTokenStorageHandle:p,debugPanelEnabledStorageHandle:m,bannerStorageHandle:v,useApp:x,storageHandles:h,getLastSessionValue:_,useLastSessionValue:E,setLastSessionValue:b,DebugPanel:f,toggleDebugPanel:C,visibilityChange$:l}}({appConfig:e,withError:R,tracker:M});G.subscribe(e=>{e&&A("debugPanel")},{immediately:!0});let eC=f?()=>!1:()=>B(e=>e.isIpLoading);function ev(){return $(B)}function ex(){return Q(B(e=>e.localePreference))}let eS=f&&_?"CN"===_?()=>!0:()=>!1:()=>{let e=B(e=>e.region);return!!(B(e=>e.isIpLoading)||null===e)||"CN"===e},eE=(d={onError:(e,t)=>{M.error({name:"__componentDidCatch",message:"ErrorBoundary onError",payload:R(e,{componentStack:t.componentStack||"[none]"}),options:{consoleOnlyArgs:[e,t]}})}},function(e){let t=e.onError,n=(0,s.useCallback)((e,n)=>{d.onError(e,n),null==t||t(e,n)},[t]);return(0,a.jsx)(I,{...e,onError:n})}),{PageVisit:eb,NextPageVisitRecorder:e_,NextPageVisitSetup:ey,ttiReporter:ew}=function(e){let{tracker:t,getTheme:n}=e,r={},o=new ee(t);return{ttiReporter:o,PageVisit:function(e){let{children:i}=e,l=c.jU?window.location.pathname:"",d=(0,s.useRef)(!1),u=(0,s.useRef)(-1),h=(0,s.useRef)(0);return(0,s.useMemo)(()=>{l in r||(r[l]=0),h.current=r[l]},[l]),(0,s.useEffect)(()=>{let e=o.getCurrentDuration(),a=h.current;u.current=e,t.info({name:"__pageVisit",message:"访问页面 [".concat(l,"] [").concat(a,"]：").concat(e,"ms"),payload:{pathname:l,metricVisitIndex:a,metricDuration:e,referrer:document.referrer||"none",appTheme:n()}}),d.current||o.report(l,a,u.current,!1),r[l]=a+1},[l]),(0,a.jsx)(J.Provider,{value:(0,s.useMemo)(()=>({reportTti:e=>{o.report(l,h.current,u.current,e)},ttiIsTakenOverRef:d}),[l]),children:i})},NextPageVisitRecorder:function(){let e=c.jU?window.location.pathname:"",a=(0,s.useMemo)(()=>c.jU?(e in r||(r[e]=0),r[e]):0,[e]),i=(0,s.useRef)(-1);return(0,s.useEffect)(()=>{let s=o.getCurrentDuration();i.current=s,t.info({name:"__pageVisit",message:"访问页面 [".concat(e,"] [").concat(a,"]：").concat(s,"ms"),payload:{pathname:e,metricVisitIndex:a,metricDuration:s,referrer:document.referrer||"none",appTheme:n()}}),o.report(e,a,i.current,!1),r[e]=a+1},[]),null},NextPageVisitSetup:function(e){let{usePathname:t}=e,n=t();return(0,s.useMemo)(()=>{o.resetNavigationStartTime()},[n]),null}}}({tracker:M,getTheme:()=>B.getState().themePreference}),{notificationContextReceiverNode:eI,withNotification:eT}=function(){let e=[],t={current:null};return{withNotification:n=>{t.current?n(t.current):e.push(n)},notificationContextReceiverNode:(0,a.jsx)(W,{setNotification:n=>{t.current||(t.current=n,e.forEach(e=>e(n)))}})}}(),{toastContextReceiverNode:ek,withToast:eM}=function(){let e=[],t={current:null};return{withToast:n=>{t.current?n(t.current):e.push(n)},toastContextReceiverNode:(0,a.jsx)(z,{setToast:n=>{t.current||(t.current=n,e.forEach(e=>e(n)))}})}}(),ej=c.jU?Y.parse(navigator.userAgent).platform.type:void 0,eR=!!c.jU&&("mobile"===ej||"tablet"===ej),eA=function(e){let{useLocale:t,http:n,withDefaultHttpContext:r,bannerApiUrl:o,bannerStorageHandle:i,logger:l,ErrorBoundary:d,mock:c,appId:u}=e;if("@deepseek/chat"!==u&&"@deepseek/blog"!==u&&"@deepseek/platform"!==u||!o)return()=>null;let h=function(e){let{condition:d,deployEnv:h,style:p,className:g,theme:m}=e,[f,C]=i.useState(),{data:v}=c?{data:{json:c,body:""}}:(0,eu.ZP)(o,()=>n.get(o,{context:r({withToken:!1,mayMissingApiCode:!0})}).then(e=>{let{json:t,body:n}=e;return{json:t,body:n}}),{onSuccess:e=>{let{json:t,body:n}=e;try{if(!eg(t)){l.error("banner 数据格式错误：".concat(n));return}let e=em(t,u);if(!e){l.info("没有match的banner option, 关闭banner"),C({...f,closedBannerId:t.id});return}C({...f,cachedBannerOptions:e}),e.id!==f.closedBannerId&&_(!0)}catch(e){l.error("解析 banner 数据失败：".concat(e,", ").concat(n))}}}),x=(0,s.useMemo)(()=>{try{let e=v?v.json:f.cachedBannerOptions;if(eg(e))return em(e,u);return l.error("banner 数据格式错误：".concat(JSON.stringify(e))),null}catch(e){return l.error("解析 banner 数据失败：".concat(e)),null}},[v,f.cachedBannerOptions]),S=(0,s.useMemo)(()=>x?x.items.find(e=>e.showCondition.includes(d)&&e.showDeployEnv.includes(h)):null,[d,h,x]),E=t(),[b,_]=(0,s.useState)(()=>!!x&&f.closedBannerId!==x.id);if(!x||!S||!S.show||!b)return null;let y=S.content[E];return S.type&&y&&x.id?(0,a.jsx)(eh,{type:S.type,closable:S.closable,style:p,className:g,theme:m,onClose:()=>{_(!1),C({...f,closedBannerId:x.id})},children:(0,a.jsx)(ep.C,{showMarkdownLink:!0,aProps:{style:{textDecoration:"underline"},theme:{boxShadowColorFocus:"currentColor",textColor:"inherit"}},children:y})}):null};return function(e){return(0,a.jsx)(d,{renderFallback:()=>null,children:(0,a.jsx)(h,{...e})})}}({useLocale:ex,bannerStorageHandle:es,http:L,logger:j,withDefaultHttpContext:D,bannerApiUrl:e.banner.bannerApiUrl,ErrorBoundary:eE,mock:e.banner.mock,appId:e.id});!function(e){let{tracker:t,withError:n}=e;c.jU&&(window.addEventListener("error",e=>{t.error({name:"__globalError",message:"window.onerror",payload:n(e.error,{event:"error",message:e.message,filename:e.filename,lineno:"".concat(e.lineno),colno:"".concat(e.colno)}),options:{consoleOnlyArgs:[e]}})}),window.addEventListener("unhandledrejection",e=>{t.error({name:"__globalError",message:"window.onunhandledrejection",payload:n(e.reason,{event:"unhandledrejection"}),options:{consoleOnlyArgs:[e]}})}))}({tracker:M,withError:R}),c.jU&&c.mL&&document.body.classList.add("apple"),function(e){let{useApp:t,eventbus$:n}=e;if(!c.jU)return;let a=$(t);document.body.classList.add(a),en(a),n.subscribe({next:e=>{let{name:t,payload:n}=e;if("localePreferenceChange"===t){let e=Q(n[0]);document.body.classList.remove(Q(n[1])),document.body.classList.add(e),en(e)}}})}({useApp:B,eventbus$:et});let{getOsTheme:eN}=function(e){let{useApp:t,eventbus$:n}=e;if(!c.jU)return{getOsTheme:()=>"light"};let a=document.createElement("style");a.textContent="\nbody.change-theme * {\n  transition: none !important;\n}\n\nbody.change-theme *::before {\n  transition: none !important;\n}\n\nbody.change-theme *::after {\n  transition: none !important;\n}\n",document.head.appendChild(a);let r=null;function s(){return c.jU?(r||(r=function(e){let t=window.matchMedia("(prefers-color-scheme: dark)"),n=window.matchMedia("(prefers-color-scheme: light)");return(t.addEventListener?(t.addEventListener("change",t=>l(t,e)),n.addEventListener("change",t=>d(t,e))):t.addListener&&(t.addListener(t=>l(t,e)),n.addListener(t=>d(t,e))),t.matches)?"dark":"light"}(n)),r):"light"}function o(e,n){document.body.classList.add("change-theme"),n&&t.setState(e=>({...e})),"light"===e?(document.body.classList.remove("dark"),document.body.classList.add("light"),document.body.removeAttribute("data-ds-dark-theme")):(document.body.classList.remove("light"),document.body.classList.add("dark"),document.body.dataset.dsDarkTheme="dark"),setTimeout(()=>{document.body.classList.remove("change-theme")},0)}let i=t.getState().themePreference;return o("system"===i?s():i,!1),n.subscribe({next:e=>{let{name:n,payload:a}=e;"systemThemeChange"===n?"system"===t.getState().themePreference&&o(a,!0):"themePreferenceChange"===n&&("system"!==a?o(a,!1):o(s(),!1))}}),{getOsTheme:s};function l(e,t){e.matches&&(r="dark",t.next({name:"systemThemeChange",payload:"dark"}))}function d(e,t){e.matches&&(r="light",t.next({name:"systemThemeChange",payload:"light"}))}}({useApp:B,eventbus$:et});return!function(e){let{useApp:t,tracker:n,eventbus$:a,visibilityChange$:r}=e;c.jU&&(document.addEventListener("visibilitychange",()=>{a.next({name:"visibilityChange",payload:!document.hidden}),r.next(!document.hidden),n.info({name:"__pageVisibilityChange",message:document.hidden?"页面隐藏":"页面显示",payload:{visible:"".concat(!document.hidden)}})}),a.subscribe({next:e=>{let{name:n,payload:a}=e;"visibilityChange"===n&&t.setState(e=>({...e,visible:a}))}}))}({useApp:B,tracker:M,eventbus$:et,visibilityChange$:ef}),!function(e){let{useApp:t,tracker:n,ipApiUrl:a,http:r,syncIpFromHtml:s,withError:o,withDefaultHttpContext:i}=e;if(!c.jU)return;let{ip:l,region:d}=t.getState();s&&(l&&d?n.info({name:"__getIpFromHtmlOk",message:"获取离线地区信息成功",payload:{ip:l,region:d}}):n.error({name:"__getIpFromHtmlFailed",message:"获取离线地区信息失败",payload:{ip:l||h.WN,region:d||h.WN}})),a&&(function(){if(!a)throw Error("[app-kit]: ipApiUrl 未配置");return r.get(a,{context:i({withToken:!1})}).then(e=>{let{json:t}=e,n=t.data;return"biz_data"in n?n.biz_data:n})})().then(e=>{let{code:a,ip:r}=e;s&&n.info({name:"__compareRegion",message:"对比地区信息",payload:{ipSame:"".concat(l===r),htmlIp:null!=l?l:h.WN,apiIp:r,regionSame:"".concat(ea(d,a)),htmlRegion:null!=d?d:h.WN,apiRegion:a}}),t.setState(e=>({...e,ip:r,code:a,region:a,isIpLoading:!1})),n.info({name:"__getIpFromApiOk",message:"通过 API 获取地区信息，IP：".concat(r,"，Region：").concat(a),payload:{ip:r,region:a}})}).catch(e=>{t.setState(e=>({...e,isIpLoading:!1})),n.error({name:"__getIpFromApiFailed",message:"通过 API 获取 IP 信息失败",payload:o(e,{})})})}({tracker:M,syncIpFromHtml:e.ip.syncIpFromHtml,ipApiUrl:e.ip.ipApiUrl,http:L,withDefaultHttpContext:D,withError:R,useApp:B}),{useApp:B,visibilityChange$:ef,DebugPanel:Z,toggleDebugPanel:q,logger:j,tracker:M,isMobile:eR,getLastSessionValue:eo,useLastSessionValue:el,setLastSessionValue:ed,Banner:eA,useIsDebug:()=>B(e=>e.debug),getIsDebug:()=>B.getState().debug,setIsDebug(e){B.getState().setDebug(e)},setFgByKey:function(e,t){B.getState().setFgByKey(e,t)},resolvePathRelativeToPublicPath:t=>(function(e,t){if(!e)return t;let n=e.trim();return(n.endsWith("/")&&(n=n.slice(0,-1)),n=n.startsWith("/")?n:"/".concat(n),t.startsWith(n))?t.slice(n.length,t.length)||"/":t})(e.publicPath,t),useTheme:()=>{let e=B(e=>e.themePreference),[t,n]=(0,s.useState)(eN());return((0,s.useLayoutEffect)(()=>{if("system"===e){n(eN());let e=et.subscribe({next:e=>{let{name:t,payload:a}=e;"systemThemeChange"===t&&n(a)}});return()=>e.unsubscribe()}},[e]),"system"===e)?t:e},useLocale:ex,getLocale:ev,getIp:x,useIp:b,getRegion:T,PageVisit:eb,NextPageVisitRecorder:e_,NextPageVisitSetup:ey,startApp:function(t){let{container:n,node:r,router:s,onBeforeRender:i,onAfterRender:l,onVisibilityChange:d}=t,u=document.querySelector(n);if(s.subscribe(()=>{ew.resetNavigationStartTime()}),u){if(d&&et.subscribe({next:e=>{let{name:t,payload:n}=e;"visibilityChange"===t&&d(n)}}),i(),(0,o.createRoot)(u).render(r),l(),e.checkUpdate.enabled){let t=!0;if("function"!=typeof e.checkUpdate.enabled||e.checkUpdate.enabled({storageHandles:H})||(t=!1),t||e.checkUpdate.debugForceShow){let t=e.checkUpdate.versionApiUrl;!function(e){let{debugForceShow:t,tracker:n,currentAppVersion:r,useLocale:s,getAppVersion:o,withNotification:i,withError:l}=e;if(!c.jU)return;let d=e=>i(t=>{let n=ei("updateVersionNotificationTitle",s),r=ei("updateVersionNotificationContent",s),o=ei("updateVersionNotificationRefreshButton",s);t.warning({title:(0,a.jsx)(n,{}),content:(0,a.jsx)(r,{version:e}),footer:(0,a.jsx)(er.z,{variant:"text",type:"primary",size:"l",onClick:()=>window.location.reload(),children:(0,a.jsx)(o,{})})})});if(t){d("[debug force show version]");return}let u=[];function h(){o().then(e=>{/^\d+\.\d+/.test(e)?!(e===r||u.includes(e))&&(u.push(e),n.info({name:"__newVersionFound",message:"有更新的版本，发送升级提示",payload:{currentVersion:r,newVersion:e}}),d(e)):n.error({name:"__checkUpdateFailed",message:"最新版本格式不合法 ".concat(e),payload:{reason:"invalidVersion"}})}).catch(e=>{n.error({name:"__checkUpdateFailed",message:"最新版本检查失败",payload:l(e,{reason:"api"})})})}document.addEventListener("visibilitychange",()=>{document.hidden||h()}),setTimeout(()=>{h()},5e3),setInterval(h,36e5)}({debugForceShow:e.checkUpdate.debugForceShow,withError:R,withNotification:eT,tracker:M,useLocale:ex,getAppVersion:()=>L.get(t,{context:D({mayMissingApiCode:!0})}).then(e=>{let{body:t}=e;return t}),currentAppVersion:e.staticEnv.appVersion})}}}else throw Error("找不到容器 ".concat(n))},useIsMainlandChina:eS,useIsIpLoading:eC,withError:R,useRegion:k,getUserTokenWithSource:m,getStorageUserToken:()=>U.get(),setStorageUserToken:e=>U.set(e),ErrorBoundary:eE,useFgByKey:function(e){return B.getState().useFgByKey(e)},getFgByKey:function(e){return B.getState().getFgByKey(e)},storageHandles:H,withNotification:eT,withToast:eM,WithToastAndNotification:function(e){let{children:t,toastProviderProps:n,notificationProviderProps:r}=e;return(0,a.jsx)(K,{...n,onToast:(e,t)=>{var a;null==n||null===(a=n.onToast)||void 0===a||a.call(n,e,t),"string"==typeof e?M[t]({name:"__toast",message:"Toast 弹出",payload:{content:e}}):M[t]({name:"__toast",message:"Toast 弹出",payload:{content:e.description}})},children:(0,a.jsxs)(V,{...r,onNotification:(e,t,n)=>{var a;null==r||null===(a=r.onNotification)||void 0===a||a.call(r,e,t,n),M[n]({name:"__notification",message:"通知弹出",payload:{title:e,content:t}})},children:[eI,ek,t]})})},http:{http:L,monitor:N,httpClientErrorType:F,HTTP_CLIENT_ERROR:O,isHttpClientError:P,withDefaultHttpContext:D},httpWithCoreType:{http:L,httpClientErrorType:F,HTTP_CLIENT_ERROR:O,isHttpClientError:P,withDefaultHttpContext:D},isNetworkError:e=>P(e)&&e.type===O.NETWORK,openLink:e=>{let{href:t}=e;M.info({name:"__openLink",message:"打开链接 ".concat(t),payload:{href:t}}),function(e){let{href:t}=e,n=document.createElement("a");document.body.appendChild(n),n.href=t,n.target="_blank",n.rel="noopener noreferrer",n.click(),document.body.removeChild(n)}({href:t})}}}({id:"@deepseek/chat",fg:{defaultValue:{enableHcaptcha:{value:!1,storageVersion:null,saveToLocalStorage:!0},enableEventsDisplay:{value:!1,storageVersion:null,saveToLocalStorage:!0},enableShare:{value:!1,storageVersion:null,saveToLocalStorage:!0},enableAvatarWhenCollapse:{value:!1,storageVersion:null,saveToLocalStorage:!0},enableLessMaxChunkInterval:{value:!1,storageVersion:null,saveToLocalStorage:!0}}},debug:{saveToLocalStorage:!0},locale:{defaultPreference:"system",saveToLocalStorage:!0,localStorageVersion:null},theme:{defaultPreference:"system",saveToLocalStorage:!0,localStorageVersion:null},ip:{syncIpFromHtml:!0,ipApiUrl:null},staticEnv:ev,user:{getMemoryToken:()=>{let e=eE.LM.getState().user;return e?{token:e.token}:{token:null}},getStatus:()=>({status:h.IY.OK}),onIpAccessRestricted(){},onIsBanned(){eS.A.next({method:"beUnauthenticated",args:{navigateToSignIn:!0,isBanned:!0}})},onTokenInvalid(){eS.A.next({method:"beUnauthenticated",args:{navigateToSignIn:!0,isBanned:!1}})}},chat:{onMuted(e){let{muteUntil:t}=e;eC.aK.getState().setMuted({isMuted:!0,muteUntil:t})}},checkUpdate:{enabled:e=>{let{storageHandles:{debugVersionUpdateDisabledStorageHandle:t}}=e;return!t.get()},debugForceShow:!1,versionApiUrl:"/version.txt"},createStorageHandles(e){let{storageHandleManager:t}=e,n=t.create("__debugVersionUpdateDisabled",!1,"20241018.1"),a=t.create("completionApiSlideWindow",[],null),r=t.create("targetBeforeOauthLogin","chat",null),s=t.create("__debugTokensPerSecond",0,null),o=t.create("exportedHistoryClosed",!1,null),i=t.create("thinkingEnabled",!1,"2");return{slideWindowStorageHandle:a,debugVersionUpdateDisabledStorageHandle:n,targetBeforeOauthLoginStorageHandle:r,debugTokensPerSecondStorageHandle:s,exportedHistoryClosedStorageHandle:o,thinkingEnabledStorageHandle:i,searchEnabledStorageHandle:t.create("searchEnabled",!1,null),closeUnsafeEnvWarnStorageHandle:t.create("closeUnsafeEnvWarn",!1,null)}},http:{baseUrl:void 0,cloudflareEnabled:!0,onBeforeRequestInit:async e=>{await ew(e),e.headers={...e.headers,...(0,h.Ag)({platform:ev.clientPlatform,version:"1.4.0-fragments",locale:eT.getLocale()})}}},banner:{bannerApiUrl:"/downloads/status.json"},lastSessionValue:{userIsMuted:{defaultValue:!1},userMuteUntil:{defaultValue:0},loginMethod:{defaultValue:"code"},siderCollapsed:{defaultValue:!1}},publicPath:void 0,customEventsApi:async e=>{let{event:t}=e;e_.N.reportEvent(t),ey(t)}}),eT=(e=>{let t={},n={useLocale:e.useLocale,getLocale:e.getLocale,useTranslate:()=>{let t=e.useLocale();return(0,s.useMemo)(()=>{let e=e=>eb[t][e];return Object.assign(e,eb[t]),e},[t])},useTranslateWithLocale:()=>(0,s.useCallback)((e,t)=>eb[t][e],[]),ensureTranslateComponent:e=>t[e]?t[e]:t[e]=function(){for(var t=arguments.length,a=Array(t),r=0;r<t;r++)a[r]=arguments[r];let s=n.useTranslate()(e);return"function"==typeof s?s(...a):s},getTranslate:()=>t=>eb[e.getLocale()][t]};return n})(eI)},12206:function(e,t,n){n.d(t,{$x:()=>A,Db:()=>V,Di:()=>U,Er:()=>s,F8:()=>F,G4:()=>g,GF:()=>v,Gx:()=>W,HK:()=>R,Hq:()=>b,KP:()=>k,MQ:()=>I,Ok:()=>m,PC:()=>o,RR:()=>q,Rj:()=>h,SH:()=>E,TI:()=>j,U5:()=>w,WA:()=>x,WC:()=>Y,Xj:()=>N,Yj:()=>D,_k:()=>i,aY:()=>B,aZ:()=>y,ay:()=>$,b8:()=>_,cZ:()=>u,cu:()=>L,eT:()=>Z,fO:()=>M,gK:()=>H,lr:()=>l,m:()=>Q,nO:()=>G,nU:()=>r,od:()=>C,p3:()=>c,pJ:()=>O,qn:()=>z,uh:()=>p,wL:()=>S,xM:()=>d,yC:()=>T,yN:()=>X,zI:()=>P,zv:()=>f,zz:()=>K});var a=n(23279);let r=()=>(0,a.jsx)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M15.0498 3.92584L8.49515 12.3819C8.25777 12.6882 8.0452 12.9645 7.84671 13.169C7.6396 13.3824 7.38735 13.5842 7.04495 13.6719C6.86376 13.7183 6.67573 13.7347 6.48929 13.7198C6.13669 13.6916 5.85283 13.5356 5.61234 13.3604C5.38204 13.1927 5.12576 12.9568 4.83987 12.6954L1.03128 9.21295L1.96878 8.18756L5.77737 11.67C6.08687 11.953 6.27776 12.125 6.43069 12.2364C6.50186 12.2882 6.54702 12.3136 6.57327 12.3253C6.58528 12.3306 6.59272 12.3323 6.59573 12.3331C6.59805 12.3337 6.59964 12.334 6.59964 12.334C6.6332 12.3367 6.66761 12.3336 6.70023 12.3253C6.70023 12.3253 6.70214 12.3252 6.70413 12.3243C6.70701 12.323 6.71351 12.319 6.72464 12.3116C6.74852 12.2956 6.78846 12.2642 6.84964 12.2012C6.98141 12.0655 7.1396 11.8628 7.39651 11.5313L13.9502 3.07428L15.0498 3.92584Z",fill:"currentColor"})}),s=()=>(0,a.jsx)("svg",{width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M11.8487 5.50006L11.4239 5.92389L8.6973 8.65143C8.4416 8.90712 8.21565 9.13388 8.01175 9.29791C7.79915 9.46889 7.55598 9.61762 7.25003 9.66608C7.08438 9.69228 6.91568 9.69228 6.75003 9.66608C6.44408 9.61762 6.20091 9.46889 5.98831 9.29791C5.78442 9.13388 5.55846 8.90712 5.30276 8.65143L2.5762 5.92389L2.1514 5.50006L3.00003 4.65143L3.42386 5.07623L6.1514 7.8028C6.42598 8.07738 6.59879 8.24855 6.74026 8.36237C6.87294 8.46911 6.92275 8.47819 6.93753 8.48053C6.97898 8.48709 7.02108 8.48709 7.06253 8.48053C7.07731 8.47819 7.12712 8.46911 7.2598 8.36237C7.40127 8.24855 7.57408 8.07738 7.84866 7.8028L10.5762 5.07623L11 4.65143L11.8487 5.50006Z",fill:"currentColor"})}),o=()=>(0,a.jsx)("svg",{width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M8.50003 2.15143L8.0762 2.57623L5.34866 5.3028C5.09297 5.55849 4.86621 5.78445 4.70218 5.98834C4.5312 6.20094 4.38247 6.44411 4.33402 6.75006C4.30781 6.91571 4.30781 7.08441 4.33402 7.25006C4.38247 7.55601 4.5312 7.79918 4.70218 8.01178C4.86621 8.21568 5.09297 8.44163 5.34866 8.69733L8.0762 11.4239L8.50003 11.8487L9.34866 11.0001L8.92386 10.5762L6.1973 7.84869C5.92272 7.57411 5.75155 7.4013 5.63773 7.25983C5.53099 7.12715 5.5219 7.07734 5.51956 7.06256C5.513 7.02111 5.513 6.97901 5.51956 6.93756C5.5219 6.92278 5.53099 6.87297 5.63773 6.7403C5.75155 6.59882 5.92271 6.42601 6.1973 6.15143L8.92386 3.42389L9.34866 3.00006L8.50003 2.15143Z",fill:"currentColor"})}),i=()=>(0,a.jsx)("svg",{width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M5.50003 2.15143L5.92386 2.57623L8.6514 5.3028C8.90709 5.55849 9.13385 5.78445 9.29788 5.98834C9.46886 6.20094 9.61759 6.44411 9.66605 6.75006C9.69225 6.91571 9.69225 7.08441 9.66605 7.25006C9.61759 7.55601 9.46886 7.79918 9.29788 8.01178C9.13385 8.21568 8.90709 8.44163 8.6514 8.69733L5.92386 11.4239L5.50003 11.8487L4.6514 11.0001L5.0762 10.5762L7.80276 7.84869C8.07735 7.57411 8.24852 7.4013 8.36234 7.25983C8.46907 7.12715 8.47816 7.07734 8.4805 7.06256C8.48706 7.02111 8.48706 6.97901 8.4805 6.93756C8.47816 6.92278 8.46907 6.87297 8.36233 6.7403C8.24852 6.59882 8.07735 6.42601 7.80276 6.15143L5.0762 3.42389L4.6514 3.00006L5.50003 2.15143Z",fill:"currentColor"})}),l=()=>(0,a.jsx)("svg",{width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M10.6075 4.40284L8.00981 6.99979L10.6075 9.59745L9.59742 10.6075L6.99976 8.00984L4.40281 10.6075L3.39276 9.59745L5.98972 6.99979L3.39276 4.40284L4.40281 3.39279L6.99976 5.98975L9.59742 3.39279L10.6075 4.40284Z",fill:"currentColor"})}),d=()=>(0,a.jsxs)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M14.1167 13.197L13.1969 14.1168L1.88324 2.80309L2.80303 1.8833L14.1167 13.197Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M13.1969 1.88331L14.1167 2.8031L2.80303 14.1168L1.88324 13.197L13.1969 1.88331Z",fill:"currentColor"})]}),c=()=>(0,a.jsx)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M6.14926 4.02039C7.11194 4.02039 7.8798 4.02023 8.49594 4.07605C9.12125 4.13276 9.65789 4.25194 10.1414 4.53113C10.7201 4.86536 11.2008 5.34597 11.535 5.92468C11.8142 6.40824 11.9334 6.94488 11.9901 7.57019C12.0459 8.18631 12.0457 8.95426 12.0457 9.91687C12.0457 10.8795 12.0459 11.6474 11.9901 12.2635C11.9334 12.8889 11.8142 13.4255 11.535 13.9091C11.2008 14.4877 10.7201 14.9684 10.1414 15.3026C9.65789 15.5818 9.12125 15.701 8.49594 15.7577C7.87981 15.8135 7.11193 15.8134 6.14926 15.8134C5.18664 15.8134 4.41871 15.8135 3.80258 15.7577C3.17727 15.701 2.64063 15.5818 2.15707 15.3026C1.57837 14.9684 1.09775 14.4877 0.763519 13.9091C0.484335 13.4255 0.365153 12.8889 0.308441 12.2635C0.252618 11.6474 0.252777 10.8795 0.252777 9.91687C0.252777 8.95425 0.252634 8.18632 0.308441 7.57019C0.365153 6.94488 0.484335 6.40824 0.763519 5.92468C1.09774 5.34596 1.57836 4.86535 2.15707 4.53113C2.64063 4.25194 3.17727 4.13276 3.80258 4.07605C4.41871 4.02024 5.18663 4.02039 6.14926 4.02039ZM6.14926 5.37781C5.16178 5.37781 4.46631 5.37768 3.92563 5.42664C3.39431 5.47479 3.07856 5.5658 2.83578 5.70593C2.46317 5.92112 2.15351 6.23077 1.93832 6.60339C1.7982 6.84617 1.70718 7.16192 1.65903 7.69324C1.61007 8.23391 1.6102 8.9294 1.6102 9.91687C1.6102 10.9044 1.61006 11.5998 1.65903 12.1405C1.70718 12.6718 1.7982 12.9876 1.93832 13.2303C2.15352 13.6029 2.46318 13.9126 2.83578 14.1278C3.07856 14.2679 3.39431 14.3589 3.92563 14.4071C4.46631 14.4561 5.16179 14.4559 6.14926 14.4559C7.13679 14.4559 7.83221 14.4561 8.37289 14.4071C8.90422 14.3589 9.21996 14.2679 9.46274 14.1278C9.83532 13.9126 10.145 13.6029 10.3602 13.2303C10.5003 12.9876 10.5913 12.6718 10.6395 12.1405C10.6885 11.5998 10.6883 10.9044 10.6883 9.91687C10.6883 8.92941 10.6885 8.23391 10.6395 7.69324C10.5913 7.16192 10.5003 6.84617 10.3602 6.60339C10.145 6.23078 9.83533 5.92113 9.46274 5.70593C9.21996 5.5658 8.90421 5.47479 8.37289 5.42664C7.83221 5.37766 7.13679 5.37781 6.14926 5.37781ZM9.80161 0.368042C10.7638 0.368042 11.5314 0.367947 12.1473 0.423706C12.7725 0.480374 13.3093 0.598826 13.7928 0.877808C14.3716 1.21198 14.8521 1.69361 15.1864 2.27234C15.4655 2.75581 15.5857 3.29171 15.6424 3.91687C15.6983 4.53307 15.6971 5.30167 15.6971 6.26453V7.82996C15.6971 8.29271 15.6989 8.59 15.6649 8.84851C15.4668 10.3526 14.4009 11.5739 12.9832 11.9989V10.5468C13.6973 10.1904 14.2104 9.49669 14.3192 8.67175C14.3387 8.52354 14.3407 8.33586 14.3407 7.82996V6.26453C14.3407 5.27713 14.3398 4.58155 14.2909 4.04089C14.2427 3.50975 14.1526 3.19379 14.0125 2.95105C13.7974 2.57856 13.4875 2.26876 13.1151 2.05359C12.8723 1.91353 12.5564 1.82244 12.0252 1.77429C11.4847 1.72534 10.7888 1.72546 9.80161 1.72546H7.71469C6.75617 1.72565 5.92662 2.27704 5.52328 3.07898H4.07016C4.54218 1.51138 5.99317 0.368253 7.71469 0.368042H9.80161Z",fill:"currentColor"})}),u=()=>(0,a.jsx)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M13.2764 9.52331C12.5607 9.97761 11.7177 10.2421 10.7812 10.2421C8.11386 10.242 5.95042 8.08003 5.9502 5.41296C5.9502 4.48135 6.21453 3.61078 6.67188 2.87292C4.30332 3.46586 2.54992 5.60852 2.5498 8.161C2.5498 11.1713 4.99103 13.6102 8 13.6102C10.5383 13.6102 12.6709 11.8725 13.2764 9.52331ZM7.05078 5.41296C7.051 7.47231 8.72116 9.14237 10.7812 9.14245C11.9248 9.14245 12.887 8.63404 13.5781 7.80846C13.7266 7.63113 13.9701 7.56554 14.1875 7.6444C14.4049 7.72336 14.5497 7.92976 14.5498 8.161C14.5498 11.7767 11.6161 14.7098 8 14.7098C4.38402 14.7098 1.4502 11.7793 1.4502 8.161C1.45033 4.54329 4.3812 1.61022 8 1.61022C8.23027 1.61022 8.43585 1.75359 8.51562 1.9696C8.59536 2.18561 8.53241 2.42836 8.35742 2.578C7.55573 3.26317 7.05078 4.27883 7.05078 5.41296Z",fill:"currentColor"})}),h=()=>(0,a.jsxs)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.0997 8.54561C12.2905 8.54996 12.3541 8.58063 12.4535 8.74621L12.8849 9.46394C12.9851 9.63078 13.0464 9.6602 13.2388 9.66454H14.1138C14.3417 9.66455 14.3512 9.66944 14.4686 9.86514L14.892 10.5718C14.9942 10.7423 14.9948 10.8248 14.892 10.9962L14.4756 11.6907C14.3741 11.8678 14.3694 11.9379 14.4756 12.1151L14.892 12.8097C14.9942 12.9802 14.9947 13.0626 14.892 13.234L14.4686 13.9407C14.3643 14.1029 14.3063 14.1355 14.1138 14.1413H13.2388C13.0465 14.1456 12.985 14.1752 12.8849 14.3419L12.4535 15.0596C12.353 15.2196 12.2895 15.2559 12.0997 15.2602H11.2237C10.9962 15.2602 10.9871 15.2549 10.8699 15.0596L10.4384 14.3419C10.3383 14.1751 10.2767 14.1457 10.0846 14.1413H9.2096C9.01854 14.1356 8.95761 14.1006 8.85477 13.9407L8.43139 13.234C8.32562 13.0577 8.33148 12.9863 8.43139 12.8097L8.84771 12.1151C8.95165 11.9417 8.94659 11.8631 8.84771 11.6907L8.43139 10.9962C8.32767 10.8233 8.33411 10.7438 8.43139 10.5718L8.85477 9.86514C8.95447 9.69898 9.01875 9.67024 9.2096 9.66454H10.0846C10.2741 9.66448 10.3414 9.62554 10.4384 9.46394L10.8699 8.74621C10.987 8.55113 10.9963 8.54561 11.2237 8.54561H12.0997ZM11.6612 10.2321C11.3326 10.7799 10.8155 11.0949 10.1743 11.1061C10.4443 11.61 10.4425 12.1977 10.1743 12.6988C10.803 12.7097 11.3391 13.036 11.6612 13.5727C11.9855 13.0324 12.5131 12.7099 13.148 12.6988C12.879 12.1961 12.8789 11.6087 13.148 11.1061C12.5076 11.0948 11.9894 10.7795 11.6612 10.2321Z",fill:"currentColor"}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.51205 0.790695C9.19055 0.790718 10.7401 1.06917 11.892 1.54371C12.4664 1.78036 12.9719 2.07892 13.3436 2.44087C13.7171 2.80474 13.9916 3.2726 13.9918 3.82391V7.90449C13.6067 7.69539 13.1907 7.53604 12.7529 7.43373V5.66461C12.4928 5.82905 12.2028 5.97608 11.892 6.10412C10.74 6.57872 9.19071 6.85713 7.51205 6.85713C5.8337 6.85709 4.285 6.57859 3.13309 6.10412C2.82215 5.97599 2.53164 5.82916 2.27121 5.66461V7.41357C2.27134 7.75684 2.6066 8.27113 3.62502 8.73411C4.58641 9.17104 5.95762 9.45598 7.50499 9.45688C7.24582 9.83139 7.03684 10.2435 6.88706 10.6827C5.44388 10.6163 4.12516 10.3217 3.11192 9.86111C2.81708 9.72705 2.53185 9.56873 2.27121 9.38934V11.2542C2.27158 11.5975 2.60697 12.111 3.62502 12.5738C4.41933 12.9348 5.4937 13.1898 6.71569 13.2693C6.80349 13.7128 6.9513 14.1346 7.14814 14.5274C5.60324 14.4862 4.18593 14.189 3.11192 13.7008C2.01039 13.1999 1.03366 12.3814 1.03333 11.2542V3.82391C1.03352 3.2728 1.30721 2.80468 1.68049 2.44087C2.05211 2.079 2.55887 1.78033 3.13309 1.54371C4.28492 1.06933 5.83393 0.790751 7.51205 0.790695ZM7.51205 2.02858C5.95492 2.02864 4.57354 2.29086 3.60486 2.68986C3.11958 2.88984 2.76667 3.1126 2.5454 3.32795C2.32671 3.54108 2.2714 3.70897 2.27121 3.82391C2.27121 3.93889 2.32624 4.10632 2.5454 4.31987C2.76667 4.53534 3.11927 4.75788 3.60486 4.95797C4.5736 5.35705 5.95467 5.61921 7.51205 5.61925C9.06942 5.61925 10.4505 5.35702 11.4192 4.95797C11.9051 4.7578 12.2584 4.53543 12.4797 4.31987C12.6988 4.10634 12.7529 3.93888 12.7529 3.82391C12.7527 3.70896 12.6984 3.54111 12.4797 3.32795C12.2584 3.11246 11.9049 2.88996 11.4192 2.68986C10.4505 2.29085 9.06925 2.0286 7.51205 2.02858Z",fill:"currentColor"})]}),p=()=>(0,a.jsxs)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M1.92844 3.06818L0.888051 5.87111C0.67651 6.44103 0.570689 6.72612 0.528311 6.95137C0.249475 8.43343 1.23916 9.85643 2.72561 10.1107C2.95155 10.1494 3.25555 10.1494 3.86354 10.1494H4.88377C5.33312 10.1494 5.5578 10.1494 5.69193 10.2709C5.73473 10.3096 5.77 10.356 5.79599 10.4075C5.87745 10.5691 5.81772 10.7857 5.69827 11.2189L5.18615 13.0761L5.17529 13.1158C4.96026 13.9218 5.18916 14.7813 5.77656 15.3735L5.80574 15.4026L5.82641 15.4229C6.2228 15.8057 6.86206 15.7664 7.20852 15.3379L7.22653 15.3151L11.2958 10.1435C11.4773 9.91291 11.6215 9.65202 11.6215 9.35854V3.24741C11.6215 1.62718 10.3081 0.313722 8.68782 0.313722L5.88892 0.313721C4.63038 0.313721 4.00111 0.313721 3.48655 0.585644C3.31822 0.674603 3.16133 0.783714 3.01935 0.910574C2.58537 1.29835 2.36639 1.88831 1.92844 3.06818Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M13.0963 2.77822C13.0963 1.29591 11.9229 0.431271 11.9229 0.431271H13.3547C14.5499 0.431271 15.5187 1.40017 15.5187 2.59535V7.65498C15.5187 8.85017 14.5499 9.81906 13.3547 9.81906H13.0963V2.77822Z",fill:"currentColor"})]}),g=()=>(0,a.jsx)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M7.72451 15.1086C7.18929 15.7706 6.22975 15.8695 5.57357 15.3598L5.44643 15.2493L5.42247 15.2253L5.41934 15.2233L5.39016 15.1941C4.68239 14.4805 4.40679 13.4442 4.66589 12.4731L4.66693 12.4689L4.67631 12.4335L4.67735 12.4314L5.14318 10.7432C5.15243 10.7096 5.1613 10.6784 5.16923 10.6494C5.13878 10.6493 5.10558 10.6484 5.07023 10.6484H4.14274C3.62288 10.6484 3.27015 10.6513 2.9912 10.6035C1.25757 10.3069 0.103662 8.64709 0.42863 6.91861C0.480965 6.64044 0.606164 6.30981 0.787119 5.8223L1.73336 3.27328C1.92812 2.74859 2.08912 2.31215 2.25442 1.96542C2.42515 1.60731 2.62191 1.296 2.91304 1.03584C3.08408 0.883016 3.273 0.751185 3.47579 0.644009C3.82102 0.461569 4.18214 0.385575 4.57731 0.350131C4.95993 0.315849 5.42553 0.316783 5.98521 0.316783H11.0916C11.876 0.316783 12.52 0.316134 13.0362 0.372015C13.5655 0.429358 14.0423 0.552599 14.4608 0.856601C14.7007 1.03091 14.9117 1.24199 15.086 1.48187C15.3901 1.90033 15.5143 2.37716 15.5717 2.90645C15.6276 3.42275 15.6269 4.06727 15.6269 4.85209V6.5028C15.6269 7.16167 15.633 7.63697 15.5164 8.04306C15.2475 8.97969 14.5158 9.71248 13.5791 9.9814C13.173 10.098 12.6977 10.0908 12.0389 10.0908C11.8372 10.0908 11.8118 10.0933 11.795 10.096C11.723 10.1077 11.6549 10.1394 11.6012 10.1888C11.5887 10.2003 11.5724 10.2191 11.447 10.3784L7.74639 15.0815L7.74535 15.0826L7.72451 15.1086ZM14.2388 4.85209C14.2388 4.03635 14.2379 3.47971 14.1919 3.05547C14.1473 2.64449 14.0672 2.44037 13.9637 2.29785C13.8749 2.17569 13.768 2.06776 13.6458 1.97896C13.5033 1.87539 13.2984 1.7953 12.8872 1.75074C12.4907 1.70779 11.979 1.70518 11.2479 1.70489C11.6511 2.25924 11.8918 2.93974 11.8919 3.67762V7.41257H10.5038V3.67762C10.5036 2.58751 9.62023 1.70384 8.53007 1.70384H5.98521C5.40065 1.70384 5.00679 1.70449 4.70028 1.73198C4.40651 1.75836 4.24662 1.80577 4.12399 1.87058C4.02069 1.92518 3.92452 1.99283 3.8374 2.07067C3.73401 2.16312 3.634 2.29627 3.50705 2.56255C3.37462 2.84034 3.23734 3.2088 3.03393 3.75682L2.08768 6.30584C1.88395 6.85474 1.81646 7.04347 1.79172 7.17497C1.61005 8.14152 2.25533 9.06908 3.22464 9.23524C3.35654 9.25781 3.55717 9.26129 4.14274 9.26129H5.07023C5.25717 9.26129 5.4593 9.25932 5.62672 9.27901C5.80364 9.29982 6.05492 9.35458 6.27179 9.551C6.37381 9.64347 6.45784 9.75424 6.51982 9.87719C6.65133 10.1382 6.6374 10.3942 6.61048 10.5702C6.58498 10.7367 6.52988 10.931 6.48022 11.1111L6.01439 12.8003L6.00501 12.8347C5.87513 13.3268 6.01464 13.8509 6.37184 14.2134L6.40935 14.251L6.46667 14.2864C6.52866 14.3088 6.60155 14.2912 6.64591 14.2364L6.65738 14.2239L6.65633 14.2228L10.3569 9.52078C10.4543 9.397 10.5491 9.27245 10.6633 9.1675C10.9166 8.93483 11.2325 8.78186 11.572 8.72669C11.7251 8.70184 11.8814 8.70376 12.0389 8.70376C12.7927 8.70376 13.0245 8.69651 13.1956 8.64748C13.6727 8.51051 14.0465 8.13768 14.1836 7.6606C14.2327 7.48941 14.2388 7.25727 14.2388 6.5028V4.85209Z",fill:"currentColor"})}),m=()=>(0,a.jsx)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M15.3694 11.4111L15.1234 12.8866C14.8869 14.3043 13.6602 15.3436 12.223 15.3437H3.77667C2.33951 15.3435 1.11273 14.3042 0.876282 12.8866L0.630188 11.4111L2.05402 11.1747L2.29913 12.6493C2.41966 13.3713 3.04469 13.9001 3.77667 13.9003H12.223C12.9551 13.9003 13.5799 13.3714 13.7005 12.6493L13.9456 11.1747L15.3694 11.4111ZM8.72198 8.99406C8.77711 8.9394 8.83786 8.88112 8.90265 8.81633L12.4827 5.2343L13.5042 6.25578L9.92218 9.83586C9.63943 10.1186 9.38757 10.3732 9.15851 10.5575C8.91886 10.7503 8.63947 10.9225 8.28644 10.9784C8.09704 11.0084 7.90357 11.0084 7.71417 10.9784C7.36099 10.9225 7.08084 10.7504 6.84113 10.5575C6.61209 10.3732 6.36016 10.1186 6.07745 9.83586L2.4964 6.25578L3.51691 5.2343L7.09698 8.81633C7.16213 8.88148 7.22324 8.94012 7.27863 8.99504V1.30656H8.72198V8.99406Z",fill:"currentColor"})}),f=()=>(0,a.jsx)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M9.94076 1.34948C10.7047 0.902375 11.6503 0.90248 12.4143 1.34948C12.7061 1.52022 12.9688 1.79124 13.3104 2.1329C13.6521 2.47454 13.9231 2.73727 14.0939 3.029C14.5408 3.79301 14.5409 4.73862 14.0939 5.50257C13.9231 5.79422 13.652 6.0571 13.3104 6.39867L6.65932 13.0498C6.28068 13.4284 6.00695 13.7108 5.66543 13.9097C5.32391 14.1085 4.94315 14.2074 4.42705 14.3498L3.24394 14.6762C2.77527 14.8054 2.34538 14.9263 2.00131 14.9685C1.65196 15.0112 1.17964 15.0014 0.810764 14.6326C0.441921 14.2637 0.432107 13.7914 0.47486 13.442C0.517035 13.098 0.6379 12.668 0.767181 12.1994L1.09352 11.0163C1.23588 10.5002 1.33481 10.1194 1.5336 9.77791C1.7325 9.43639 2.0149 9.16266 2.39355 8.78402L9.04466 2.1329C9.38625 1.79132 9.64911 1.52023 9.94076 1.34948ZM15.5427 14.8399H7.55223L8.96707 13.425H15.5427V14.8399ZM3.39382 9.78429C2.965 10.2131 2.84244 10.3437 2.75709 10.4901C2.67183 10.6366 2.61862 10.8079 2.45733 11.3926L2.13099 12.5757C2.00183 13.0439 1.92194 13.3419 1.88863 13.5536C2.10041 13.5204 2.39872 13.4417 2.86764 13.3123L4.05075 12.986C4.63544 12.8247 4.80669 12.7715 4.95323 12.6862C5.09968 12.6009 5.23022 12.4783 5.65905 12.0495L10.721 6.9865L8.45577 4.72128L3.39382 9.78429ZM11.7 2.57085C11.3774 2.38205 10.9777 2.38205 10.6551 2.57085C10.5602 2.62653 10.4487 2.72937 10.0449 3.13317L9.45604 3.72101L11.7213 5.98623L12.3102 5.3984C12.7139 4.99464 12.8168 4.88314 12.8725 4.78825C13.0613 4.46567 13.0612 4.06592 12.8725 3.74333C12.8169 3.64834 12.7146 3.53758 12.3102 3.13317C11.9057 2.72869 11.795 2.62647 11.7 2.57085Z",fill:"currentColor"})}),C=()=>(0,a.jsxs)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M4.5514 8.00006C4.5514 8.63519 4.03653 9.15006 3.4014 9.15006C2.76628 9.15006 2.2514 8.63519 2.2514 8.00006C2.2514 7.36493 2.76628 6.85006 3.4014 6.85006C4.03653 6.85006 4.5514 7.36493 4.5514 8.00006Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M9.14754 8.00006C9.14754 8.63519 8.63267 9.15006 7.99754 9.15006C7.36242 9.15006 6.84754 8.63519 6.84754 8.00006C6.84754 7.36493 7.36242 6.85006 7.99754 6.85006C8.63267 6.85006 9.14754 7.36493 9.14754 8.00006Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M13.7486 8.00006C13.7486 8.63519 13.2337 9.15006 12.5986 9.15006C11.9634 9.15006 11.4486 8.63519 11.4486 8.00006C11.4486 7.36493 11.9634 6.85006 12.5986 6.85006C13.2337 6.85006 13.7486 7.36493 13.7486 8.00006Z",fill:"currentColor"})]}),v=()=>(0,a.jsxs)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M8.90039 3.97334V9.07979H7.09961V3.97334H8.90039Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M8.90039 10.341V12.3654H7.09961V10.341H8.90039Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M14.5996 8.00006C14.5996 4.35498 11.6451 1.40045 8 1.40045C4.35492 1.40045 1.40039 4.35498 1.40039 8.00006C1.40039 11.6451 4.35492 14.5997 8 14.5997C11.6451 14.5997 14.5996 11.6451 14.5996 8.00006ZM15.9004 8.00006C15.9004 12.3631 12.363 15.9005 8 15.9005C3.63695 15.9005 0.0996094 12.3631 0.0996094 8.00006C0.0996094 3.63701 3.63695 0.0996704 8 0.0996704C12.363 0.0996704 15.9004 3.63701 15.9004 8.00006Z",fill:"currentColor"})]}),x=()=>(0,a.jsxs)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M12.1665 13.5812V14.7804H3.66651V13.5812H12.1665Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M13.4453 7.02385C13.4453 6.04708 13.4452 5.36166 13.3887 4.8344C13.3333 4.31834 13.2302 4.02384 13.0723 3.80315C12.9446 3.62481 12.7877 3.46889 12.6094 3.34123C12.3887 3.18334 12.0942 3.08013 11.5781 3.02483C11.0508 2.96835 10.3655 2.96721 9.38867 2.96721H6.61035C5.63359 2.96721 4.94816 2.96833 4.4209 3.02483C3.90486 3.08017 3.61034 3.18327 3.38965 3.34123C3.21143 3.46884 3.05534 3.62493 2.92774 3.80315C2.76977 4.02383 2.66667 4.31836 2.61133 4.8344C2.55483 5.36166 2.55371 6.04708 2.55371 7.02385C2.55371 8.00066 2.55485 8.68602 2.61133 9.21331C2.66663 9.72942 2.76983 10.0238 2.92774 10.2446C3.0554 10.4229 3.21131 10.5798 3.38965 10.7074C3.61034 10.8654 3.90484 10.9685 4.4209 11.0239C4.94816 11.0804 5.63359 11.0805 6.61035 11.0805H9.38867C10.3654 11.0805 11.0508 11.0803 11.5781 11.0239C12.0941 10.9686 12.3887 10.8653 12.6094 10.7074C12.7877 10.5798 12.9446 10.4229 13.0723 10.2446C13.2301 10.0238 13.3334 9.72933 13.3887 9.21331C13.4452 8.68602 13.4453 8.00064 13.4453 7.02385ZM14.6455 7.02385C14.6455 7.97434 14.646 8.73515 14.5811 9.34124C14.5149 9.95834 14.3756 10.4858 14.0479 10.9438C13.8436 11.229 13.5938 11.4788 13.3086 11.683C12.8507 12.0108 12.3232 12.1501 11.7061 12.2162C11.1 12.2812 10.3391 12.2807 9.38867 12.2807H6.61035C5.66018 12.2807 4.89991 12.2811 4.29395 12.2162C3.67684 12.1501 3.14935 12.0108 2.69141 11.683C2.40613 11.4788 2.15639 11.229 1.95215 10.9438C1.62436 10.4858 1.4841 9.95834 1.41797 9.34124C1.35305 8.73517 1.35449 7.9743 1.35449 7.02385C1.35449 6.07372 1.35308 5.3134 1.41797 4.70745C1.4841 4.09034 1.62436 3.56285 1.95215 3.10491C2.15638 2.81962 2.40613 2.56988 2.69141 2.36565C3.14935 2.03785 3.67684 1.89759 4.29395 1.83147C4.8999 1.76658 5.66022 1.76799 6.61035 1.76799H9.38867C10.3391 1.76799 11.1 1.76655 11.7061 1.83147C12.3232 1.89759 12.8507 2.03785 13.3086 2.36565C13.5939 2.56988 13.8436 2.81963 14.0479 3.10491C14.3756 3.56285 14.5149 4.09034 14.5811 4.70745C14.646 5.31341 14.6455 6.07368 14.6455 7.02385Z",fill:"currentColor"})]}),S=()=>(0,a.jsx)("svg",{width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.00003 0.150452C10.7832 0.150452 13.8496 3.21691 13.8496 7.00006C13.8496 10.7832 10.7832 13.8497 7.00003 13.8497C3.21688 13.8497 0.150421 10.7832 0.150421 7.00006C0.150421 3.21691 3.21688 0.150452 7.00003 0.150452ZM5.37796 7.59967C5.4267 9.0321 5.64754 10.2966 5.97366 11.2198C6.15996 11.7471 6.36946 12.1302 6.57327 12.3702C6.77751 12.6106 6.92343 12.6505 7.00003 12.6505C7.07663 12.6505 7.22255 12.6106 7.42679 12.3702C7.6306 12.1302 7.8401 11.7471 8.0264 11.2198C8.35252 10.2966 8.57336 9.0321 8.6221 7.59967H5.37796ZM1.38187 7.59967C1.61456 9.80498 3.11593 11.6305 5.14261 12.336C5.03268 12.1129 4.93227 11.8725 4.8428 11.6192C4.46342 10.5452 4.22775 9.13994 4.17874 7.59967H1.38187ZM9.82132 7.59967C9.77232 9.13994 9.53664 10.5452 9.15726 11.6192C9.06774 11.8726 8.96648 12.1127 8.85648 12.336C10.8836 11.6307 12.3855 9.8053 12.6182 7.59967H9.82132ZM7.00003 1.34967C6.92343 1.34967 6.77751 1.38955 6.57327 1.62994C6.36946 1.86994 6.15996 2.25297 5.97366 2.78033C5.64754 3.70357 5.4267 4.96802 5.37796 6.40045H8.6221C8.57336 4.96802 8.35252 3.70357 8.0264 2.78033C7.8401 2.25297 7.6306 1.86994 7.42679 1.62994C7.22255 1.38955 7.07663 1.34967 7.00003 1.34967ZM8.85648 1.66315C8.96663 1.88662 9.06763 2.12721 9.15726 2.38092C9.53664 3.45494 9.77232 4.86018 9.82132 6.40045H12.6182C12.3855 4.19471 10.8837 2.36834 8.85648 1.66315ZM5.14261 1.66315C3.11578 2.36856 1.61457 4.19503 1.38187 6.40045H4.17874C4.22775 4.86018 4.46342 3.45494 4.8428 2.38092C4.93237 2.12736 5.03253 1.88651 5.14261 1.66315Z",fill:"currentColor"})}),E=()=>(0,a.jsxs)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M0.300842 6.75896C0.300842 3.2391 3.15501 0.384938 6.67487 0.384938C6.98421 0.384956 7.28876 0.407574 7.58698 0.450368L7.49518 1.09392L7.4024 1.73748C7.16512 1.70342 6.92228 1.68574 6.67487 1.68572C3.87298 1.68572 1.60162 3.95707 1.60162 6.75896C1.60182 9.56068 3.8731 11.8322 6.67487 11.8322C9.0556 11.832 11.0549 10.1909 11.6006 7.97771L12.2315 8.13299L12.8624 8.28924C12.1767 11.0694 9.66758 13.1318 6.67487 13.132C3.15513 13.132 0.301038 10.2787 0.300842 6.75896Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M15.6992 14.8074L14.7793 15.7274L11.3974 12.3455L12.3174 11.4256L15.6992 14.8074Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M11.3473 6.59701C11.2764 6.81246 10.9716 6.81246 10.9008 6.59701L10.4901 5.34822C10.3035 4.78103 9.85867 4.33617 9.29148 4.14962L8.04269 3.73893C7.82724 3.66807 7.82724 3.36329 8.04269 3.29243L9.29148 2.88173C9.85867 2.69519 10.3035 2.25032 10.4901 1.68314L10.9008 0.434345C10.9716 0.218896 11.2764 0.218896 11.3473 0.434345L11.758 1.68314C11.9445 2.25032 12.3894 2.69519 12.9566 2.88173L14.2054 3.29243C14.4208 3.36329 14.4208 3.66807 14.2054 3.73893L12.9566 4.14962C12.3894 4.33617 11.9445 4.78103 11.758 5.34822L11.3473 6.59701Z",fill:"currentColor"})]}),b=()=>(0,a.jsxs)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M11.3496 8.00006C11.3496 6.14991 9.85015 4.65045 8 4.65045C6.14985 4.65045 4.65039 6.14991 4.65039 8.00006C4.65039 9.85021 6.14985 11.3497 8 11.3497C9.85015 11.3497 11.3496 9.85021 11.3496 8.00006ZM12.6504 8.00006C12.6504 10.5682 10.5681 12.6505 8 12.6505C5.43188 12.6505 3.34961 10.5682 3.34961 8.00006C3.34961 5.43194 5.43188 3.34967 8 3.34967C10.5681 3.34967 12.6504 5.43194 12.6504 8.00006Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M8.65039 0.500061V2.50006H7.34961V0.500061H8.65039Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M8.65039 13.5001V15.5001H7.34961V13.5001H8.65039Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M3.15808 2.24041L4.57229 3.65462L3.6525 4.57441L2.23829 3.1602L3.15808 2.24041Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M12.3505 11.4328L13.7647 12.847L12.8449 13.7668L11.4307 12.3526L12.3505 11.4328Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M2.24537 12.847L3.65958 11.4328L4.57937 12.3526L3.16516 13.7668L2.24537 12.847Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M11.4377 3.65461L12.852 2.24039L13.7718 3.16018L12.3575 4.5744L11.4377 3.65461Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M0.5 7.35468H2.5V8.65546H0.5L0.5 7.35468Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M13.5 7.35468H15.5V8.65546H13.5V7.35468Z",fill:"currentColor"})]}),_=()=>(0,a.jsxs)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M14.0593 12.922L15.0976 10.1247C15.3088 9.55596 15.4144 9.27144 15.4567 9.04665C15.7349 7.56758 14.7472 6.14744 13.2638 5.89363C13.0383 5.85506 12.7349 5.85506 12.1281 5.85506H11.11C10.6615 5.85506 10.4373 5.85506 10.3034 5.73382C10.2607 5.69514 10.2255 5.64892 10.1996 5.59746C10.1183 5.43619 10.1779 5.22003 10.2971 4.78771L10.8082 2.93426L10.819 2.89463C11.0336 2.0903 10.8052 1.23251 10.219 0.641455L10.1899 0.61247L10.1692 0.592133C9.77363 0.210141 9.13565 0.249409 8.7899 0.677031L8.77192 0.699743L4.71082 5.8609C4.52971 6.09107 4.38579 6.35144 4.38579 6.64433V12.7432C4.38579 14.3601 5.6966 15.6709 7.31357 15.6709L10.1068 15.6709C11.3628 15.6709 11.9908 15.6709 12.5044 15.3996C12.6724 15.3108 12.8289 15.2019 12.9706 15.0753C13.4037 14.6883 13.6223 14.0995 14.0593 12.922Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M2.91394 13.2114C2.91394 14.6907 4.08505 15.5536 4.08505 15.5536H2.65612C1.46334 15.5536 0.496399 14.5867 0.496399 13.3939V8.34446C0.496399 7.15168 1.46334 6.18473 2.65612 6.18473H2.91394V13.2114Z",fill:"currentColor"})]}),y=()=>(0,a.jsx)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M8.27861 0.811633C8.81985 0.142255 9.79016 0.0422445 10.4537 0.557662L10.5823 0.669367L10.6065 0.693605L10.6097 0.695713L10.6392 0.72522C11.3549 1.44685 11.6336 2.49474 11.3716 3.47675L11.3705 3.48097L11.361 3.5168L11.36 3.51891L10.8889 5.2261C10.8796 5.26003 10.8706 5.29164 10.8626 5.32094C10.8934 5.32101 10.927 5.322 10.9627 5.322H11.9006C12.4263 5.322 12.783 5.31906 13.0651 5.36731C14.8182 5.66725 15.9851 7.34574 15.6564 9.09363C15.6035 9.37493 15.4769 9.70926 15.2939 10.2023L14.337 12.7799C14.1401 13.3105 13.9773 13.7518 13.8101 14.1025C13.6375 14.4646 13.4385 14.7794 13.1441 15.0425C12.9712 15.197 12.7801 15.3303 12.5751 15.4387C12.2259 15.6232 11.8608 15.7 11.4612 15.7359C11.0742 15.7705 10.6034 15.7696 10.0374 15.7696H4.87371C4.08047 15.7696 3.42922 15.7703 2.90728 15.7138C2.37206 15.6558 1.88985 15.5311 1.4667 15.2237C1.22409 15.0475 1.01072 14.834 0.834405 14.5914C0.52696 14.1683 0.401312 13.6861 0.343323 13.1509C0.286761 12.6288 0.28747 11.977 0.28747 11.1834V9.51411C0.28747 8.84785 0.281286 8.36721 0.399176 7.95656C0.671091 7.00941 1.41109 6.26838 2.35823 5.99645C2.76888 5.87855 3.24952 5.88579 3.91579 5.88579C4.11977 5.88579 4.14542 5.88325 4.16238 5.88053C4.23526 5.8687 4.30403 5.83669 4.35839 5.78674C4.37104 5.77511 4.38755 5.7561 4.51436 5.59494L8.25648 0.839033L8.25754 0.837979L8.27861 0.811633ZM1.69116 11.1834C1.69116 12.0083 1.69211 12.5712 1.73859 13.0002C1.78365 13.4158 1.86467 13.6222 1.96937 13.7663C2.05914 13.8898 2.16727 13.999 2.29079 14.0888C2.43495 14.1935 2.6421 14.2745 3.05797 14.3195C3.45891 14.363 3.97631 14.3656 4.71564 14.3659C4.30795 13.8053 4.06447 13.1172 4.06437 12.371V8.59412H5.46807V12.371C5.46832 13.4734 6.3616 14.367 7.46401 14.367H10.0374C10.6286 14.367 11.0269 14.3663 11.3368 14.3385C11.6339 14.3118 11.7956 14.2639 11.9196 14.1984C12.024 14.1431 12.1213 14.0747 12.2094 13.996C12.3139 13.9025 12.4151 13.7679 12.5434 13.4986C12.6774 13.2177 12.8162 12.8451 13.0219 12.2909L13.9787 9.71328C14.1848 9.15822 14.253 8.96737 14.278 8.83439C14.4617 7.85698 13.8092 6.91901 12.829 6.75098C12.6956 6.72816 12.4928 6.72464 11.9006 6.72464H10.9627C10.7737 6.72464 10.5693 6.72663 10.4 6.70672C10.2211 6.68568 9.96696 6.6303 9.74764 6.43167C9.64448 6.33817 9.5595 6.22616 9.49683 6.10183C9.36384 5.8379 9.37793 5.57905 9.40515 5.40104C9.43094 5.23267 9.48666 5.03623 9.53688 4.8541L10.0079 3.14585L10.0174 3.11108C10.1488 2.61344 10.0077 2.08344 9.64648 1.71687L9.60854 1.67893L9.55058 1.6431C9.48789 1.62049 9.41419 1.6382 9.36932 1.69368L9.35773 1.70633L9.35878 1.70738L5.61666 6.46224C5.51816 6.58741 5.42231 6.71336 5.30683 6.81948C5.05069 7.05477 4.73119 7.20945 4.3879 7.26525C4.23309 7.29038 4.07507 7.28843 3.91579 7.28843C3.1535 7.28843 2.9191 7.29576 2.74604 7.34534C2.26358 7.48385 1.88558 7.86087 1.74702 8.34331C1.69732 8.51642 1.69116 8.75116 1.69116 9.51411V11.1834Z",fill:"currentColor"})}),w=()=>(0,a.jsxs)("svg",{width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M8.19724 5.86969C9.20917 6.90067 9.20966 8.55271 8.19724 9.58338L6.88868 10.8919C5.85798 11.9039 4.20581 11.9037 3.17499 10.8919L3.1087 10.8243C2.09619 9.7934 2.09623 8.14148 3.1087 7.11058L4.36754 5.85174C4.28258 6.33758 4.30352 6.84354 4.44074 7.33362L3.89245 7.88053C3.3004 8.48348 3.30105 9.4507 3.89315 10.0536L3.94563 10.1061C4.54858 10.698 5.51518 10.6981 6.11805 10.1061L7.4128 8.81275C8.00481 8.21002 8.00501 7.24267 7.41349 6.63964L7.35963 6.58716C7.21972 6.44976 7.05991 6.34434 6.89006 6.27089L7.70006 5.4609C7.85173 5.55768 7.99604 5.67091 8.12957 5.80202L8.19724 5.86969Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M5.8091 8.12648C4.79581 7.09547 4.79588 5.44245 5.8091 4.41141C5.8173 4.40304 5.82704 4.39209 5.84087 4.37826L7.0783 3.14082C7.09221 3.12693 7.10308 3.11729 7.11145 3.10906C8.1425 2.09591 9.79554 2.09579 10.8265 3.10906L10.8907 3.17328C11.9041 4.20425 11.9039 5.85727 10.8907 6.88835L9.6319 8.14581C9.70563 7.66581 9.67561 7.16895 9.53453 6.68948L10.1063 6.11772C10.6989 5.51458 10.6991 4.54691 10.1063 3.94391L10.0552 3.8942C9.45212 3.30157 8.48443 3.30151 7.88139 3.8942L6.59355 5.18204C6.00078 5.78507 6.00089 6.75274 6.59355 7.35584L6.64327 7.40694C6.77994 7.54132 6.93552 7.64528 7.10109 7.71837L6.29247 8.52699C6.14443 8.43127 6.00392 8.31906 5.87332 8.1907L5.8091 8.12648Z",fill:"currentColor"})]}),I=()=>(0,a.jsxs)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M10.8239 3.54739V4.78448H4.63437V3.54739H10.8239Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M10.8239 6.12634V7.36344H4.63437V6.12634H10.8239Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M9.073 8.7053V9.94239H4.63437V8.7053H9.073Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M9.13321 0.573579C10.0076 0.573578 10.7179 0.572575 11.285 0.634023C11.8645 0.696844 12.3743 0.831701 12.8193 1.15485C13.0776 1.34251 13.3056 1.57053 13.4933 1.82881C13.8164 2.27375 13.9513 2.78366 14.0141 3.36308C14.0755 3.9302 14.0745 4.64054 14.0745 5.5149V6.17576L12.7327 7.56295V5.5149C12.7327 4.61098 12.732 3.98625 12.6803 3.50815C12.6298 3.04275 12.5379 2.79502 12.4083 2.6166C12.3033 2.47216 12.176 2.34477 12.0315 2.23983C11.8531 2.11021 11.6054 2.01828 11.14 1.96783C10.6618 1.91606 10.0372 1.91544 9.13321 1.91544H6.32658C5.42262 1.91544 4.79796 1.91609 4.31983 1.96783C3.85451 2.01824 3.60672 2.11034 3.42827 2.23983C3.28392 2.3447 3.15643 2.47228 3.0515 2.6166C2.9219 2.79501 2.82997 3.04279 2.7795 3.50815C2.72774 3.98625 2.72712 4.61098 2.72712 5.5149V10.023C2.72712 10.9274 2.72773 11.5526 2.7795 12.0308C2.82992 12.496 2.92205 12.7429 3.0515 12.9213C3.15645 13.0658 3.28384 13.1931 3.42827 13.2981C3.60676 13.4278 3.85408 13.5207 4.31983 13.5711C4.79797 13.6229 5.42259 13.6235 6.32658 13.6235H6.87057L5.57707 14.9593C5.03527 14.9557 4.57031 14.9468 4.17476 14.9039C3.59508 14.8411 3.08558 14.7064 2.64048 14.3831C2.38215 14.1954 2.15422 13.9685 1.96653 13.7101C1.64319 13.265 1.50851 12.7546 1.4457 12.1749C1.38432 11.6077 1.38525 10.8974 1.38525 10.023V5.5149C1.38525 4.64054 1.38426 3.9302 1.4457 3.36308C1.50853 2.78368 1.64341 2.27374 1.96653 1.82881C2.15417 1.57064 2.38228 1.34244 2.64048 1.15485C3.08544 0.831858 3.59533 0.696815 4.17476 0.634023C4.74193 0.572606 5.45218 0.573579 6.32658 0.573579H9.13321Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M14.2193 14.9553H10.0124L11.3744 13.6135H14.2193V14.9553Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M8.24493 13.3711L7.49015 14.8807C7.40148 15.058 7.58961 15.2462 7.76695 15.1575L9.27651 14.4027L14.6147 9.09939L13.5832 8.06781L8.24493 13.3711Z",fill:"currentColor"})]}),T=()=>(0,a.jsxs)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M5.16437 2.61478C4.54669 2.61478 4.12855 2.61478 3.80695 2.6431C3.49459 2.67065 3.33999 2.72105 3.23468 2.77982C3.02433 2.89726 2.85016 3.07043 2.73273 3.28079C2.67397 3.38612 2.62453 3.54066 2.59699 3.85306C2.56863 4.17469 2.56769 4.59266 2.56769 5.21048L2.56769 10.7896C2.56769 11.4074 2.56864 11.8254 2.59699 12.147C2.62453 12.4594 2.67397 12.6139 2.73273 12.7193C2.85016 12.9296 3.02433 13.1028 3.23468 13.2202C3.33998 13.279 3.49459 13.3294 3.80695 13.357C4.12855 13.3853 4.54669 13.3853 5.16437 13.3853V14.7857C4.57158 14.7857 4.08124 14.7865 3.6839 14.7515C3.27733 14.7156 2.90105 14.6377 2.55206 14.4429C2.11511 14.1989 1.75397 13.8379 1.51007 13.4009C1.31552 13.0521 1.23829 12.6764 1.20246 12.2701C1.16743 11.8727 1.16828 11.3825 1.16828 10.7896L1.16828 5.21048C1.16828 4.61763 1.16743 4.12736 1.20246 3.73001C1.23829 3.32363 1.31551 2.948 1.51007 2.59915C1.75398 2.16214 2.1151 1.80113 2.55207 1.55716C2.90105 1.36239 3.27733 1.28442 3.6839 1.24857C4.08124 1.21356 4.57158 1.21439 5.16437 1.21439L5.16437 2.61478Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M14.8109 7.73392C14.8387 7.91008 14.8388 8.08998 14.8109 8.26615C14.7585 8.59627 14.5985 8.8555 14.4222 9.07474C14.254 9.28376 14.0229 9.5141 13.7689 9.7681L10.4769 13.0591L9.48664 12.0689L12.7786 8.77786C12.8053 8.7512 12.8311 8.72543 12.8558 8.70072H4.91144V7.30033H12.8568C12.8317 7.27526 12.8057 7.24926 12.7786 7.2222L9.48664 3.93118L10.4769 2.94095L13.7689 6.23197C14.023 6.48608 14.254 6.71623 14.4222 6.92533C14.5985 7.14457 14.7585 7.40378 14.8109 7.73392Z",fill:"currentColor"})]}),k=()=>(0,a.jsxs)("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M17.2028 4.90042V6.43663H2.7973V4.90042H17.2028Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M10.9604 13.0635V14.5997H2.7973V13.0635H10.9604Z",fill:"currentColor"})]}),M=()=>(0,a.jsxs)("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M14.8113 15.8272C13.5356 16.8433 11.9198 17.4502 10.1599 17.4503V19.0499C12.2947 19.0499 14.2593 18.3121 15.8084 17.0782L14.8113 15.8272ZM15.9939 5.35358C17.0139 6.62782 17.6238 8.24187 17.6238 10.0001C17.6238 11.7583 17.0139 13.3723 15.9939 14.6465L17.2439 15.6465C18.4826 14.099 19.2234 12.1348 19.2234 10.0001C19.2234 7.86531 18.4826 5.90109 17.2439 4.35358L15.9939 5.35358ZM1.95975 6.336C0.912057 8.63281 0.77661 11.373 1.96952 13.8799L3.41385 13.1924C2.44405 11.1543 2.54405 8.91117 3.41581 7.00006L1.95975 6.336ZM10.1599 0.950256C7.35576 0.950264 4.95215 2.24338 3.33573 4.16119L4.55936 5.19244C5.9008 3.60089 7.87073 2.54987 10.1599 2.54987C11.9198 2.54988 13.5356 3.15682 14.8113 4.17291L15.8084 2.92194C14.2593 1.68807 12.2947 0.950267 10.1599 0.950256Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M6.33866 16.2574C5.45622 15.6421 4.19004 15.4233 3.1453 16.0826L3.12772 16.0933L2.12968 16.7965L2.63261 18.2936L2.68143 18.3649L4.00663 17.4313C4.37846 17.2015 4.93518 17.2284 5.42362 17.569C5.84129 17.8603 6.24524 18.0987 6.65995 18.2867L7.38846 18.6168L8.0496 17.1598L7.32108 16.8297C7.01379 16.6904 6.6943 16.5054 6.33866 16.2574Z",fill:"currentColor"})]}),j=()=>(0,a.jsx)("svg",{width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M7.00003 0.500061C3.41018 0.500061 0.500031 3.41021 0.500031 7.00006C0.500089 7.99551 0.723778 8.94035 1.12503 9.78522L1.38284 10.3272L2.46683 9.81256L2.20901 9.27057C1.88251 8.58313 1.69931 7.81375 1.69925 7.00006C1.69925 4.07295 4.07292 1.69928 7.00003 1.69928C9.92696 1.69949 12.2998 4.07308 12.2998 7.00006C12.2996 9.92686 9.92683 12.2997 7.00003 12.2999C6.39863 12.2999 5.95984 12.2565 5.5723 12.1495C5.19092 12.0441 4.82794 11.8682 4.39261 11.5645C3.74481 11.1128 2.81397 10.9518 2.04495 11.4376L2.03226 11.4454L2.02054 11.4542L1.34183 11.9317L1.74026 13.1182L2.68948 12.4503C2.95376 12.2855 3.35283 12.3026 3.70609 12.5489C4.22619 12.9117 4.71187 13.1573 5.25296 13.3067C5.78812 13.4545 6.3479 13.5001 7.00003 13.5001C10.5896 13.4999 13.4998 10.5896 13.5 7.00006C13.5 3.41034 10.5897 0.500272 7.00003 0.500061ZM6.39554 4.29205V6.39948H4.29202V7.59967H6.39554V9.70709H7.59573V7.59967H9.70706V6.39948H7.59573V4.29205H6.39554Z",fill:"currentColor"})}),R=()=>(0,a.jsx)("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M10 1.22949C5.15604 1.22949 1.22943 5.1561 1.22943 10.0001C1.22943 11.3438 1.53197 12.619 2.07365 13.7593L2.40679 14.4596L3.80656 13.7943L3.47436 13.0939L3.31631 12.7371C2.97057 11.8939 2.77968 10.97 2.77968 10.0001C2.77968 6.0125 6.01243 2.77974 10 2.77974C13.9876 2.77974 17.2203 6.0125 17.2203 10.0001C17.2203 13.9876 13.9876 17.2204 10 17.2204C9.18341 17.2204 8.58586 17.1622 8.05603 17.0159C7.53403 16.8718 7.03891 16.6306 6.44615 16.2172C5.5775 15.6113 4.3323 15.3976 3.3059 16.0459L3.28981 16.0563L3.27372 16.0676L2.5904 16.5484L3.10431 18.0826L4.14444 17.35C4.51837 17.1207 5.07302 17.1507 5.5584 17.4892C6.26064 17.979 6.91506 18.3092 7.64339 18.5104C8.36397 18.7093 9.11785 18.7706 10 18.7706C14.844 18.7706 18.7706 14.844 18.7706 10.0001C18.7706 5.1561 14.844 1.22949 10 1.22949ZM9.2192 6.36955V9.22493H6.36949V10.7752H9.2192V13.6306H10.7694V10.7752H13.6305V9.22493H10.7694V6.36955H9.2192Z",fill:"currentColor"})}),A=()=>(0,a.jsx)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.67269 0.522888C10.8339 0.522888 11.7599 0.522762 12.4963 0.602541C13.2453 0.683705 13.8789 0.854296 14.4263 1.25202C14.7504 1.48744 15.0354 1.77252 15.2709 2.09654C15.6686 2.64398 15.8392 3.27762 15.9203 4.0266C16.0001 4.76295 16 5.689 16 6.85019V9.14991C16 10.3111 16.0001 11.2372 15.9203 11.9735C15.8392 12.7225 15.6686 13.3561 15.2709 13.9036C15.0354 14.2276 14.7504 14.5127 14.4263 14.7481C13.8789 15.1458 13.2453 15.3164 12.4963 15.3976C11.7599 15.4773 10.8339 15.4772 9.67269 15.4772H6.32727C5.16608 15.4772 4.24003 15.4773 3.50368 15.3976C2.75471 15.3164 2.12106 15.1458 1.57363 14.7481C1.2496 14.5127 0.964519 14.2276 0.7291 13.9036C0.331377 13.3561 0.160786 12.7225 0.0796224 11.9735C-0.000156655 11.2372 -3.05163e-05 10.3111 -3.05163e-05 9.14991V6.85019C-3.05163e-05 5.689 -0.000156655 4.76295 0.0796224 4.0266C0.160786 3.27762 0.331377 2.64398 0.7291 2.09654C0.964519 1.77252 1.2496 1.48744 1.57363 1.25202C2.12106 0.854296 2.75471 0.683705 3.50368 0.602541C4.24003 0.522762 5.16608 0.522888 6.32727 0.522888H9.67269ZM5.543 1.8872V14.1119C5.78633 14.1128 6.04706 14.117 6.32727 14.117H9.67269C10.8639 14.117 11.7032 14.1165 12.3492 14.0465C12.9824 13.9779 13.3497 13.8495 13.6267 13.6483C13.8354 13.4967 14.0195 13.3126 14.171 13.104C14.3722 12.8269 14.5007 12.4596 14.5693 11.8265C14.6393 11.1804 14.6398 10.3411 14.6398 9.14991V6.85019C14.6398 5.65901 14.6393 4.81972 14.5693 4.17365C14.5007 3.54053 14.3722 3.17323 14.171 2.89614C14.0195 2.68752 13.8354 2.50341 13.6267 2.35184C13.3497 2.15065 12.9824 2.02217 12.3492 1.95358C11.7032 1.88362 10.8639 1.88311 9.67269 1.88311H6.32727C6.04706 1.88311 5.78633 1.88625 5.543 1.8872ZM4.18277 1.91171C3.99122 1.92164 3.81477 1.93582 3.65073 1.95358C3.01761 2.02217 2.65031 2.15065 2.37322 2.35184C2.1646 2.50341 1.98049 2.68752 1.82892 2.89614C1.62773 3.17323 1.49925 3.54053 1.43066 4.17365C1.36071 4.81972 1.3602 5.65901 1.3602 6.85019V9.14991C1.3602 10.3411 1.36071 11.1804 1.43066 11.8265C1.49925 12.4596 1.62773 12.8269 1.82892 13.104C1.98049 13.3126 2.1646 13.4967 2.37322 13.6483C2.65031 13.8495 3.01761 13.9779 3.65073 14.0465C3.81475 14.0643 3.99124 14.0774 4.18277 14.0874V1.91171Z",fill:"currentColor"})}),N=()=>(0,a.jsx)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M5.5498 9.75006V5.00006H6.9502V9.75006C6.9502 10.33 7.4201 10.7999 8 10.7999C8.5799 10.7999 9.0498 10.33 9.0498 9.75006V4.50006C9.0498 2.95366 7.7964 1.70026 6.25 1.70026C4.7036 1.70026 3.4502 2.95366 3.4502 4.50006V9.75006C3.4502 12.263 5.4871 14.2999 8 14.2999C10.5129 14.2999 12.5498 12.263 12.5498 9.75006V4.00006H13.9502V9.75006C13.9502 13.0362 11.2861 15.7003 8 15.7003C4.71391 15.7003 2.0498 13.0362 2.0498 9.75006V4.50006C2.04981 2.18047 3.9304 0.299867 6.25 0.299866C8.5696 0.299866 10.4502 2.18046 10.4502 4.50006V9.75006C10.4502 11.1032 9.3531 12.2003 8 12.2003C6.6469 12.2003 5.5498 11.1032 5.5498 9.75006Z",fill:"currentColor"})}),L=()=>(0,a.jsxs)("svg",{width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M10.3574 5.02301C10.3574 4.18599 10.3566 3.60604 10.3086 3.16168C10.2617 2.7286 10.1758 2.49542 10.0527 2.32575C9.95376 2.18929 9.83369 2.0693 9.69727 1.97028C9.5276 1.84722 9.29444 1.76032 8.86133 1.71344C8.41698 1.66536 7.83709 1.66461 7 1.66461C6.16301 1.66461 5.58302 1.66539 5.13867 1.71344C4.70548 1.76032 4.47242 1.8472 4.30274 1.97028C4.16621 2.06932 4.04631 2.18922 3.94727 2.32575C3.82419 2.49543 3.73731 2.72849 3.69043 3.16168C3.64238 3.60603 3.6416 4.18602 3.6416 5.02301V8.97711C3.6416 9.81406 3.64239 10.3941 3.69043 10.8384C3.73731 11.2716 3.82419 11.5047 3.94727 11.6744C4.04634 11.811 4.16615 11.9318 4.30274 12.0308C4.47239 12.1538 4.70575 12.2398 5.13867 12.2867C5.58302 12.3347 6.163 12.3355 7 12.3355C7.83709 12.3355 8.41698 12.3348 8.86133 12.2867C9.29443 12.2398 9.5276 12.1539 9.69727 12.0308C9.83387 11.9317 9.95365 11.811 10.0527 11.6744C10.1757 11.5047 10.2617 11.2715 10.3086 10.8384C10.3566 10.3941 10.3574 9.81409 10.3574 8.97711V5.02301ZM11.5576 8.97711C11.5576 9.78764 11.5586 10.4444 11.502 10.9683C11.444 11.5033 11.3204 11.9714 11.0244 12.3795C10.851 12.6185 10.6404 12.8281 10.4014 13.0015C9.9932 13.2976 9.52537 13.4212 8.99024 13.4791C8.46635 13.5358 7.81041 13.5347 7 13.5347C6.18948 13.5347 5.53273 13.5358 5.00879 13.4791C4.47385 13.4211 4.0057 13.2975 3.59766 13.0015C3.35882 12.8282 3.14886 12.6183 2.97559 12.3795C2.67961 11.9714 2.55597 11.5033 2.49805 10.9683C2.44135 10.4444 2.44238 9.78764 2.44238 8.97711V5.02301C2.44238 4.21249 2.44135 3.55574 2.49805 3.0318C2.55598 2.49686 2.67962 2.02872 2.97559 1.62067C3.14887 1.38184 3.35883 1.17188 3.59766 0.998597C4.00571 0.702631 4.47385 0.578988 5.00879 0.521058C5.53273 0.464363 6.18948 0.465394 7 0.465394C7.81041 0.465394 8.46635 0.464369 8.99024 0.521058C9.52537 0.578966 9.9932 0.70255 10.4014 0.998597C10.6404 1.17198 10.851 1.38164 11.0244 1.62067C11.3204 2.02873 11.444 2.49684 11.502 3.0318C11.5586 3.55574 11.5576 4.21249 11.5576 5.02301V8.97711Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M8.75829 10.2657V11.3653H5.24071V10.2657H8.75829Z",fill:"currentColor"})]}),F=()=>(0,a.jsxs)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M12.3033 5.22076C12.3033 4.30543 12.3018 3.67477 12.2496 3.19244C12.1987 2.72318 12.1061 2.47707 11.9781 2.30084C11.8733 2.15663 11.7463 2.02966 11.6021 1.92487C11.4259 1.79689 11.1805 1.70422 10.7115 1.65338C10.2292 1.60113 9.5985 1.60065 8.68317 1.60065H7.31793C6.40262 1.60065 5.77194 1.60116 5.28961 1.65338C4.82034 1.70422 4.57423 1.79683 4.39801 1.92487C4.25378 2.02967 4.12684 2.15661 4.02203 2.30084C3.894 2.47707 3.80139 2.72318 3.75055 3.19244C3.69832 3.67477 3.69782 4.30545 3.69782 5.22076V10.7803C3.69782 11.6958 3.69829 12.3263 3.75055 12.8087C3.80137 13.2777 3.8941 13.5231 4.02203 13.6993C4.12679 13.8435 4.25385 13.9705 4.39801 14.0753C4.57423 14.2033 4.82034 14.2959 5.28961 14.3467C5.77195 14.399 6.40258 14.4005 7.31793 14.4005H8.68317C9.5985 14.4005 10.2292 14.399 10.7115 14.3467C11.1805 14.2959 11.4259 14.2033 11.6021 14.0753C11.7464 13.9704 11.8733 13.8435 11.9781 13.6993C12.1061 13.5231 12.1987 13.2778 12.2496 12.8087C12.3018 12.3263 12.3033 11.6958 12.3033 10.7803V5.22076ZM13.7027 10.7803C13.7027 11.6645 13.7035 12.3838 13.6412 12.959C13.5774 13.5474 13.4412 14.0679 13.1109 14.5225C12.9198 14.7856 12.6884 15.0169 12.4254 15.2081C11.9707 15.5384 11.4503 15.6756 10.8619 15.7393C10.2867 15.8016 9.5673 15.7999 8.68317 15.7999H7.31793C6.43359 15.7999 5.71353 15.8016 5.13825 15.7393C4.54999 15.6756 4.03032 15.5383 3.57575 15.2081C3.31257 15.0169 3.08043 14.7857 2.88922 14.5225C2.55896 14.0679 2.42269 13.5474 2.35895 12.959C2.29666 12.3838 2.29742 11.6645 2.29742 10.7803V5.22076C2.29742 4.33642 2.29662 3.61636 2.35895 3.04108C2.42269 2.45296 2.55914 1.93308 2.88922 1.47858C3.08043 1.2154 3.31257 0.983261 3.57575 0.792054C4.03024 0.461976 4.55013 0.325522 5.13825 0.26178C5.71353 0.199452 6.43359 0.200257 7.31793 0.200257H8.68317C9.56732 0.200257 10.2867 0.199466 10.8619 0.26178C11.4503 0.325528 11.9707 0.461728 12.4254 0.792054C12.6885 0.983252 12.9197 1.21542 13.1109 1.47858C13.441 1.9331 13.5774 2.45291 13.6412 3.04108C13.7035 3.61636 13.7027 4.33642 13.7027 5.22076V10.7803Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M10.104 11.9142V13.215H5.89599V11.9142H10.104Z",fill:"currentColor"})]}),O=()=>(0,a.jsx)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M13.5143 1.27702C14.2174 1.06213 14.9481 1.62463 14.8845 2.38828L13.9796 13.2498C13.9146 14.027 13.0644 14.4739 12.3871 14.0872L9.1377 12.2299L6.96777 14.5149L6.94198 14.5427L6.91221 14.5675C6.34985 15.0361 5.49574 14.6366 5.49536 13.9047V9.93392C5.49547 9.65115 5.60796 9.37981 5.8079 9.17985L11.1965 3.79025L2.8204 7.65584L4.6887 8.40296L4.19856 9.62931L1.8044 8.67184V8.66887C0.923102 8.34156 0.865497 7.10381 1.73097 6.70432L13.3744 1.3306L13.5143 1.27702ZM6.81696 12.7547L7.956 11.5552L6.81696 10.9043V12.7547ZM7.23368 9.62138L12.6957 12.7418L13.4756 3.37948L7.23368 9.62138Z",fill:"currentColor"})}),P=()=>(0,a.jsxs)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M14.1446 8.00006C14.1446 4.60626 11.3938 1.85545 8 1.85545C4.6062 1.85545 1.85539 4.60626 1.85539 8.00006C1.85539 11.3939 4.6062 14.1447 8 14.1447C11.3938 14.1447 14.1446 11.3939 14.1446 8.00006ZM15.511 8.00006C15.511 12.148 12.148 15.511 8 15.511C3.85202 15.511 0.489014 12.148 0.489014 8.00006C0.489014 3.85208 3.85202 0.489075 8 0.489075C12.148 0.489075 15.511 3.85208 15.511 8.00006Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M10.5617 8.42584C10.852 8.2162 10.852 7.78392 10.5617 7.57428L7.25708 5.18757C6.90974 4.93672 6.42436 5.1849 6.42436 5.61335V10.3868C6.42436 10.8152 6.90974 11.0634 7.25708 10.8125L10.5617 8.42584Z",fill:"currentColor"})]}),D=()=>(0,a.jsx)("svg",{width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M1.27209 6.21355C1.70654 3.08895 4.59178 0.908133 7.71643 1.34246C8.95505 1.51476 10.0438 2.07338 10.8815 2.87761L11.9459 1.81414C12.1348 1.62557 12.4573 1.75918 12.4576 2.02605V5.08758C12.4574 5.25309 12.3234 5.38738 12.1578 5.38738H9.09729C8.83002 5.38738 8.69639 5.06367 8.88538 4.87468L10.0328 3.72625C9.37329 3.10001 8.52015 2.66575 7.55139 2.53093C5.08323 2.18786 2.80385 3.9105 2.46057 6.37859C2.11756 8.84671 3.84018 11.1261 6.30823 11.4694C8.77621 11.8122 11.0558 10.0897 11.399 7.62176L11.9938 7.70379L12.5875 7.78679C12.1531 10.9112 9.26766 13.0919 6.14319 12.6579C3.01863 12.2234 0.837829 9.33816 1.27209 6.21355Z",fill:"currentColor"})}),B=()=>(0,a.jsx)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M7.92142 0.349213C10.3745 0.349295 12.5564 1.50526 13.9558 3.299L15.1282 2.12765C15.3304 1.92552 15.6768 2.06949 15.6768 2.35544V5.53929C15.6766 5.71632 15.533 5.85982 15.356 5.86008H12.1711C11.8855 5.85976 11.7427 5.51471 11.9443 5.31255L12.9642 4.29062C11.8238 2.74311 9.98914 1.74112 7.92142 1.74104C4.46442 1.74104 1.66239 4.54307 1.66239 8.00006C1.66239 11.4571 4.46442 14.2591 7.92142 14.2591C11.3783 14.2589 14.1804 11.457 14.1804 8.00006H15.5723C15.5723 12.2252 12.1465 15.6508 7.92142 15.6509C3.6962 15.6509 0.270569 12.2253 0.270569 8.00006C0.270569 3.77485 3.6962 0.349213 7.92142 0.349213Z",fill:"currentColor"})}),H=()=>(0,a.jsxs)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M11.7481 6.70287C11.7481 3.9011 9.47659 1.62983 6.67487 1.62963C3.87298 1.62963 1.60162 3.90098 1.60162 6.70287C1.60182 9.5046 3.8731 11.7761 6.67487 11.7761C9.47647 11.7759 11.7479 9.50448 11.7481 6.70287ZM13.0479 6.70287C13.0477 10.2224 10.1944 13.0757 6.67487 13.0759C3.15513 13.0759 0.301038 10.2226 0.300842 6.70287C0.300842 3.18301 3.15501 0.32885 6.67487 0.32885C10.1946 0.329046 13.0479 3.18313 13.0479 6.70287Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M15.6992 14.7514L14.7793 15.6713L11.3974 12.2894L12.3174 11.3695L15.6992 14.7514Z",fill:"currentColor"})]}),V=()=>(0,a.jsxs)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M15.683 14.7514L14.7631 15.6714L11.3812 12.2895L12.3012 11.3696L15.683 14.7514Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M9.26529 12.5172C8.46935 12.8747 7.58785 13.0757 6.65884 13.0758C5.72975 13.0758 4.8475 12.8756 4.05142 12.5182L4.70474 11.3854C5.30619 11.6367 5.96628 11.776 6.65884 11.776C7.35113 11.7759 8.01071 11.6366 8.61197 11.3854L9.26529 12.5172ZM1.62857 7.35316C1.80469 8.72857 2.53033 9.93122 3.57974 10.734L2.92545 11.8668C1.49137 10.8285 0.50526 9.2092 0.317047 7.35316H1.62857ZM12.9987 7.35316C12.8105 9.20943 11.8245 10.8285 10.3903 11.8668L9.73697 10.734C10.7866 9.93121 11.513 8.72867 11.6891 7.35316H12.9987ZM10.3903 1.53773C11.8247 2.57618 12.8105 4.19596 12.9987 6.05238H11.6891C11.5129 4.67666 10.7869 3.47327 9.73697 2.67055L10.3903 1.53773ZM3.57974 2.67055C2.53001 3.47326 1.80473 4.67675 1.62857 6.05238H0.317047C0.505275 4.19619 1.49122 2.5762 2.92545 1.53773L3.57974 2.67055ZM6.65884 0.328751C7.58764 0.328837 8.46949 0.52903 9.26529 0.886368L8.61099 2.02016C8.00998 1.76927 7.35076 1.62961 6.65884 1.62953C5.96678 1.62953 5.30682 1.76827 4.70572 2.01918L4.05142 0.886368C4.84746 0.528948 5.72982 0.328751 6.65884 0.328751Z",fill:"currentColor"})]}),U=()=>(0,a.jsx)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M8.3125 0.981648C8.66767 1.05456 8.97902 1.20565 9.2627 1.4338C9.48724 1.61444 9.73029 1.85939 9.97949 2.1086L14.707 6.83614L13.293 8.2502L9 3.95723V15.0432H7V3.95723L2.70703 8.2502L1.29297 6.83614L6.02051 2.1086C6.26971 1.85939 6.51277 1.61444 6.7373 1.4338C6.97662 1.24132 7.28445 1.04548 7.6875 0.981648C7.8973 0.948471 8.1031 0.956625 8.3125 0.981648Z",fill:"currentColor"})}),W=()=>(0,a.jsxs)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsxs)("g",{clipPath:"url(#clip0_1450_63327)",children:[(0,a.jsx)("path",{d:"M14.086 5.51371C13.8717 5.05755 13.5879 4.58548 13.2889 4.18113C13.208 4.07178 13.1596 4.04379 13.0242 4.0306C12.4276 3.9726 11.8244 4.05533 11.2269 3.99726C10.7223 3.94821 10.3132 3.71666 10.0115 3.30924C9.6698 2.84782 9.43967 2.31349 9.09818 1.8524C9.01765 1.7437 8.96799 1.71595 8.83348 1.70287C8.29426 1.6505 7.70396 1.65067 7.1665 1.70287C7.03199 1.71595 6.98233 1.7437 6.9018 1.8524C6.56061 2.31308 6.33019 2.8478 5.98849 3.30924C5.68675 3.71666 5.27768 3.94821 4.7731 3.99726C4.17557 4.05533 3.57233 3.9726 2.97579 4.0306C2.8404 4.04379 2.79201 4.07177 2.71109 4.18113C2.41205 4.58548 2.12829 5.05755 1.91397 5.51371C1.85293 5.64365 1.8528 5.70186 1.91397 5.83195C2.14859 6.33082 2.49741 6.76898 2.73231 7.26859C2.95934 7.75156 2.96035 8.24722 2.73332 8.73049C2.49831 9.23066 2.14885 9.66843 1.91397 10.1681C1.85285 10.2982 1.85293 10.3565 1.91397 10.4864C2.1285 10.9429 2.41179 11.4143 2.71109 11.819C2.79201 11.9283 2.8404 11.9563 2.97579 11.9695C3.57233 12.0275 4.17557 11.9448 4.7731 12.0028C5.27768 12.0519 5.68675 12.2834 5.98849 12.6909C6.33018 13.1523 6.56031 13.6866 6.9018 14.1477C6.98233 14.2564 7.03199 14.2842 7.1665 14.2972C7.70396 14.3494 8.29426 14.3496 8.83348 14.2972C8.96799 14.2842 9.01765 14.2564 9.09818 14.1477C9.43937 13.687 9.66979 13.1523 10.0115 12.6909C10.3132 12.2834 10.7223 12.0519 11.2269 12.0028C11.8243 11.9448 12.4271 12.0276 13.0242 11.9695C13.1596 11.9563 13.208 11.9283 13.2889 11.819C13.589 11.4132 13.8719 10.942 14.086 10.4864C14.1471 10.3565 14.1471 10.2982 14.086 10.1681C13.8512 9.66866 13.5017 9.23067 13.2667 8.73049C13.0396 8.24722 13.0406 7.75156 13.2677 7.26859C13.5026 6.76896 13.8513 6.33112 14.086 5.83195C14.1472 5.70186 14.1471 5.64365 14.086 5.51371ZM15.3034 6.40378C15.0684 6.90364 14.7188 7.34124 14.4841 7.84042C14.423 7.9703 14.423 8.02861 14.4841 8.15866C14.7189 8.65839 15.0684 9.09617 15.3034 9.59632C15.5308 10.0802 15.5307 10.5744 15.3034 11.0582C15.052 11.5933 14.7224 12.1426 14.3699 12.6191C14.0684 13.0266 13.658 13.2591 13.1535 13.3081C12.5565 13.3661 11.9541 13.2836 11.3572 13.3415C11.2227 13.3546 11.173 13.3823 11.0925 13.491C10.751 13.9521 10.5209 14.4864 10.1792 14.9479C9.87822 15.3542 9.46713 15.5869 8.96381 15.6359C8.34002 15.6965 7.66188 15.6967 7.03617 15.6359C6.53285 15.5869 6.12176 15.3542 5.82078 14.9479C5.47905 14.4864 5.24872 13.9518 4.90747 13.491C4.82695 13.3823 4.77728 13.3546 4.64278 13.3415C4.04641 13.2836 3.44367 13.3661 2.84647 13.3081C2.34195 13.2591 1.93158 13.0266 1.63007 12.6191C1.27861 12.1441 0.948392 11.5942 0.69656 11.0582C0.469254 10.5744 0.469218 10.0802 0.69656 9.59632C0.931567 9.09618 1.28124 8.65813 1.51591 8.15866C1.57702 8.02861 1.57696 7.9703 1.51591 7.84042C1.28111 7.341 0.931574 6.90366 0.69656 6.40378C0.469152 5.91997 0.469306 5.42567 0.69656 4.94188C0.94838 4.40592 1.27862 3.85603 1.63007 3.38098C1.93158 2.97354 2.34195 2.741 2.84647 2.69195C3.44347 2.63402 4.04593 2.71654 4.64278 2.65861C4.77728 2.64554 4.82695 2.61779 4.90747 2.50909C5.24898 2.04797 5.47907 1.51367 5.82078 1.05224C6.12176 0.645859 6.53285 0.413172 7.03617 0.364231C7.65996 0.30361 8.3381 0.303423 8.96381 0.364231C9.46713 0.413172 9.87822 0.645859 10.1792 1.05224C10.5209 1.5137 10.7513 2.04834 11.0925 2.50909C11.173 2.61779 11.2227 2.64554 11.3572 2.65861C11.9541 2.71654 12.5565 2.63402 13.1535 2.69195C13.658 2.741 14.0684 2.97354 14.3699 3.38098C14.7214 3.85603 15.0516 4.40592 15.3034 4.94188C15.5307 5.42567 15.5308 5.91997 15.3034 6.40378Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M9.13758 8.00005C9.13758 7.37155 8.62849 6.86245 7.99999 6.86245C7.37149 6.86245 6.8624 7.37155 6.8624 8.00005C6.8624 8.62855 7.37149 9.13764 7.99999 9.13764C8.62849 9.13764 9.13758 8.62855 9.13758 8.00005ZM10.4833 8.00005C10.4833 9.37132 9.37126 10.4834 7.99999 10.4834C6.62872 10.4834 5.51668 9.37132 5.51668 8.00005C5.51668 6.62878 6.62872 5.51674 7.99999 5.51674C9.37126 5.51674 10.4833 6.62878 10.4833 8.00005Z",fill:"currentColor"})]}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"clip0_1450_63327",children:(0,a.jsx)("rect",{width:16,height:16,fill:"currentColor"})})})]}),G=()=>(0,a.jsx)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M15.7484 11.1004C15.6274 11.8866 15.5288 12.5365 15.3882 13.0496C15.243 13.579 15.0339 14.0407 14.6455 14.4162C14.5638 14.4952 14.4775 14.5699 14.387 14.6387C13.9568 14.9656 13.4683 15.1012 12.923 15.1642C12.3944 15.2252 11.7374 15.2245 10.9419 15.2245H5.05809C4.2626 15.2245 3.6056 15.2252 3.07703 15.1642C2.53171 15.1012 2.04317 14.9656 1.61296 14.6387C1.52248 14.5699 1.43618 14.4952 1.35447 14.4162C0.966081 14.0407 0.756961 13.579 0.611839 13.0496C0.471162 12.5365 0.372616 11.8866 0.251648 11.1004L1.6458 10.8864C1.77181 11.7054 1.85791 12.2602 1.97209 12.6767C2.08174 13.0767 2.1976 13.2701 2.3344 13.4024C2.37603 13.4426 2.42074 13.4807 2.46683 13.5158C2.6184 13.6308 2.8272 13.7161 3.23912 13.7636C3.66812 13.8131 4.22949 13.8145 5.05809 13.8145H10.9419C11.7705 13.8145 12.3319 13.8131 12.7609 13.7636C13.1728 13.7161 13.3816 13.6308 13.5332 13.5158C13.5793 13.4807 13.624 13.4426 13.6656 13.4024C13.8024 13.2701 13.9183 13.0767 14.0279 12.6767C14.1421 12.2602 14.2282 11.7054 14.3542 10.8864L15.7484 11.1004ZM7.71503 0.558394C7.90371 0.52798 8.09629 0.52798 8.28498 0.558394C8.63706 0.615181 8.91293 0.790123 9.14944 0.985327C9.37579 1.17216 9.62518 1.42894 9.90478 1.7163L13.387 5.29491L12.8817 5.78753L12.3763 6.27908L8.89412 2.70047C8.82608 2.63054 8.76286 2.56716 8.70555 2.50873V10.5336H7.29445V2.50873C7.23714 2.56716 7.17392 2.63054 7.10588 2.70047L3.62368 6.27908L3.11835 5.78753L2.61302 5.29491L6.09522 1.7163C6.37482 1.42894 6.62422 1.17216 6.85057 0.985327C7.08707 0.790123 7.36294 0.615181 7.71503 0.558394Z",fill:"currentColor"})}),z=()=>(0,a.jsx)("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M17.8625 13.8654L18.6477 13.9857C18.5129 14.8622 18.4029 15.5871 18.2459 16.1599C18.0838 16.751 17.8508 17.2683 17.416 17.6886C17.3247 17.7768 17.2279 17.8592 17.1268 17.9361C16.6454 18.3019 16.0992 18.4539 15.4904 18.5242C14.9004 18.5923 14.1671 18.5912 13.2803 18.5912H6.72005C5.83321 18.5912 5.10002 18.5923 4.51 18.5242C3.90109 18.4539 3.35504 18.3019 2.87358 17.9361C2.77245 17.8592 2.67567 17.7768 2.58434 17.6886C2.14949 17.2683 1.91656 16.7511 1.75448 16.1599C1.59747 15.5871 1.48653 14.8622 1.35168 13.9857L2.13787 13.8654L2.92405 13.7441C3.0646 14.6576 3.16087 15.2758 3.28802 15.7396C3.41013 16.185 3.53878 16.3992 3.68985 16.5452C3.73592 16.5897 3.78445 16.6317 3.83544 16.6704C4.00272 16.7975 4.23372 16.8921 4.69248 16.9451C5.17024 17.0002 5.79573 17.0014 6.72005 17.0014H13.2803C14.2045 17.0014 14.8302 17.0002 15.3079 16.9451C15.7665 16.8921 15.9977 16.7975 16.1649 16.6704C16.2159 16.6316 16.2644 16.5897 16.3105 16.5452C16.4616 16.3992 16.5902 16.185 16.7123 15.7396C16.8395 15.2758 16.9358 14.6576 17.0763 13.7441L17.8625 13.8654ZM9.68134 2.22113C9.89253 2.18713 10.1078 2.1871 10.319 2.22113C10.7139 2.28478 11.0234 2.48051 11.2877 2.69867C11.5405 2.90736 11.8185 3.19466 12.1302 3.51494L16.0125 7.50603L14.8731 8.61445L10.9907 4.62433C10.9206 4.55226 10.8554 4.48639 10.7956 4.42536V13.3519H9.20478V4.42536C9.14495 4.48642 9.07985 4.55222 9.00969 4.62433L5.1273 8.61445L3.98685 7.50603L7.86924 3.51494C8.18096 3.19456 8.45977 2.90741 8.71269 2.69867C8.97697 2.48056 9.28658 2.28477 9.68134 2.22113Z",fill:"currentColor"})}),Z=()=>(0,a.jsx)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M2 4.88006C2 3.68015 2 3.08019 2.30557 2.6596C2.40426 2.52377 2.52371 2.40432 2.65954 2.30563C3.08013 2.00006 3.68009 2.00006 4.88 2.00006H11.12C12.3199 2.00006 12.9199 2.00006 13.3405 2.30563C13.4763 2.40432 13.5957 2.52377 13.6944 2.6596C14 3.08019 14 3.68015 14 4.88006V11.1201C14 12.32 14 12.9199 13.6944 13.3405C13.5957 13.4763 13.4763 13.5958 13.3405 13.6945C12.9199 14.0001 12.3199 14.0001 11.12 14.0001H4.88C3.68009 14.0001 3.08013 14.0001 2.65954 13.6945C2.52371 13.5958 2.40426 13.4763 2.30557 13.3405C2 12.9199 2 12.32 2 11.1201V4.88006Z",fill:"currentColor"})}),q=()=>(0,a.jsxs)("svg",{width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M7.06431 5.93348C7.68763 5.93348 8.19307 6.4391 8.19322 7.06239C8.19322 7.68579 7.68772 8.19129 7.06431 8.19129C6.44099 8.19119 5.9354 7.68573 5.9354 7.06239C5.93555 6.43917 6.44108 5.93359 7.06431 5.93348Z",fill:"currentColor"}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.6815 0.963754C10.1169 0.44708 11.6266 0.37489 12.5633 1.31141C13.5 2.24812 13.4277 3.75782 12.911 5.19325C12.7126 5.74437 12.4386 6.31802 12.0965 6.89735C12.4969 7.54645 12.8141 8.19024 13.036 8.80653C13.5527 10.242 13.6251 11.7516 12.6883 12.6884C11.7516 13.6251 10.242 13.5527 8.8065 13.036C8.19022 12.8141 7.54641 12.4969 6.89732 12.0966C6.31797 12.4386 5.74435 12.7126 5.19322 12.911C3.75777 13.4277 2.2481 13.5001 1.31138 12.5634C0.374859 11.6266 0.447049 10.1169 0.963724 8.68153C1.17185 8.10345 1.46321 7.50069 1.82896 6.89247C1.52182 6.35717 1.27235 5.82832 1.08872 5.31825C0.572068 3.88284 0.499714 2.37312 1.43638 1.43641C2.37308 0.499716 3.8828 0.572105 5.31822 1.08875C5.82828 1.27238 6.35715 1.52186 6.89243 1.82899C7.50066 1.46324 8.10341 1.17187 8.6815 0.963754ZM11.3573 8.01161C10.9083 8.62259 10.3901 9.22879 9.80943 9.80946C9.22877 10.3901 8.62255 10.9084 8.01158 11.3573C8.4257 11.5841 8.8287 11.7688 9.21275 11.9071C10.5456 12.3869 11.4246 12.2548 11.8397 11.8397C12.2548 11.4247 12.3869 10.5456 11.9071 9.21278C11.7688 8.82872 11.5841 8.42574 11.3573 8.01161ZM2.56529 8.02918C2.37344 8.39328 2.21495 8.74802 2.09263 9.08778C1.61291 10.4204 1.74512 11.2996 2.16001 11.7147C2.57505 12.1298 3.45415 12.2619 4.78697 11.7821C5.11057 11.6656 5.44786 11.5164 5.7938 11.3368C5.249 10.9223 4.70922 10.4534 4.19029 9.93446C3.57578 9.31993 3.03169 8.67639 2.56529 8.02918ZM6.90708 3.24696C6.24065 3.70485 5.5646 4.26327 4.91392 4.91395C4.26325 5.56462 3.70482 6.24069 3.24693 6.90711C3.72674 7.63331 4.32777 8.37465 5.03892 9.08582C5.64943 9.69633 6.28183 10.2265 6.90806 10.6679C7.59368 10.2026 8.2908 9.63082 8.96079 8.96082C9.6308 8.29082 10.2025 7.59372 10.6678 6.90809C10.2265 6.28186 9.69631 5.64946 9.08579 5.03895C8.37462 4.32779 7.63328 3.72678 6.90708 3.24696ZM11.7147 2.16004C11.2996 1.74515 10.4204 1.61294 9.08775 2.09266C8.74835 2.21485 8.39382 2.37277 8.03013 2.56434C8.67728 3.03071 9.31995 3.57586 9.93443 4.19032C10.4534 4.70926 10.9223 5.24902 11.3368 5.79383C11.5164 5.44791 11.6656 5.11058 11.7821 4.787C12.2618 3.45422 12.1297 2.57508 11.7147 2.16004ZM4.91197 2.21766C3.57922 1.73794 2.70004 1.87001 2.28501 2.28504C1.87001 2.70009 1.73791 3.57926 2.21763 4.912C2.31709 5.18828 2.44112 5.47433 2.58677 5.76747C3.01931 5.18876 3.51474 4.61586 4.06529 4.06532C4.61584 3.51477 5.18872 3.01934 5.76743 2.5868C5.47431 2.44116 5.18824 2.31712 4.91197 2.21766Z",fill:"currentColor"})]}),K=()=>(0,a.jsxs)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M8.00198 6.6446C8.75032 6.6446 9.35738 7.25175 9.35745 8.00007C9.35745 8.74844 8.75036 9.35554 8.00198 9.35554C7.25373 9.35539 6.64749 8.74835 6.64749 8.00007C6.64756 7.25184 7.25377 6.64474 8.00198 6.6446Z",fill:"currentColor"}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.97171 1.29987C11.5854 0.718977 13.271 0.642258 14.3145 1.68561C15.3578 2.72908 15.2811 4.41472 14.7002 6.02839C14.4708 6.66567 14.1505 7.32943 13.75 8.00007C14.1505 8.67068 14.4708 9.3345 14.7002 9.97175C15.2811 11.5854 15.3579 13.2711 14.3145 14.3145C13.2711 15.3579 11.5854 15.2812 9.97171 14.7003C9.33446 14.4708 8.67065 14.1505 8.00003 13.7501C7.32939 14.1505 6.66564 14.4708 6.02835 14.7003C4.41467 15.2812 2.72905 15.3578 1.68558 14.3145C0.642216 13.2711 0.718931 11.5854 1.29984 9.97175C1.52921 9.3346 1.84871 8.67055 2.24905 8.00007C1.84872 7.32959 1.52921 6.66551 1.29984 6.02839C0.718913 4.41465 0.642131 2.72906 1.68558 1.68561C2.72903 0.642173 4.41462 0.718948 6.02835 1.29987C6.66547 1.52925 7.32956 1.84876 8.00003 2.24909C8.67051 1.84875 9.33457 1.52925 9.97171 1.29987ZM12.9405 9.21296C12.4392 9.89306 11.8617 10.5681 11.2149 11.2149C10.5681 11.8617 9.89302 12.4392 9.21292 12.9405C9.62538 13.1579 10.0271 13.338 10.4121 13.4766C11.9147 14.0175 12.9173 13.8738 13.3955 13.3956C13.8738 12.9173 14.0175 11.9147 13.4766 10.4122C13.338 10.0272 13.1579 9.62541 12.9405 9.21296ZM3.05862 9.21296C2.84127 9.62529 2.66203 10.0273 2.52347 10.4122C1.98258 11.9147 2.12633 12.9173 2.60452 13.3956C3.08284 13.8737 4.08551 14.0175 5.58792 13.4766C5.9727 13.3381 6.37395 13.1578 6.78616 12.9405C6.1063 12.4393 5.43174 11.8615 4.78519 11.2149C4.13829 10.568 3.55999 9.8932 3.05862 9.21296ZM7.99905 3.79206C7.23185 4.31425 6.45312 4.95519 5.70413 5.70417C4.95515 6.45315 4.31421 7.2319 3.79202 7.99909C4.31437 8.76672 4.95477 9.54659 5.70413 10.296C6.45315 11.045 7.23277 11.6849 8.00003 12.2071C8.76731 11.6849 9.54689 11.045 10.2959 10.296C11.045 9.54692 11.6848 8.76735 12.2071 8.00007C11.6848 7.23281 11.0449 6.45318 10.2959 5.70417C9.54656 4.95481 8.76668 4.3144 7.99905 3.79206ZM5.58792 2.52351C4.08539 1.98261 3.08278 2.12632 2.60452 2.60456C2.12627 3.08281 1.98258 4.08542 2.52347 5.58796C2.66195 5.97259 2.84146 6.37415 3.05862 6.7862C3.55989 6.10617 4.13846 5.43196 4.78519 4.78522C5.43193 4.13849 6.10612 3.55993 6.78616 3.05866C6.37411 2.8415 5.97255 2.66198 5.58792 2.52351ZM13.3955 2.60456C12.9173 2.12637 11.9146 1.98263 10.4121 2.52351C10.0272 2.66207 9.62525 2.84131 9.21292 3.05866C9.89316 3.56002 10.568 4.13833 11.2149 4.78522C11.8614 5.43178 12.4393 6.10633 12.9405 6.7862C13.1577 6.37399 13.3381 5.97273 13.4766 5.58796C14.0174 4.08555 13.8737 3.08287 13.3955 2.60456Z",fill:"currentColor"})]}),Y=()=>(0,a.jsx)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M14.4782 4.84072L14.2138 10.1152C14.1102 12.1872 14.0671 13.0115 13.3867 13.9608C13.1044 14.3546 12.7499 14.6913 12.3425 14.9536C11.824 15.2873 11.2415 15.4316 10.5586 15.4998C9.88733 15.5669 9.04952 15.5657 8.00004 15.5657C6.95057 15.5657 6.11276 15.5669 5.44148 15.4998C4.75857 15.4316 4.17608 15.2873 3.65759 14.9536C3.25019 14.6913 2.89565 14.3546 2.61338 13.9608C1.93303 13.0115 1.88985 12.1872 1.78625 10.1152L1.52186 4.84072L2.89012 4.77282L3.15349 10.0463C3.26227 12.2218 3.32458 12.6015 3.72652 13.1625C3.90831 13.4161 4.13693 13.6335 4.39934 13.8024C4.6621 13.9715 5.00269 14.0792 5.57831 14.1367C6.16568 14.1953 6.92304 14.1964 8.00004 14.1964C9.07705 14.1964 9.8344 14.1953 10.4218 14.1367C10.9974 14.0792 11.338 13.9715 11.6008 13.8024C11.8632 13.6335 12.0918 13.4161 12.2736 13.1625C12.6755 12.6015 12.7378 12.2218 12.8466 10.0463L13.11 4.77282L14.4782 4.84072ZM5.43017 6.22854H6.79947V11.3909H5.43017V6.22854ZM9.20062 6.22854H10.5699V11.3909H9.20062V6.22854ZM8.53604 0.434484C9.17982 0.434484 9.65226 0.426979 10.0967 0.571311C10.2358 0.616504 10.3717 0.672607 10.502 0.739001C10.9183 0.95116 11.2465 1.29104 11.7016 1.74617L12.4978 2.54141H15.3743V3.91174H0.625793V2.54141H3.50225L4.29852 1.74617C4.75364 1.29105 5.0818 0.951161 5.49807 0.739001C5.62837 0.672607 5.76431 0.616504 5.9034 0.571311C6.34783 0.426979 6.82027 0.434484 7.46405 0.434484H8.53604ZM7.46405 1.80481C6.73214 1.80481 6.51647 1.81193 6.32623 1.87374C6.25551 1.89672 6.18674 1.92539 6.12047 1.95913C5.96404 2.03883 5.82354 2.16258 5.44148 2.54141H10.5586C10.1765 2.16258 10.036 2.03883 9.87961 1.95913C9.81335 1.92539 9.74458 1.89672 9.67386 1.87374C9.48362 1.81193 9.26795 1.80481 8.53604 1.80481H7.46405Z",fill:"currentColor"})}),X=()=>(0,a.jsxs)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M11.0306 5.46375C11.0304 3.79001 9.67334 2.43363 7.99955 2.43363C6.32595 2.43386 4.96965 3.79015 4.96943 5.46375C4.96943 7.13754 6.32581 8.49461 7.99955 8.49483C9.67348 8.49483 11.0306 7.13768 11.0306 5.46375ZM12.3163 5.46375C12.3163 7.84783 10.3836 9.78049 7.99955 9.78049C5.61566 9.78026 3.68281 7.84769 3.68281 5.46375C3.68304 3.08 5.61579 1.14724 7.99955 1.14702C10.3835 1.14702 12.3161 3.07986 12.3163 5.46375Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M7.99996 10.3316C11.7342 10.3316 14.1863 11.8998 15.0387 14.4445L14.4292 14.6483L13.8197 14.8531C13.1954 12.9893 11.3672 11.6182 7.99996 11.6182C4.63271 11.6182 2.80449 12.9893 2.18024 14.8531L1.57074 14.6483L0.961243 14.4445C1.81362 11.8998 4.26573 10.3316 7.99996 10.3316Z",fill:"currentColor"})]}),$=()=>(0,a.jsxs)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M7.65042 6.34967H10.1504V7.65045H7.65042V10.1505H6.34964V7.65045H3.84964V6.34967H6.34964V3.84967H7.65042V6.34967Z",fill:"currentColor"}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.00003 0.34967C10.6727 0.34967 13.6504 3.32737 13.6504 7.00006C13.6504 10.6728 10.6727 13.6505 7.00003 13.6505C3.32734 13.6505 0.34964 10.6728 0.34964 7.00006C0.34964 3.32737 3.32734 0.349671 7.00003 0.34967ZM7.00003 1.65045C4.04531 1.65045 1.65042 4.04534 1.65042 7.00006C1.65042 9.95478 4.04531 12.3497 7.00003 12.3497C9.95475 12.3497 12.3496 9.95478 12.3496 7.00006C12.3496 4.04534 9.95475 1.65045 7.00003 1.65045Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M12.7689 11.8439L15.2437 14.3188L14.324 15.2386L11.8491 12.7637L12.7689 11.8439Z",fill:"currentColor"})]}),Q=()=>(0,a.jsxs)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M10.167 7.66608H3.86624V6.3653H10.167V7.66608Z",fill:"currentColor"}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.01663 0.365295C10.6891 0.365526 13.667 3.34313 13.667 7.01569C13.6669 10.6881 10.6891 13.6658 7.01663 13.6661C3.34401 13.6661 0.366357 10.6883 0.366241 7.01569C0.366242 3.34299 3.34394 0.365296 7.01663 0.365295ZM7.01663 1.66608C4.06191 1.66608 1.66702 4.06096 1.66702 7.01569C1.66714 9.97031 4.06198 12.3653 7.01663 12.3653C9.97109 12.3651 12.3661 9.97017 12.3662 7.01569C12.3662 4.06111 9.97116 1.66631 7.01663 1.66608Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M12.7424 11.8829L15.2173 14.3578L14.2975 15.2776L11.8226 12.8027L12.7424 11.8829Z",fill:"currentColor"})]})},45668:function(e,t,n){n.d(t,{IY:()=>f,rq:()=>C,ze:()=>g}),n(82538);var a=n(23279),r=n(15629),s=n(91054),o=n(23331),i=n(97411),l=n(45264),d=n(85125),c=n(12206),u=n(97463),h=n(46523);let p=(0,r.createContext)({leftSlot:null,rightSlot:null}),g=()=>(0,r.useContext)(p),m=(0,r.createContext)({entered:!1}),f=()=>(0,r.useContext)(m),C=e=>{let{onClose:t,className:n,children:g,title:f,scrollDomRef:C}=e,v=(0,r.useRef)(null),[x,S]=(0,r.useState)(!0),[E,b]=(0,r.useState)(!0),[_,y]=(0,r.useState)(!1),w=(0,r.useMemo)(()=>({entered:_}),[_]),[I,T]=(0,r.useState)(null),[k,M]=(0,r.useState)(null),j=(0,r.useMemo)(()=>({leftSlot:I,rightSlot:k}),[I,k]),{className:R,containerDomRef:A,onContainerScroll:N,ScrollAreaGutters:L}=(0,l.fu)({horizontalScrollbarInsets:{top:0,bottom:100,leading:0,trailing:0},verticalScrollbarInsets:{top:2,bottom:2,leading:0,trailing:0}});return E?(0,a.jsxs)(a.Fragment,{children:[x&&(0,s.createPortal)((0,a.jsx)("div",{className:h.contentSidebarMask,"aria-hidden":!x}),document.body),(0,a.jsx)(i.Z,{in:x,timeout:{enter:200,exit:200},classNames:{appearActive:h.appearActive,appearDone:h.appearDone,exit:h.exit,exitActive:h.exitActive},appear:!0,nodeRef:v,onEntered:()=>y(!0),onExited:()=>{b(!1),t()},children:(0,a.jsx)("div",{ref:v,className:(0,o.Z)(h.contentSidebar,n),"aria-hidden":!x,children:(0,a.jsxs)("div",{className:h.contentContainer,style:{width:"var(--sidebar-width)",maxWidth:"inherit"},children:[(0,a.jsxs)("div",{className:h.contentSidebarTitle,children:[(0,a.jsx)("div",{ref:T,className:h.leftSlot}),"string"==typeof f?(0,a.jsx)("div",{role:"heading",children:f}):f,(0,a.jsx)("div",{ref:M,className:h.rightSlot}),x&&(0,a.jsx)(u.h,{domRef:C,onClick:()=>S(!1),className:h.contentSidebarClose,children:(0,a.jsx)(c.xM,{})})]}),(0,a.jsxs)("div",{className:(0,o.Z)(h.contentSidebarInner,R),ref:(0,d.l)(C,A),onScroll:N,children:[(0,a.jsx)(L,{}),(0,a.jsx)(p.Provider,{value:j,children:(0,a.jsx)(m.Provider,{value:w,children:g})})]})]})})})]}):null}},86336:function(e,t,n){n.d(t,{Ge:()=>p,JK:()=>u,Kj:()=>d,tA:()=>c,vj:()=>l,zV:()=>h}),n(36631),n(82538);var a=n(23279),r=n(15629),s=n(20877);let o=e=>()=>{throw Error("".concat(e," not provided"))},i=(0,r.createContext)({zoomIn:s.Z,zoomOut:s.Z,downloadSvg:s.Z,downloadPng:s.Z,setZoomOut:o("setZoomOut"),setZoomIn:o("setZoomIn"),setDownloadSvg:o("setDownloadSvg"),setDownloadPng:o("setDownloadPng"),renderStatus:"init",setRenderStatus:o("setRenderStatus")}),l=(0,r.memo)(function(e){let{children:t}=e,n=(0,r.useRef)(o("zoomOut")),s=(0,r.useRef)(o("zoomIn")),l=(0,r.useRef)(o("downloadSvg")),d=(0,r.useRef)(o("downloadPng")),[c,u]=(0,r.useState)("init"),h=(0,r.useMemo)(()=>({setZoomOut:e=>n.current=e,setZoomIn:e=>s.current=e,zoomOut:()=>{var e;return null===(e=n.current)||void 0===e?void 0:e.call(n)},zoomIn:()=>{var e;return null===(e=s.current)||void 0===e?void 0:e.call(s)},downloadSvg:()=>{var e;return null===(e=l.current)||void 0===e?void 0:e.call(l)},setDownloadSvg:e=>l.current=e,downloadPng:()=>{var e;return null===(e=d.current)||void 0===e?void 0:e.call(d)},setDownloadPng:e=>d.current=e,renderStatus:c,setRenderStatus:u}),[c]);return(0,a.jsx)(i.Provider,{value:h,children:t})}),d=e=>{let{zoomOut:t,zoomIn:n}=e,{setZoomIn:a,setZoomOut:s}=(0,r.useContext)(i);a(n),s(t)},c=e=>{let{downloadSvg:t,downloadPng:n}=e,{setDownloadSvg:a,setDownloadPng:s}=(0,r.useContext)(i);a(t),s(n)},u=()=>(0,r.useContext)(i),h=()=>(0,r.useContext)(i).renderStatus,p=()=>(0,r.useContext)(i).setRenderStatus},97463:function(e,t,n){n.d(t,{h:()=>l});var a=n(23279),r=n(15360),s=n(23331),o=n(87512);let i={sm:{hover:28,icon:14},md:{hover:28,icon:16},lg:{hover:34,icon:16},xl:{hover:44,icon:20}};function l(e){let{children:t,onClick:n,onFocus:l,onBlur:d,onKeyDown:c,className:u,style:h,disabled:p=!1,size:g="md",sizing:m="container",iconSize:f,domProps:C,domRef:v,focusable:x}=e,S=i[g],E=null!=f?f:S.icon,b=S.hover,_="icon"===m?E:b;return(0,a.jsx)("div",{...C,ref:v,className:(0,s.Z)(o.iconButton,u,{[o.disabled]:p}),style:{"--hover-size":b+"px",width:_+"px",height:_+"px",...h},onClick:e=>{if(p){e.preventDefault(),e.stopPropagation();return}null==n||n()},onFocus:l,onBlur:d,onKeyDown:e=>{if(p){e.preventDefault(),e.stopPropagation();return}n&&"Enter"===e.key?(e.preventDefault(),e.stopPropagation(),n()):null==c||c(e)},tabIndex:!x||p?-1:0,role:"button","aria-disabled":p,children:(0,a.jsx)(r.J,{size:E,children:t})})}},98321:function(e,t,n){let a,r,s,o,i;var l,d,c={};n.r(c),n.d(c,{load_abap:()=>uC,load_abnf:()=>uv,load_actionscript:()=>ux,load_ada:()=>uS,load_agda:()=>uE,load_al:()=>ub,load_antlr4:()=>u_,load_apacheconf:()=>uy,load_apex:()=>uw,load_apl:()=>uI,load_applescript:()=>uT,load_aql:()=>uk,load_arduino:()=>uM,load_arff:()=>uj,load_armasm:()=>uR,load_arturo:()=>uA,load_asciidoc:()=>uN,load_asm6502:()=>uL,load_asmatmel:()=>uF,load_aspnet:()=>uO,load_autohotkey:()=>uP,load_autoit:()=>uD,load_avisynth:()=>uB,load_avro_idl:()=>uH,load_awk:()=>uV,load_bash:()=>uU,load_basic:()=>uW,load_batch:()=>uG,load_bbcode:()=>uz,load_bbj:()=>uZ,load_bicep:()=>uq,load_birb:()=>uK,load_bison:()=>uY,load_bnf:()=>uX,load_bqn:()=>u$,load_brainfuck:()=>uQ,load_brightscript:()=>uJ,load_bro:()=>u1,load_bsl:()=>u0,load_c:()=>u2,load_cfscript:()=>u3,load_chaiscript:()=>u6,load_cil:()=>u4,load_cilkc:()=>u5,load_cilkcpp:()=>u9,load_clike:()=>u7,load_clojure:()=>u8,load_cmake:()=>he,load_cobol:()=>ht,load_coffeescript:()=>hn,load_concurnas:()=>ha,load_cooklang:()=>hr,load_coq:()=>hs,load_core:()=>ho,load_cpp:()=>hi,load_crystal:()=>hl,load_csharp:()=>hd,load_cshtml:()=>hc,load_csp:()=>hu,load_css:()=>hp,load_css_extras:()=>hh,load_csv:()=>hg,load_cue:()=>hm,load_cypher:()=>hf,load_d:()=>hC,load_dart:()=>hv,load_dataweave:()=>hx,load_dax:()=>hS,load_dhall:()=>hE,load_diff:()=>hb,load_django:()=>h_,load_dns_zone_file:()=>hy,load_docker:()=>hw,load_dot:()=>hI,load_ebnf:()=>hT,load_editorconfig:()=>hk,load_eiffel:()=>hM,load_ejs:()=>hj,load_elixir:()=>hR,load_elm:()=>hA,load_erb:()=>hN,load_erlang:()=>hL,load_etlua:()=>hF,load_excel_formula:()=>hO,load_factor:()=>hP,load_false:()=>hD,load_firestore_security_rules:()=>hB,load_flow:()=>hH,load_fortran:()=>hV,load_fsharp:()=>hU,load_ftl:()=>hW,load_gap:()=>hG,load_gcode:()=>hz,load_gdscript:()=>hZ,load_gedcom:()=>hq,load_gettext:()=>hK,load_gherkin:()=>hY,load_git:()=>hX,load_glsl:()=>h$,load_gml:()=>hQ,load_gn:()=>hJ,load_go:()=>h0,load_go_module:()=>h1,load_gradle:()=>h2,load_graphql:()=>h3,load_groovy:()=>h6,load_haml:()=>h4,load_handlebars:()=>h5,load_haskell:()=>h9,load_haxe:()=>h7,load_hcl:()=>h8,load_hlsl:()=>pe,load_hoon:()=>pt,load_hpkp:()=>pn,load_hsts:()=>pa,load_http:()=>pr,load_ichigojam:()=>ps,load_icon:()=>po,load_icu_message_format:()=>pi,load_idris:()=>pl,load_iecst:()=>pd,load_ignore:()=>pc,load_inform7:()=>pu,load_ini:()=>ph,load_io:()=>pp,load_j:()=>pg,load_java:()=>pm,load_javadoc:()=>pf,load_javadoclike:()=>pC,load_javascript:()=>pv,load_javastacktrace:()=>px,load_jexl:()=>pS,load_jolie:()=>pE,load_jq:()=>pb,load_js_extras:()=>p_,load_js_templates:()=>py,load_jsdoc:()=>pw,load_json:()=>pI,load_json5:()=>pT,load_jsonp:()=>pk,load_jsstacktrace:()=>pM,load_jsx:()=>pj,load_julia:()=>pR,load_keepalived:()=>pA,load_keyman:()=>pN,load_kotlin:()=>pL,load_kumir:()=>pF,load_kusto:()=>pO,load_latex:()=>pP,load_latte:()=>pD,load_less:()=>pB,load_lilypond:()=>pH,load_linker_script:()=>pV,load_liquid:()=>pU,load_lisp:()=>pW,load_livescript:()=>pG,load_llvm:()=>pz,load_log:()=>pZ,load_lolcode:()=>pq,load_lua:()=>pK,load_magma:()=>pY,load_makefile:()=>pX,load_markdown:()=>p$,load_markup:()=>pJ,load_markup_templating:()=>pQ,load_mata:()=>p1,load_matlab:()=>p0,load_maxscript:()=>p2,load_mel:()=>p3,load_mermaid:()=>p6,load_metafont:()=>p4,load_mizar:()=>p5,load_mongodb:()=>p9,load_monkey:()=>p7,load_moonscript:()=>p8,load_n1ql:()=>ge,load_n4js:()=>gt,load_nand2tetris_hdl:()=>gn,load_naniscript:()=>ga,load_nasm:()=>gr,load_neon:()=>gs,load_nevod:()=>go,load_nginx:()=>gi,load_nim:()=>gl,load_nix:()=>gd,load_nsis:()=>gc,load_objectivec:()=>gu,load_ocaml:()=>gh,load_odin:()=>gp,load_opencl:()=>gg,load_openqasm:()=>gm,load_oz:()=>gf,load_parigp:()=>gC,load_parser:()=>gv,load_pascal:()=>gx,load_pascaligo:()=>gS,load_pcaxis:()=>gE,load_peoplecode:()=>gb,load_perl:()=>g_,load_php:()=>gw,load_php_extras:()=>gy,load_phpdoc:()=>gI,load_plant_uml:()=>gT,load_plsql:()=>gk,load_powerquery:()=>gM,load_powershell:()=>gj,load_processing:()=>gR,load_prolog:()=>gA,load_promql:()=>gN,load_properties:()=>gL,load_protobuf:()=>gF,load_psl:()=>gO,load_pug:()=>gP,load_puppet:()=>gD,load_pure:()=>gB,load_purebasic:()=>gH,load_purescript:()=>gV,load_python:()=>gU,load_q:()=>gW,load_qml:()=>gG,load_qore:()=>gz,load_qsharp:()=>gZ,load_r:()=>gq,load_racket:()=>gK,load_reason:()=>gY,load_regex:()=>gX,load_rego:()=>g$,load_renpy:()=>gQ,load_rescript:()=>gJ,load_rest:()=>g1,load_rip:()=>g0,load_roboconf:()=>g2,load_robotframework:()=>g3,load_ruby:()=>g6,load_rust:()=>g4,load_sas:()=>g5,load_sass:()=>g9,load_scala:()=>g7,load_scheme:()=>g8,load_scss:()=>me,load_shell_session:()=>mt,load_smali:()=>mn,load_smalltalk:()=>ma,load_smarty:()=>mr,load_sml:()=>ms,load_solidity:()=>mo,load_solution_file:()=>mi,load_soy:()=>ml,load_sparql:()=>md,load_splunk_spl:()=>mc,load_sqf:()=>mu,load_sql:()=>mh,load_squirrel:()=>mp,load_stan:()=>mg,load_stata:()=>mm,load_stylus:()=>mf,load_supercollider:()=>mC,load_swift:()=>mv,load_systemd:()=>mx,load_t4_cs:()=>mS,load_t4_templating:()=>mE,load_t4_vb:()=>mb,load_tap:()=>m_,load_tcl:()=>my,load_textile:()=>mw,load_toml:()=>mI,load_tremor:()=>mT,load_tsx:()=>mk,load_tt2:()=>mM,load_turtle:()=>mj,load_twig:()=>mR,load_typescript:()=>mA,load_typoscript:()=>mN,load_unrealscript:()=>mL,load_uorazor:()=>mF,load_uri:()=>mO,load_v:()=>mP,load_vala:()=>mD,load_vbnet:()=>mB,load_velocity:()=>mH,load_verilog:()=>mV,load_vhdl:()=>mU,load_vim:()=>mW,load_visual_basic:()=>mG,load_warpscript:()=>mz,load_wasm:()=>mZ,load_web_idl:()=>mq,load_wgsl:()=>mK,load_wiki:()=>mY,load_wolfram:()=>mX,load_wren:()=>m$,load_xeora:()=>mQ,load_xml_doc:()=>mJ,load_xojo:()=>m1,load_xquery:()=>m0,load_yaml:()=>m2,load_yang:()=>m3,load_zig:()=>m6}),n(16798);var u=n(23279);n(70538),n(78272),n(5265),n(16326),n(62173),n(17410),n(82538),"undefined"!=typeof window&&(Worker=(l=Worker,class extends l{constructor(e,t){if(t&&"module"===t.type){super(e,t);return}let n=String(e);super(n.includes("://")&&!n.startsWith(location.origin)?URL.createObjectURL(new Blob(["importScripts=((i)=>(...a)=>i(...a.map((u)=>''+new URL(u,\"".concat(n,'"))))(importScripts);importScripts("').concat(n,'")')],{type:"text/javascript"})):e,t)}})),n(36631);var h=n(2480);let p="",g=null,m=null,f=null,C=!1,v=new h.B,x=!1,S=!1,E=!1;async function b(){if(C)return null==m||m.info("Intercom SDK 正在加载中或加载完成，返回对应 Promise"),v.promise;C=!0,null==m||m.info("Intercom SDK 开始加载");try{let e=await n.e("185").then(n.t.bind(n,4481,19));return null==m||m.info("Intercom SDK 加载完成"),v.resolve(e),e}catch(e){throw C=!1,v.reject(e),null==g||g.error({name:"__intercomMessagerSdkLoadFailed",message:"Intercom SDK 加载失败",payload:f(e,{})}),e}}function _(){if(!g||!m||!f||!p)throw Error("[@deepseek/intercom-messager]: you must call `setupIntercomMessager` before calling other functions")}async function y(){var e,t;if(_(),null==g||g.info({name:"__intercomMessagerShowCalled",message:"调用了 Intercom 的 show 方法",payload:void 0}),!C)throw Error("[@deepseek/intercom-messager]: you must call `bootIntercomMessager` before calling `showIntercomMessager`");await v.promise,o||(o=new h.B),null===(e=(t=window).Intercom)||void 0===e||e.call(t,"show");try{await o.promise}catch{}}async function w(){var e,t;if(null==g||g.info({name:"__intercomMessagerHideCalled",message:"调用了 Intercom 的 hide 方法",payload:void 0}),_(),!C)throw Error("[@deepseek/intercom-messager]: you must call `bootIntercomMessager` before calling `hideIntercomMessager`");await v.promise,o&&(o.reject(),o=void 0),null===(e=(t=window).Intercom)||void 0===e||e.call(t,"hide")}async function I(e){var t,n,a,r,s,i;let{email:l,mobile:d,userId:c}=e;null==g||g.info({name:"__intercomMessagerBootCalled",message:"调用了 Intercom 的 boot 方法",payload:void 0}),_();let u=await b();if(S){if(!E)return;null==m||m.info("Intercom SDK 开始 boot，非首次启动"),null===(s=(i=window).Intercom)||void 0===s||s.call(i,"boot",{app_id:p,email:l,name:h(),user_id:c,hide_default_launcher:!0}),E=!1}else null==m||m.info("Intercom SDK 开始 boot，首次启动"),u.default.default({app_id:p,email:l,name:h(),user_id:c,hide_default_launcher:!0}),S=!0;function h(){return"".concat(d||"",":").concat(l||"",":").concat(c||"")}null===(t=(n=window).Intercom)||void 0===t||t.call(n,"onShow",()=>{null==g||g.info({name:"__intercomMessagerOnShow",message:"Intercom 显示弹窗",payload:void 0}),o&&(o.resolve(),o=void 0),x=!0}),null===(a=(r=window).Intercom)||void 0===a||a.call(r,"onHide",()=>{null==g||g.info({name:"__intercomMessagerOnHide",message:"Intercom 隐藏弹窗",payload:void 0}),o&&(o.reject(),o=void 0),x=!1})}function T(){return _(),null==g||g.info({name:"__intercomMessagerGetShowCalled",message:"获取了 Intercom 的 show 状态，".concat(x),payload:{show:"".concat(x)}}),x}async function k(){var e,t;_(),null==g||g.info({name:"__intercomMessagerShutdownCalled",message:"调用了 Intercom 的 shutdown 方法",payload:void 0}),await v.promise,null==o||o.reject(),x=!1,null===(e=(t=window).Intercom)||void 0===e||e.call(t,"shutdown"),E=!0}let M=async e=>{var t,n;await v.promise,null===(t=(n=window).Intercom)||void 0===t||t.call(n,"update",{dataFinderSSID:e})};var j=n(25448);let R=null,A=new h.B,N="CN";async function L(e,t){let{tintColor:n}=t,a=new h.B;return initSMCaptcha({...e,..."US"===N?{domains:["captcha-fjny.fengkongcloud.cn"]}:"SG"===N?{domains:["captcha-xjp.fengkongcloud.cn"]}:"GLOBAL"===N?{domains:["captcha.fengkongcloud.com"]}:void 0,onError(e,t){null==R||R.error({name:"__shumeiError",message:"数美验证码初始化失败",payload:{errorType:e,code:t.code,message:t.message}})},style:{slideBar:{border:"1px solid ".concat(n),button:{boxShadow:"none",background:n}}}},e=>{a.resolve(e)}),await a.promise}var F=n(78549);let O="",P=!1;n(63393);let D=null,B=new h.B;async function H(){if(document.querySelector("script[data-fp]"))return;window._smReadyFuncs=[],window.SMSdk={ready:function(e){e&&window._smReadyFuncs.push(e)}};let e=document.createElement("script");return e.src="https://cdn.deepseek.com/static/chat/fp-1.min.js",e.dataset.fp="true",null==D||D.info({name:"__shumeiDeviceIdScriptSetup",message:"数美设备识别 script 设置",payload:{}}),document.head.appendChild(e),e.onload=()=>{B.resolve(),null==D||D.info({name:"__shumeiDeviceIdScriptLoadOk",message:"数美设备识别 script 加载成功",payload:{}})},e.onerror=e=>{B.reject(e),null==D||D.error({name:"__shumeiDeviceIdScriptLoadFailed",message:"数美设备识别 script 加载失败",payload:D.withError(e,{reason:"other"})})},await B.promise}async function V(){let e="",t=new h.B;try{return window.SMSdk.ready(()=>{e=window.SMSdk.getDeviceId?window.SMSdk.getDeviceId():e,t.resolve()}),await t.promise,e}catch(e){return t.reject(e),null==D||D.error({name:"__shumeiDeviceIdError",message:"数美设备识别 获取deviceId 失败",payload:D.withError(e,{reason:"other"})}),null}}var U=n(15629),W=n(61498);function G(e){let{children:t,disabled:n,arrowVariant:a,showArrow:r,leaveDelay:s,enterDelay:o,floatingAnimated:i,size:l,hoverable:d}=e,c=(0,U.useContext)(W.d),h=null!=n?n:c.disabled,p=null!=a?a:c.arrowVariant,g=null!=r?r:c.showArrow,m=null!=s?s:c.leaveDelay,f=null!=o?o:c.enterDelay,C=null!=i?i:c.floatingAnimated,v=null!=l?l:c.size,x=null!=d?d:c.hoverable;return(0,u.jsx)(W.d.Provider,{value:(0,U.useMemo)(()=>({disabled:h,arrowVariant:p,showArrow:g,leaveDelay:m,enterDelay:f,floatingAnimated:C,size:v,hoverable:x}),[h,p,g,m,f,C,v,x]),children:t})}var z=n(41380),Z=n(58764);let q=e=>{let{children:t,fontFamily:n,inputHeightL:a,inputHeightM:r,inputHeightS:s,inputHeightXs:o,fontWeightStrong:i,fontSizeM:l,lineHeightM:d,fontSizeSp:c,lineHeightSp:h,fontSizeS:p,lineHeightS:g,fontSizeXsp:m,lineHeightXsp:f,fontSizeXs:C,lineHeightXs:v,easeInOut:x,easeIn:S,easeOut:E,fontFamilyCode:b,transitionDuration:_,transitionDurationFast:y,transitionDurationSlow:w,rgbInfo:I,rgbHover:T,rgbInput:k,label1:M,label2:j,label3:R,rgbError:A,rgbWarning:N,rgbSuccess:L,transparent:F,background1:O,backgroundElevated:P,materialRegular:D,separatorColor:B,rgbPrimary:H,rgbLink:V,rgbPrimaryForeground:W,segmentedButtonColor:G,segmentedSeparatorColor:q,buttonColor:K,buttonHoverColor:Y,secondaryButtonColor:X,borderedSecondaryButtonColor:$,inputPrefixColor:Q,secondaryButtonHoverColor:J,modalContentColor:ee,rgbInputFocus:et,borderedButtonHoverColor:en,textPrimaryButtonColor:ea,tabsActiveColor:er}=e,es=(0,U.useMemo)(()=>({"--ds-font-family":n,"--ds-input-height-l":a,"--ds-input-height-m":r,"--ds-input-height-s":s,"--ds-input-height-xs":o,"--ds-font-weight-strong":i,"--ds-font-size-m":l,"--ds-line-height-m":d,"--ds-font-size-sp":c,"--ds-line-height-sp":h,"--ds-font-size-s":p,"--ds-line-height-s":g,"--ds-font-size-xsp":m,"--ds-line-height-xsp":f,"--ds-font-size-xs":C,"--ds-line-height-xs":v,"--ds-ease-in-out":x,"--ds-ease-in":S,"--ds-ease-out":E,"--ds-font-family-code":b,"--ds-transition-duration":_,"--ds-transition-duration-fast":y,"--ds-transition-duration-slow":w,"--ds-rgb-info":I,"--ds-rgb-hover":T,"--ds-rgb-input":k,"--ds-rgb-input-focus":et,"--ds-rgb-label-1":M,"--ds-rgb-label-2":j,"--ds-rgb-label-3":R,"--ds-rgb-error":A,"--ds-rgb-warning":N,"--ds-rgb-success":L,"--ds-rgba-transparent":F,"--ds-rgb-bg-base":O,"--ds-rgb-elevated":P,"--ds-rgb-header":D,"--ds-rgb-separator":B,"--ds-rgb-primary":H,"--ds-rgb-link":V,"--ds-rgb-primary-foreground":W,"--ds-rgb-segmented-button":G,"--ds-rgb-segmented-separator":q,"--ds-button-color":K,"--ds-button-hover-color":Y,"--ds-secondary-button-color":X,"--ds-secondary-button-hover-color":J,"--ds-button-bordered-hover-color":en,"--ds-bordered-secondary-button-color":$,"--ds-input-prefix-color":Q,"--ds-modal-content-color":ee,"--ds-text-primary-button-color":ea,"--ds-tabs-active-color":er}),[n,a,r,s,o,i,l,d,c,h,p,g,m,f,C,v,x,S,E,b,_,y,w,I,T,k,et,M,j,R,A,N,L,F,O,P,D,B,H,V,W,G,q,K,Y,X,J,en,$,Q,ee,ea,er]);return(0,u.jsx)(z.W.Provider,{value:es,children:(0,u.jsx)("div",{className:"".concat(Z.F,"-theme"),style:es,children:t})})};var K=n(70888),Y=n(20439),X=n(30866),$=n(91054),Q=n(23331),J=n(3172),ee=n(97411);function et(e){let{children:t,appear:n,in:a,onExited:r}=e,s=(0,U.useRef)(null);return(0,u.jsx)(ee.Z,{nodeRef:s,appear:n,in:a,timeout:100,classNames:{appear:"".concat(Z.F,"-fade-in-enter"),appearActive:"".concat(Z.F,"-fade-in-active"),enter:"".concat(Z.F,"-fade-in-enter"),enterActive:"".concat(Z.F,"-fade-in-active"),exit:"".concat(Z.F,"-fade-in-exit"),exitActive:"".concat(Z.F,"-fade-in-exit-active")},onExited:r,unmountOnExit:!0,children:t(s)})}n(77090),n(2419);var en=n(55736);let ea=n(28258).ZP;var er=n(10090),es=n(52606);function eo(e){let{autoFocus:t,children:n,show:a=!1,onShowChange:r,returnFocus:s=!0,appear:o=!0,closeOnMaskClick:i=!0,closeOnEscapeKeydown:l=!0,onAfterClose:d,onOpenEffect:c,wrapperClassName:h}=e,p=(0,U.useCallback)(e=>{l&&"Escape"===e.key&&(null==r||r(!1))},[r,l]),g=(0,z.B)(),{value:m,trigger:f}=(0,er.UL)({value:a,defaultValue:a,shouldDelay:()=>!a}),C=(0,en.C)(m),v=(0,en.C)(a),x=(0,er.II)(c);(0,U.useEffect)(()=>{if(a){var e;null===(e=x.current)||void 0===e||e.call(x)}},[a,x]);let S=(0,U.useRef)(!1),E=i?e=>{S.current&&e.target===e.currentTarget&&(null==r||r(!1))}:void 0;return(0,u.jsxs)(u.Fragment,{children:[(0,$.createPortal)((0,u.jsx)(et,{appear:o,in:a,onExited:f,children:e=>(0,u.jsx)("div",{ref:e,className:"".concat(Z.F,"-modal-overlay"),style:{zIndex:C}})}),document.body),(0,$.createPortal)((0,u.jsx)("div",{className:(0,Q.Z)("".concat(Z.F,"-theme"),"".concat(Z.F,"-modal-wrapper"),!a&&"".concat(Z.F,"-modal-wrapper--hide"),h),style:{...g,zIndex:v},onMouseDown:e=>{if(e.target!==e.currentTarget)return;S.current=!0;let t=()=>{setTimeout(()=>{S.current=!1},0),(0,es.S)("mouseup",document,t)};(0,es.on)("mouseup",document,t)},onClick:E,"data-transform-origin":"center",children:(0,u.jsx)(J.j,{in:a,appear:o,onExited:d,animated:!0,children:e=>(0,u.jsx)("div",{ref:e,className:"".concat(Z.F,"-modal"),onClick:E,onKeyDown:p,children:(0,u.jsx)(ea,{returnFocus:s,autoFocus:t,children:n})})})}),document.body)]})}var ei=n(62443);function el(e){let{title:t,footer:n,onClose:a,domRef:r,children:s,variant:o,afterTitle:i,headerWrapperStyle:l,titleDomProps:d,titleStyle:c,contentDomProps:h,footerDomProps:p,domProps:g,style:m,className:f,theme:C,newCloseButton:v,hideClose:x,closeButtonNode:S}=e,E=(0,z.B)(),b=(0,U.useMemo)(()=>({...E,...null==g?void 0:g.style,...m,"--ds-modal-content-color":null==C?void 0:C.color,"--ds-modal-content-text-color":null==C?void 0:C.textColor}),[null==g?void 0:g.style,m,null==C?void 0:C.color,null==C?void 0:C.textColor,E]),_=v?ei.m:ei.P,y=S||(0,u.jsx)(_,{onClick:a});return(0,u.jsxs)("div",{tabIndex:-1,...g,className:(0,Q.Z)("".concat(Z.F,"-modal-content"),"".concat(Z.F,"-elevated"),o&&"".concat(Z.F,"-modal-content--").concat(o),f,null==g?void 0:g.className),style:b,ref:r,role:"dialog",children:[(0,u.jsxs)("div",{className:"".concat(Z.F,"-modal-content__header-wrapper"),style:l,children:[(0,u.jsx)("div",{...d,style:{...null==d?void 0:d.style,...c},className:(0,Q.Z)("".concat(Z.F,"-modal-content__title"),null==d?void 0:d.className),children:t}),i,x?null:y]}),s?(0,u.jsx)("div",{...h,children:s}):null,n?(0,u.jsx)("div",{className:(0,Q.Z)("".concat(Z.F,"-modal-content__footer"),null==p?void 0:p.className),...p,children:n}):null]})}function ed(e){let{children:t}=e;return(0,u.jsx)("div",{className:"".concat(Z.F,"-modal-content__button-group"),children:t})}n(56279);let ec=(0,U.createContext)(null);function eu(){let e=(0,U.useContext)(ec);if(!e)throw Error("useModalApi must be used within a ModalProvider");return e}let eh=(0,U.createContext)(null);function ep(e){let{children:t}=e,n=(0,U.useRef)(0),[a,r]=(0,U.useState)([]),s=(0,U.useCallback)(e=>{let t=n.current++,{transformedOptions:a,handle:s}=function(e){let{props:t,key:n}=e,a={current:void 0},r={current:void 0},s={current:void 0};return{transformedOptions:{modalKey:n,modalContentProps:t.modalContentProps,modalProps:t.modalProps,setShowRef:a,setModalPropsRef:r,setModalContentPropsRef:s},handle:{close:()=>{var e;null===(e=a.current)||void 0===e||e.call(a,!1)},setModalProps:e=>{var t;null==r||null===(t=r.current)||void 0===t||t.call(r,e)},setModalContentProps:e=>{var t;null==s||null===(t=s.current)||void 0===t||t.call(s,e)}}}}({props:e,key:t});return r(e=>e.concat({key:t,props:a,handle:s})),s},[]),o=(0,er.$0)(()=>{a.forEach(e=>{let{handle:t}=e;t.close()})}),i=(0,U.useMemo)(()=>({open:s,closeAll:o}),[s,o]);return(0,u.jsxs)(ec.Provider,{value:i,children:[t,(0,u.jsx)(eh.Provider,{value:r,children:a.map(e=>{let{key:t,props:n}=e;return(0,u.jsx)(eg,{...n},t)})})]})}let eg=(0,U.memo)(function(e){var t;let{modalKey:n,modalContentProps:a,setShowRef:r,setModalContentPropsRef:s,setModalPropsRef:o,modalProps:i}=e,l=(0,U.useContext)(eh);if(!l)throw Error("ModalWrapper must be used within a ModalProvider");let[d,c]=(0,U.useState)(!0),[h,p]=(0,U.useState)(a),[g,m]=(0,U.useState)(i);r.current=c,s.current=p,o.current=m;let f=(0,U.useMemo)(()=>({...g,onAfterClose:()=>{var e;null==g||null===(e=g.onAfterClose)||void 0===e||e.call(g),l(e=>e.filter(e=>e.key!==n))}}),[g,n,l]),C=null==h?void 0:h.onClose,v=null==f?void 0:f.onShowChange,x=(0,U.useCallback)(()=>{c(!1),null==v||v(!1),null==C||C()},[C,v]),S={...h,onClose:x},E=(0,U.useCallback)(e=>{null==v||v(e),c(e)},[v]),b={...f,appear:!0,show:d,onShowChange:E,children:null!==(t=null==f?void 0:f.children)&&void 0!==t?t:(0,u.jsx)(el,{...S})};return(0,u.jsx)(eo,{...b})});function em(){return(0,u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[(0,u.jsx)("path",{d:"M11.038 3.34834C11.0732 3.1627 11.0333 2.97067 10.927 2.81447C10.8206 2.65827 10.6566 2.55071 10.471 2.51545C10.2853 2.48019 10.0933 2.52011 9.93711 2.62644C9.78092 2.73277 9.67336 2.89679 9.63809 3.08242L8.67035 8.20036L4.16496 8.20131C3.97606 8.20131 3.79489 8.27635 3.66131 8.40993C3.52773 8.54351 3.45269 8.72468 3.45269 8.91359C3.45269 9.10249 3.52773 9.28366 3.66131 9.41724C3.79489 9.55082 3.97606 9.62586 4.16496 9.62586L8.40063 9.62396L7.50221 14.3725L3.21526 14.3744C3.02636 14.3744 2.84519 14.4494 2.71161 14.583C2.57803 14.7166 2.50299 14.8977 2.50299 15.0866C2.50299 15.2756 2.57803 15.4567 2.71161 15.5903C2.84519 15.7239 3.02636 15.7989 3.21526 15.7989L7.2325 15.797L6.31414 20.6557C6.29637 20.7478 6.29696 20.8425 6.31588 20.9343C6.3348 21.0262 6.37168 21.1134 6.42439 21.191C6.47711 21.2686 6.54463 21.335 6.62307 21.3864C6.70151 21.4378 6.78934 21.4732 6.8815 21.4906C6.97367 21.508 7.06836 21.507 7.16014 21.4877C7.25192 21.4684 7.33899 21.4311 7.41634 21.3781C7.49369 21.325 7.5598 21.2572 7.61088 21.1786C7.66196 21.0999 7.697 21.0119 7.714 20.9197L8.68269 15.7961L13.8814 15.7942L12.962 20.6557C12.9443 20.7478 12.9449 20.8425 12.9638 20.9343C12.9827 21.0262 13.0196 21.1134 13.0723 21.191C13.125 21.2686 13.1925 21.335 13.271 21.3864C13.3494 21.4378 13.4372 21.4732 13.5294 21.4906C13.6216 21.508 13.7163 21.507 13.808 21.4877C13.8998 21.4684 13.9869 21.4311 14.0642 21.3781C14.1416 21.325 14.2077 21.2572 14.2588 21.1786C14.3099 21.0999 14.3449 21.0119 14.3619 20.9197L15.3316 15.7932L19.835 15.7913C20.0239 15.7913 20.2051 15.7163 20.3387 15.5827C20.4723 15.4491 20.5473 15.268 20.5473 15.079C20.5473 14.8901 20.4723 14.709 20.3387 14.5754C20.2051 14.4418 20.0239 14.3668 19.835 14.3668L15.6013 14.3687L16.4997 9.62016L20.7847 9.61826C20.9736 9.61826 21.1548 9.54322 21.2884 9.40964C21.422 9.27607 21.497 9.0949 21.497 8.90599C21.497 8.71708 21.422 8.53591 21.2884 8.40233C21.1548 8.26876 20.9736 8.19371 20.7847 8.19371L16.7684 8.19561L17.6859 3.34834C17.7211 3.1627 17.6812 2.97067 17.5749 2.81447C17.4685 2.65827 17.3045 2.55071 17.1189 2.51545C16.9333 2.48019 16.7412 2.52011 16.585 2.62644C16.4288 2.73277 16.3213 2.89679 16.286 3.08242L15.3192 8.19656L10.1205 8.19846L11.038 3.34834ZM9.85083 9.62396L15.0495 9.62111L14.1511 14.3696L8.95241 14.3715L9.85083 9.62396Z",fill:"currentColor"}),(0,u.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.63809 3.08262C9.67336 2.89698 9.78092 2.73296 9.93711 2.62663C10.0933 2.52031 10.2853 2.48038 10.471 2.51565C10.6566 2.55091 10.8206 2.65847 10.927 2.81467C11.0333 2.97086 11.0732 3.1629 11.038 3.34853L10.1205 8.19866L15.3192 8.19676L16.286 3.08262C16.3213 2.89698 16.4288 2.73296 16.585 2.62663C16.7412 2.52031 16.9333 2.48038 17.1189 2.51565C17.3045 2.55091 17.4685 2.65847 17.5749 2.81467C17.6812 2.97086 17.7211 3.1629 17.6859 3.34853L16.7684 8.19581L20.7847 8.19391C20.9736 8.19391 21.1548 8.26895 21.2884 8.40253C21.422 8.53611 21.497 8.71728 21.497 8.90619C21.497 9.09509 21.422 9.27626 21.2884 9.40984C21.1548 9.54342 20.9736 9.61846 20.7847 9.61846L16.4997 9.62036L15.6013 14.3689L19.835 14.367C20.0239 14.367 20.2051 14.442 20.3387 14.5756C20.4723 14.7092 20.5473 14.8903 20.5473 15.0792C20.5473 15.2682 20.4723 15.4493 20.3387 15.5829C20.2051 15.7165 20.0239 15.7915 19.835 15.7915L15.3316 15.7934L14.3619 20.9199C14.3449 21.0121 14.3099 21.1001 14.2588 21.1788C14.2077 21.2574 14.1416 21.3252 14.0642 21.3783C13.9869 21.4313 13.8998 21.4686 13.808 21.4879C13.7163 21.5072 13.6216 21.5082 13.5294 21.4908C13.4372 21.4734 13.3494 21.438 13.271 21.3866C13.1925 21.3352 13.125 21.2688 13.0723 21.1912C13.0196 21.1136 12.9827 21.0264 12.9638 20.9345C12.9449 20.8427 12.9443 20.748 12.962 20.6559L13.8814 15.7944L8.68269 15.7963L7.714 20.9199C7.697 21.0121 7.66196 21.1001 7.61088 21.1788C7.5598 21.2574 7.49369 21.3252 7.41634 21.3783C7.33898 21.4313 7.25192 21.4686 7.16014 21.4879C7.06836 21.5072 6.97367 21.5082 6.8815 21.4908C6.78934 21.4734 6.70151 21.438 6.62307 21.3866C6.54463 21.3352 6.47711 21.2688 6.42439 21.1912C6.37168 21.1136 6.3348 21.0264 6.31588 20.9345C6.29696 20.8427 6.29637 20.748 6.31414 20.6559L7.2325 15.7972L3.21526 15.7991C3.02636 15.7991 2.84519 15.7241 2.71161 15.5905C2.57803 15.4569 2.50299 15.2757 2.50299 15.0868C2.50299 14.8979 2.57803 14.7168 2.71161 14.5832C2.84519 14.4496 3.02636 14.3746 3.21526 14.3746L7.50221 14.3727L8.40063 9.62416L4.16496 9.62606C3.97606 9.62606 3.79489 9.55102 3.66131 9.41744C3.52773 9.28386 3.45269 9.10269 3.45269 8.91378C3.45269 8.72488 3.52773 8.54371 3.66131 8.41013C3.79489 8.27655 3.97606 8.20151 4.16496 8.20151L8.67035 8.20056L9.63809 3.08262ZM8.42175 7.90061L9.34332 3.02688C9.39343 2.76308 9.54633 2.52974 9.7683 2.37864C9.99027 2.22754 10.2632 2.1708 10.527 2.22092C10.7908 2.27103 11.0239 2.42388 11.175 2.64585C11.326 2.86775 11.3828 3.14056 11.3327 3.40429M11.3327 3.40429L10.4826 7.89853L15.0706 7.89685L15.9912 3.02689C16.0413 2.76309 16.1942 2.52974 16.4162 2.37864C16.6382 2.22754 16.9111 2.1708 17.1749 2.22092C17.4387 2.27103 17.6718 2.42388 17.8229 2.64585C17.974 2.86782 18.0307 3.14072 17.9806 3.40452L17.1306 7.89564L20.7846 7.89391C21.0531 7.89391 21.3107 8.00056 21.5005 8.1904C21.6904 8.38024 21.797 8.63771 21.797 8.90619C21.797 9.17466 21.6904 9.43213 21.5005 9.62197C21.3107 9.81178 21.0533 9.91843 20.7849 9.91846L16.7483 9.92025L15.9634 14.0687L19.8349 14.067C20.1034 14.067 20.361 14.1736 20.5508 14.3635C20.7407 14.5533 20.8473 14.8108 20.8473 15.0792C20.8473 15.3477 20.7407 15.6052 20.5508 15.795C20.361 15.9848 20.1036 16.0915 19.8352 16.0915L15.5801 16.0933L14.6569 20.9743C14.6327 21.1051 14.5829 21.2306 14.5104 21.3422C14.4378 21.454 14.3438 21.5503 14.2339 21.6257C14.124 21.7011 14.0002 21.754 13.8698 21.7814C13.7394 21.8089 13.6048 21.8103 13.4738 21.7856C13.3428 21.7609 13.218 21.7106 13.1065 21.6375C12.995 21.5644 12.8991 21.4701 12.8242 21.3598C12.7493 21.2496 12.6968 21.1256 12.67 20.9951C12.6431 20.8648 12.6422 20.7305 12.6673 20.5998L13.5193 16.0945L8.93131 16.0962L8.00903 20.9743C7.98483 21.1051 7.93493 21.2306 7.86248 21.3422C7.78989 21.454 7.69593 21.5503 7.586 21.6257C7.47607 21.7011 7.35234 21.754 7.2219 21.7814C7.09146 21.8089 6.95689 21.8103 6.8259 21.7856C6.69492 21.7609 6.5701 21.7106 6.45862 21.6375C6.34714 21.5644 6.25118 21.4701 6.17626 21.3598C6.10134 21.2496 6.04894 21.1256 6.02205 20.9951C5.9952 20.8647 5.99432 20.7303 6.01946 20.5996L6.87045 16.0974L3.2154 16.0991C2.94693 16.0991 2.68931 15.9925 2.49948 15.8026C2.30964 15.6128 2.20299 15.3553 2.20299 15.0868C2.20299 14.8184 2.30964 14.5609 2.49948 14.3711C2.68928 14.1812 2.94671 14.0746 3.21513 14.0746L7.25363 14.0728L8.03852 9.92432L4.1651 9.92606C3.89663 9.92606 3.63902 9.81941 3.44918 9.62957C3.25934 9.43973 3.15269 9.18226 3.15269 8.91378C3.15269 8.64531 3.25934 8.38784 3.44918 8.198C3.639 8.00817 3.89645 7.90152 4.1649 7.90151L8.42175 7.90061M9.85065 9.62416L8.95241 14.3717L14.1511 14.3698L15.0495 9.62131L9.85065 9.62416ZM10.0992 9.92402L9.31452 14.0716L13.9025 14.0699L14.6874 9.92151L10.0992 9.92402Z",fill:"currentColor"})]})}function ef(){return(0,u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",style:{width:16,height:16},children:[(0,u.jsx)("path",{fill:"#4285f4",fillOpacity:"1",fillRule:"evenodd",stroke:"none",d:"M17.64 9.2c0-.637-.057-1.251-.164-1.84H9v3.481h4.844c-.209 1.125-.843 2.078-1.796 2.717v2.258h2.908c1.702-1.567 2.684-3.874 2.684-6.615z"}),(0,u.jsx)("path",{fill:"#34a853",fillOpacity:"1",fillRule:"evenodd",stroke:"none",d:"M9.003 18c2.43 0 4.467-.806 5.956-2.18l-2.909-2.26c-.806.54-1.836.86-3.047.86-2.344 0-4.328-1.584-5.036-3.711H.96v2.332C2.44 15.983 5.485 18 9.003 18z"}),(0,u.jsx)("path",{fill:"#fbbc05",fillOpacity:"1",fillRule:"evenodd",stroke:"none",d:"M3.964 10.712c-.18-.54-.282-1.117-.282-1.71 0-.593.102-1.17.282-1.71V4.96H.957C.347 6.175 0 7.55 0 9.002c0 1.452.348 2.827.957 4.042l3.007-2.332z"}),(0,u.jsx)("path",{fill:"#ea4335",fillOpacity:"1",fillRule:"evenodd",stroke:"none",d:"M9.003 3.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C13.464.891 11.428 0 9.002 0 5.485 0 2.44 2.017.96 4.958L3.967 7.29c.708-2.127 2.692-3.71 5.036-3.71z"})]})}function eC(){return(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:(0,u.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.97671 3.2998C3.0897 3.2998 1.55998 4.85786 1.55998 6.77981V17.2198C1.55998 19.1418 3.0897 20.6998 4.97671 20.6998H19.0233C20.9103 20.6998 22.44 19.1418 22.44 17.2198V6.7798C22.44 4.85785 20.9103 3.2998 19.0233 3.2998H4.97671ZM4.97671 5.23314C4.13804 5.23314 3.45816 5.92561 3.45816 6.77981V7.18001L12.0001 11.8068L20.5418 7.18021V6.7798C20.5418 5.9256 19.8619 5.23314 19.0233 5.23314H4.97671ZM20.5418 9.50025L12.4962 13.8582C12.3427 13.9434 12.1689 13.9881 11.9927 13.987C11.8501 13.9861 11.7059 13.9552 11.5695 13.8915C11.5467 13.8809 11.5243 13.8695 11.5022 13.8572L3.45816 9.50005V17.2198C3.45816 18.074 4.13804 18.7665 4.97671 18.7665H19.0233C19.8619 18.7665 20.5418 18.074 20.5418 17.2198V9.50025Z",fill:"currentColor"})})}function ev(){return(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"24",viewBox:"0 0 14 24",fill:"none",children:(0,u.jsx)("path",{d:"M12.9104 1.68956C12.4369 1.21603 11.7947 0.95 11.125 0.95H2.875C2.20533 0.95 1.56308 1.21603 1.08956 1.68956C0.616026 2.16308 0.35 2.80533 0.35 3.475V20.525C0.35 21.1947 0.616026 21.8369 1.08956 22.3104C1.56308 22.784 2.20533 23.05 2.875 23.05H11.125C11.7947 23.05 12.4369 22.784 12.9104 22.3104C13.384 21.8369 13.65 21.1947 13.65 20.525V3.475C13.65 2.80533 13.384 2.16308 12.9104 1.68956ZM2.875 2.7H11.125C11.3305 2.7 11.5277 2.78165 11.673 2.92699C11.8183 3.07233 11.9 3.26946 11.9 3.475V20.525C11.9 20.7305 11.8183 20.9277 11.673 21.073C11.5277 21.2183 11.3305 21.3 11.125 21.3H2.875C2.44721 21.3 2.1 20.9528 2.1 20.525V3.475C2.1 3.26946 2.18165 3.07233 2.32699 2.92699C2.47233 2.78165 2.66946 2.7 2.875 2.7ZM8.99289 18.2555C8.82858 18.0916 8.6059 17.9997 8.37383 18L5.62383 18.0044C5.39177 18.0047 5.16933 18.0972 5.00546 18.2615C4.84158 18.4258 4.74969 18.6485 4.75 18.8806C4.75031 19.1126 4.84279 19.3351 5.00711 19.4989C5.17142 19.6628 5.3941 19.7547 5.62617 19.7544L8.37617 19.75C8.60823 19.7497 8.83067 19.6572 8.99454 19.4929C9.15842 19.3286 9.25031 19.1059 9.25 18.8738C9.24969 18.6418 9.15721 18.4193 8.99289 18.2555Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"0.1"})})}function ex(){return(0,u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[(0,u.jsx)("path",{d:"M12.9819 14.7816C12.9819 14.2394 12.5423 13.7998 12.0001 13.7998C11.4578 13.7998 11.0182 14.2394 11.0182 14.7816V17.0289C11.0182 17.5711 11.4578 18.0107 12.0001 18.0107C12.5423 18.0107 12.9819 17.5711 12.9819 17.0289V14.7816Z",fill:"currentColor"}),(0,u.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.00012 6.51953V9.52051H6.42405C4.54628 9.52051 3.02405 11.0427 3.02405 12.9205V19.1205C3.02405 20.9983 4.54628 22.5205 6.42405 22.5205H17.576C19.4538 22.5205 20.976 20.9983 20.976 19.1205V12.9205C20.976 11.0427 19.4538 9.52051 17.576 9.52051H17.0001V6.51953C17.0001 3.75811 14.7615 1.51953 12.0001 1.51953C9.2387 1.51953 7.00012 3.75811 7.00012 6.51953ZM12.0001 3.51953C10.3433 3.51953 9.00012 4.86268 9.00012 6.51953V9.52051H15.0001V6.51953C15.0001 4.86268 13.657 3.51953 12.0001 3.51953ZM17.576 11.5205H6.42405C5.65085 11.5205 5.02405 12.1473 5.02405 12.9205V19.1205C5.02405 19.8937 5.65085 20.5205 6.42405 20.5205H17.576C18.3492 20.5205 18.976 19.8937 18.976 19.1205V12.9205C18.976 12.1473 18.3492 11.5205 17.576 11.5205Z",fill:"currentColor"})]})}n(43536);let eS=()=>(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",children:(0,u.jsx)("path",{fill:"currentColor",d:"M9.5 4C5.36 4 2 6.69 2 10c0 1.89 1.08 3.56 2.78 4.66L4 17l2.5-1.5c.89.31 1.87.5 2.91.5A5.22 5.22 0 0 1 9 14c0-3.31 3.13-6 7-6c.19 0 .38 0 .56.03C15.54 5.69 12.78 4 9.5 4m-3 2.5a1 1 0 0 1 1 1a1 1 0 0 1-1 1a1 1 0 0 1-1-1a1 1 0 0 1 1-1m5 0a1 1 0 0 1 1 1a1 1 0 0 1-1 1a1 1 0 0 1-1-1a1 1 0 0 1 1-1M16 9c-3.31 0-6 2.24-6 5s2.69 5 6 5c.67 0 1.31-.08 1.91-.25L20 20l-.62-1.87C20.95 17.22 22 15.71 22 14c0-2.76-2.69-5-6-5m-2 2.5a1 1 0 0 1 1 1a1 1 0 0 1-1 1a1 1 0 0 1-1-1a1 1 0 0 1 1-1m4 0a1 1 0 0 1 1 1a1 1 0 0 1-1 1a1 1 0 0 1-1-1a1 1 0 0 1 1-1"})});function eE(){return(0,U.useMemo)(()=>(0,u.jsxs)("svg",{width:"267.000000",height:"216.000000",viewBox:"0 0 267 216",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,u.jsx)("defs",{children:(0,u.jsx)("clipPath",{id:"clip1083_4283",children:(0,u.jsx)("rect",{width:"267.000000",height:"216.000000",fill:"white",fillOpacity:"0"})})}),(0,u.jsxs)("g",{clipPath:"url(#clip1083_4283)",children:[(0,u.jsx)("path",{id:"path",d:"M163.073 215.13C159.634 215.362 156.195 215.652 152.785 215.971C143.15 216.899 133.5 216.696 123.865 216.522C116.363 216.377 108.846 215.956 101.373 214.971C95.5831 214.202 89.9093 213.202 84.4242 211.216C82.6394 210.578 80.9126 211.477 79.2148 211.868C75.0792 212.825 70.9146 213.376 66.6629 213.55C63.4995 213.68 60.3217 214.014 57.1583 213.796C49.1338 213.231 41.0222 213.144 33.3169 210.404C32.6204 210.158 31.9529 209.853 31.2854 209.52C29.2249 208.505 29.2249 208.505 30.4002 206.592C31.2419 205.243 30.2116 203.823 28.1801 203.127C24.4218 201.837 20.5183 200.967 17.0212 198.995C16.0345 198.444 15.0913 197.778 14.2206 197.053C13.1758 196.198 13.4951 193.197 14.8446 192.167C17.2534 190.355 19.9814 189.036 22.9271 188.34C24.5959 187.949 26.2356 187.427 27.9624 187.166C31.445 186.644 34.8696 185.774 38.3522 185.224C42.5168 184.557 46.696 184.049 50.8751 183.513C52.2971 183.325 53.7482 183.672 55.1703 183.209C55.8233 182.991 56.0555 183.513 56.0555 184.122C56.0555 185.615 56.041 187.108 56.0555 188.601C56.0555 189.297 55.7798 189.573 55.0397 189.674C52.9646 189.935 50.9621 190.5 49.0902 191.457C48.2631 191.878 47.6246 191.718 46.8846 191.138C45.477 190.007 42.8651 190.544 41.8203 192.081C40.9206 193.4 41.6897 195.574 43.2424 196.589C46.5363 198.734 50.3092 199.735 54.053 199.865C57.6081 199.996 61.3084 199.575 64.7475 198.14C69.3329 196.227 74.0054 194.458 78.9972 193.864C80.5933 193.675 82.2621 193.965 83.8583 193.777C87.6601 193.356 91.2879 194.038 94.8866 195.168C97.8323 196.096 100.531 197.56 103.071 199.184C105.9 200.996 109.006 201.764 112.184 202.46C116.842 203.46 121.412 203.04 125.94 201.735C127.971 201.155 130.046 200.648 131.875 199.561C133.297 198.72 134.414 199.662 135.531 200.141C139.478 201.822 143.512 202.953 147.851 203.17C153.51 203.446 158.604 201.866 163.61 199.387C167.02 197.691 170.183 195.531 174.058 194.704C176.815 194.11 179.514 193.878 182.315 193.777C185.928 193.646 189.497 193.748 192.922 194.878C196.347 196.009 199.67 197.401 203.022 198.734C204.299 199.242 205.634 199.59 206.969 199.648C211.336 199.822 215.704 199.894 219.869 198.227C221.088 197.749 222.263 197.241 223.351 196.502C224.483 195.734 225.542 194.849 225.18 193.298C224.788 191.646 223.642 190.616 221.944 190.558C220.725 190.515 219.303 190.152 218.374 191.457C218.084 191.863 217.779 191.602 217.474 191.457C215.646 190.529 213.658 190.123 211.656 189.819C210.712 189.674 210.408 189.268 210.451 188.355C210.524 187.036 210.538 185.702 210.451 184.397C210.364 183.237 210.93 182.904 211.888 183.136C225.064 183.064 238.37 186.238 240.619 186.789C246.554 188.239 248.528 189.544 251.749 191.878C254.23 193.675 254.172 196.299 251.691 198.01C248.455 200.242 244.682 201.199 241.026 202.431C240.053 202.764 239.052 203.011 238.138 203.417C236.266 204.258 235.99 205.388 237.369 206.809C238.37 207.838 237.819 208.418 236.948 208.969C234.452 210.535 231.623 211.173 228.778 211.738C218.272 213.84 207.636 214.13 196.985 213.738C192.095 213.565 187.234 212.738 182.503 211.332C182.053 211.202 181.937 211.173 181.212 211.231C180.907 211.26 180.573 211.173 180.515 210.694C179.964 209.027 177.918 207.664 174.812 207.534C171.707 207.403 170.72 207.635 167.368 208.708C165.105 209.433 160.215 214.202 163.073 215.13ZM216.676 201.663C214.137 201.561 209.755 201.518 207.346 202.083C203.167 203.069 199.133 203.997 195.026 205.272C194.547 205.417 194.126 205.765 193.72 206.055C192.922 206.635 192.617 207.519 193.053 208.331C193.488 209.158 194.243 209.404 195.36 209.172C199.815 208.244 203.965 206.273 208.507 205.62C212.512 205.055 216.502 204.953 220.493 205.345C223.685 205.649 226.66 206.925 229.664 208.012C231.057 208.52 231.956 207.824 232.537 206.882C233.204 205.78 232.319 205.142 231.361 204.649C230.926 204.432 223.032 201.605 216.676 201.663ZM62.121 209.042C63.6301 209.042 65.1393 209.042 66.6339 209.042C67.5481 209.042 68.5203 208.882 68.5348 207.766C68.5493 206.737 67.6787 206.345 66.75 206.229C66.3001 206.171 65.8213 206.2 65.3569 206.229C57.6081 206.476 49.9899 205.707 42.5168 203.605C41.0802 203.199 39.5856 202.924 38.1055 202.707C37.2639 202.576 36.6254 203.069 36.4513 203.91C36.2626 204.823 36.8576 205.272 37.6702 205.49C38.2361 205.635 38.8166 205.693 39.368 205.838C46.8266 207.737 54.3432 209.331 62.121 209.042ZM78.3442 206.244C76.095 206.606 73.4395 207.548 70.813 208.578C70.0149 208.882 70.1455 209.23 70.7405 209.752C72.2206 211.071 73.7152 210.143 75.0357 209.679C77.8508 208.694 80.5788 208.679 83.3069 209.781C84.2791 210.172 85.2078 210.491 86.2671 210.404C86.746 210.361 87.2103 210.274 87.3119 209.708C87.3989 209.187 87.1232 208.766 86.6734 208.592C84.1485 207.65 81.7397 206.2 78.3442 206.244Z",fill:"#C7D6FF",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,u.jsx)("path",{id:"path",d:"M245.669 178.178C249.602 178.541 253.244 179.613 256.857 180.802C259.063 181.527 261.254 182.339 263.3 183.469C263.605 183.629 264.025 183.687 264.199 183.933C264.664 184.6 266.144 184.789 265.462 185.977C264.78 187.152 263.808 186.485 262.908 186.079C258.25 183.991 253.534 182.034 248.484 181.049C247.381 180.831 246.337 180.353 245.292 179.903C244.871 179.715 244.131 179.628 244.247 178.947C244.378 178.12 245.292 178.41 245.669 178.178Z",fill:"#C7D6FF",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,u.jsx)("path",{id:"path",d:"M2.97476 186.586C2.32176 186.717 1.74133 186.354 1.61073 185.818C1.48013 185.311 1.90096 184.847 2.42334 184.499C5.78987 182.266 9.62074 181.193 13.4371 180.063C15.5557 179.439 17.7178 178.947 19.8799 178.483C20.6635 178.309 21.4761 178.323 22.2887 178.323C22.8547 178.323 23.5076 178.468 23.6382 179.106C23.7979 179.816 23.0433 179.845 22.637 180.034C20.2427 181.135 17.5872 181.266 15.0768 182.005C11.4636 183.078 7.98101 184.426 4.61449 186.05C4.10661 186.296 3.62775 186.688 2.97476 186.586Z",fill:"#C7D6FF",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,u.jsx)("path",{id:"path",d:"M10.7671 206.07C10.1576 206.795 9.50463 207.461 8.47437 207.171C5.65926 206.374 3.14886 204.968 0.885178 203.141C0.362778 202.721 -0.449829 202.228 0.261215 201.315C0.928711 200.474 1.9735 199.633 2.82964 200.445C5.00626 202.504 7.61822 203.837 10.1286 205.388C10.3608 205.533 10.5349 205.809 10.7671 206.07Z",fill:"#C7D6FF",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,u.jsx)("path",{id:"path",d:"M264.765 200.373C265.622 200.373 266.362 200.59 266.724 201.3C267.087 202.025 266.608 202.591 266.042 203.069C263.764 204.968 261.37 206.606 258.366 207.215C257.423 207.403 256.813 206.824 256.494 206.36C256.175 205.881 256.799 205.287 257.408 204.997C258.163 204.635 258.918 204.243 259.672 203.866C260.978 203.228 262.342 202.75 263.097 201.271C263.314 200.851 264.011 200.228 264.765 200.373Z",fill:"#C7D6FF",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,u.jsx)("path",{id:"path",d:"M212.773 168.726C222.35 167.175 226.486 159.014 224.628 150.722C224.222 148.924 223.264 147.3 222.321 145.691C219.274 140.443 215.182 136.036 211.075 131.63C210.611 131.137 210.103 130.774 210.045 129.933C209.61 124.396 209.653 118.858 209.74 113.32C209.885 104.158 209.029 95.1559 206.635 86.284C204.516 78.4558 201.512 71.0045 197.174 64.2056C193.967 59.1753 189.686 54.9423 185.101 51.0862C162.957 32.3855 137.984 26.5143 110.094 35.0964C89.7352 41.3589 75.0792 54.5798 65.1973 73.2805C62.4693 78.4413 60.5974 83.9066 59.0882 89.5602C57.4775 95.5474 56.1861 101.52 55.9104 107.725C55.5911 114.9 55.7943 122.076 55.7362 129.252C55.7362 130.18 55.4751 130.832 54.8075 131.513C50.2802 136.109 46.4203 141.197 43.2424 146.836C41.5882 149.75 40.732 152.78 41.1238 156.1C41.5881 159.999 43.373 163.189 46.4928 165.653C49.0032 167.639 51.8764 168.61 54.9672 168.944C55.9249 169.045 56.0265 169.437 56.07 170.234C56.3602 175.786 55.5331 181.295 55.6056 186.833C55.6056 187.789 55.1703 188.079 54.2416 188.152C52.3987 188.311 50.6429 188.92 48.9742 189.718C48.3647 190.007 47.6972 190.355 47.6392 191.153C47.5811 192.023 48.3067 192.327 48.9306 192.588C52.8921 194.298 56.9116 194.125 60.9602 192.892C61.7873 192.646 61.8598 192.023 61.8598 191.254C61.8598 182.165 62.0049 173.075 61.8743 164C61.8453 161.739 62.5854 160.521 64.4428 159.304C69.5941 155.94 74.3682 152.041 77.9234 146.952C81.7542 141.458 79.6937 135.79 73.3524 133.601C70.102 132.485 66.7645 132.441 63.4125 132.905C62.1501 133.079 61.8743 132.688 61.8889 131.485C61.9469 123.497 61.9614 115.509 61.9324 107.522C61.9324 106.376 62.092 106.057 63.3545 106.376C70.8421 108.319 78.3587 110.146 85.8608 112.088C87.1233 112.407 87.9794 112.247 88.9661 111.363C93.7257 107.043 99.1383 103.709 105.218 101.592C119.018 96.7796 133.181 96.1273 147.532 98.2148C158.865 99.8529 169.269 103.608 177.584 111.9C178.295 112.61 178.948 112.45 179.79 112.219C187.277 110.232 194.779 108.304 202.253 106.304C203.718 105.912 204.153 106.231 204.139 107.783C204.095 115.712 204.139 123.642 204.182 131.572C204.182 132.572 204.037 133.065 202.876 132.92C201.788 132.789 200.671 132.891 199.583 132.847C196.114 132.673 192.791 132.833 189.672 134.746C186.827 136.5 184.941 141.168 186.174 144.184C188.104 148.866 191.456 152.374 195.302 155.534C195.998 156.1 196.796 155.882 197.42 156.433C199.118 157.941 201.135 158.999 203.051 160.173C203.733 160.594 204.008 161.043 204.008 161.826C204.008 164.479 204.095 167.146 204.095 169.799C204.124 176.975 204.168 184.151 204.095 191.327C204.095 192.559 204.531 193.037 205.619 193.371C207.085 193.835 208.623 193.501 210.059 194.009L210.756 194.009C211.627 193.588 212.57 193.835 213.469 193.704C214.616 193.53 215.762 193.371 216.734 192.675C218.2 191.617 218.098 190.239 216.473 189.515C214.877 188.804 213.179 188.456 211.467 188.181C210.611 188.036 210.233 187.789 210.277 186.905C210.538 182.005 209.406 177.163 209.697 172.235C209.871 169.147 209.74 169.219 212.773 168.726ZM69.2314 134.253C60.9166 134.804 53.4871 137.095 47.2474 142.618C49.1919 136.776 62.9191 131.47 69.2314 134.253ZM194.736 96.4606C191.732 97.3159 189.019 98.9106 185.971 99.6644C179.819 101.187 173.448 96.6636 172.868 90.3286C172.012 80.8333 180.065 73.9183 189.367 76.1798C193.459 77.1801 196.753 79.3546 199.307 82.6888C200.468 84.211 201.092 85.9071 201.034 88.0236C201.034 92.1406 198.842 95.3009 194.736 96.4606Z",fill:"#4D6BFE",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,u.jsx)("path",{id:"path",d:"M123.734 29.6746C124.764 29.3557 139.856 29.0803 146.415 30.095C146.792 25.7315 146.168 21.5565 145.051 17.4539C143.571 12.0177 142.163 6.53796 138.434 2.04401C136.315 -0.507385 134.022 -0.724854 131.643 1.60913C130.133 3.07324 129.045 4.85638 128.145 6.74091C124.852 13.7138 123.27 21.0926 122.965 28.7614C122.951 29.2977 122.907 29.921 123.734 29.6746Z",fill:"#4D6BFE",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,u.jsx)("path",{id:"path",d:"M182.895 86.7189C180.225 86.7334 178.048 88.8354 178.077 91.3433C178.121 93.7643 180.472 96.1852 182.706 96.0982C185.318 95.9968 187.205 93.9817 187.161 91.3288C187.118 88.5455 185.42 86.7044 182.895 86.7189Z",fill:"#4D6BFE",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,u.jsx)("path",{id:"polygon",d:"M187.161 71.8453L168.094 75.7449L166.89 92.3291L169.066 98.7221L181.125 103.187L198.741 100.041L204.052 98.1132L204.052 86.7189L195.461 75.7449L187.161 71.8453Z",fill:"#4D6BFE",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,u.jsx)("path",{id:"path",d:"M189.149 83.0948C188.279 80.1229 188.046 79.0647 186.204 74.8896C184.245 71.309 182.895 68.7866 180.646 66.9455C178.223 64.9885 175.364 63.5823 172.317 64.2636C172.041 64.3651 170.764 65.0319 170.445 65.3654C169.443 66.3947 169.792 67.5834 170.474 68.2212C170.88 68.6271 171.446 69.1345 172.157 69.3665C174.072 69.9608 175.712 70.8016 176.742 72.3528C178.005 74.2663 178.092 75.9624 176.844 78.1949C176.278 79.2242 175.538 81.1087 175.407 82.4424C175.103 85.5447 176.249 86.9219 177.729 89.2123C178.687 90.691 180.776 92.3001 182.982 92.851C184.404 93.2279 186.015 93.1699 187.655 93.0105C189.556 92.822 190.542 91.8508 190.499 90.2851C190.397 87.7772 189.846 85.4142 189.149 83.0948Z",fill:"#FFFFFF",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,u.jsx)("path",{id:"path",d:"M77.0382 81.5001C77.8073 78.5138 78.0105 77.441 79.7227 73.208C81.5656 69.5693 82.8281 67.0035 85.0192 65.0899C87.3845 63.0604 90.1851 61.5672 93.2614 62.1326C93.5516 62.2195 94.8286 62.8429 95.1623 63.1763C96.1926 64.1766 95.8878 65.3798 95.2349 66.0322C94.8431 66.4526 94.2917 66.9745 93.5951 67.2209C91.6942 67.8732 90.0835 68.772 89.1113 70.3522C87.9214 72.2947 87.8779 74.0053 89.1838 76.1943C89.7788 77.2091 90.5769 79.0646 90.751 80.3984C91.1573 83.4861 90.0545 84.9068 88.6469 87.2408C87.7473 88.7484 85.7012 90.4155 83.5101 91.0389C82.1025 91.4593 80.4918 91.4448 78.8521 91.3578C76.9367 91.2274 75.9209 90.285 75.9209 88.7194C75.9354 86.197 76.4288 83.8486 77.0382 81.5001Z",fill:"#FFFFFF",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,u.jsx)("ellipse",{id:"circle",cx:"93.667694",cy:"73.237000",rx:"2.655492",ry:"2.652888",fill:"#FFFFFF",fillOpacity:"1.000000"}),(0,u.jsx)("ellipse",{id:"circle",cx:"172.200531",cy:"74.498230",rx:"2.655492",ry:"2.652888",fill:"#FFFFFF",fillOpacity:"1.000000"}),(0,u.jsx)("g",{opacity:"0.500000",children:(0,u.jsx)("path",{id:"path",d:"M183.867 187.992C188.148 188.224 192.298 189.051 196.521 190.645C196.55 190.051 196.593 189.645 196.593 189.254C196.593 164.769 196.593 140.284 196.593 115.799C196.593 115.567 196.579 115.335 196.593 115.103C196.637 114.407 196.39 114.19 195.679 114.378C193.967 114.813 179.224 118.409 164.8 121.946L164.8 192.689C170.604 189.196 177.004 187.601 183.867 187.992Z",fill:"#4D6BFE",fillOpacity:"1.000000",fillRule:"nonzero"})}),(0,u.jsx)("g",{opacity:"0.700000",children:(0,u.jsx)("path",{id:"path",d:"M132.992 129.73L132.992 194.429C134.777 194.4 136.388 195.183 138.013 195.792C147.242 199.285 155.89 198.242 164.234 193.008C164.423 192.892 164.611 192.791 164.8 192.675L164.8 121.931C153.017 124.816 141.437 127.643 137.302 128.672C135.865 129.035 134.429 129.484 132.992 129.73Z",fill:"#4D6BFE",fillOpacity:"1.000000",fillRule:"nonzero"})}),(0,u.jsx)("g",{opacity:"0.200000",children:(0,u.jsx)("path",{id:"path",d:"M127.826 129.18C127.173 128.875 114.447 125.468 101.184 121.989L101.184 191.95C102.418 192.617 103.608 193.371 104.739 194.241C109.644 197.459 115.187 197.56 120.643 197.56C123.807 197.56 127.057 196.792 129.93 195.168C130.438 194.878 130.99 194.791 131.527 194.632C132.02 194.487 132.499 194.429 132.978 194.429L132.978 129.73C131.294 130.02 129.597 130.006 127.826 129.18Z",fill:"#4D6BFE",fillOpacity:"1.000000",fillRule:"nonzero"})}),(0,u.jsx)("g",{opacity:"0.100000",children:(0,u.jsx)("path",{id:"path",d:"M71.3935 114.335C69.5216 113.915 69.5216 114.552 69.5506 115.944C69.6232 121.076 69.6957 126.222 69.5942 131.354C69.5651 132.833 70.1165 133.152 71.3645 133.398C74.1941 133.949 76.7335 135.167 78.5764 137.457C79.3164 138.385 79.6067 139.704 80.4048 140.559C83.8148 144.213 83.3214 148.301 81.5511 152.273C79.4906 156.912 75.6307 160.115 71.4951 162.855C70.015 163.827 69.5071 164.841 69.5216 166.494C69.5942 172.032 69.5651 177.584 69.5796 183.122C69.5796 184.89 69.5506 186.644 69.5796 188.413C69.6232 190.616 69.8118 190.689 71.8724 190.051C73.1929 189.631 74.4698 189.138 75.8338 188.833C81.2754 187.674 92.1731 187.094 101.199 191.95L101.199 121.989C87.9069 118.51 74.0925 114.929 71.3935 114.335Z",fill:"#4D6BFE",fillOpacity:"1.000000",fillRule:"nonzero"})}),(0,u.jsx)("path",{id:"path",d:"M155.527 150.127L118.089 187.529L110.587 180.048L148.04 142.647L155.527 150.127Z",fill:"#FF7676",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,u.jsx)("path",{id:"path",d:"M118.06 142.632L155.498 180.034L148.011 187.529L110.573 150.113L118.06 142.632Z",fill:"#FF7676",fillOpacity:"1.000000",fillRule:"nonzero"})]})]}),[])}n(98067);var eb=n(395);n(97966);let e_=(0,U.createContext)(null);function ey(){return(0,U.useContext)(e_)}function ew(e){let{status:t="none",labelSize:n="m",label:a,labelSuffix:r,children:s,description:o,feedback:i,className:l,showFeedbackPlaceholder:d,contentStyle:c,feedbackStyle:h,style:p}=e,g=(0,U.useMemo)(()=>({status:t}),[t]),m=(0,eb.yI)(i,i,!!i),f=(0,eb.yI)(i,t,!!i),[C,v]=(0,U.useState)(!1),x=d||i;return(0,u.jsx)(e_.Provider,{value:g,children:(0,u.jsxs)("div",{className:(0,Q.Z)("".concat(Z.F,"-form-item"),"".concat(Z.F,"-form-item--").concat(C?f.current:t),"".concat(Z.F,"-form-item--label-").concat(n),l),style:p,children:[a?(0,u.jsxs)("label",{className:"".concat(Z.F,"-form-item__label"),children:[(0,u.jsx)("span",{className:"".concat(Z.F,"-form-item__label-text"),children:a}),r&&(0,u.jsx)("span",{className:"".concat(Z.F,"-form-item__label-suffix"),children:r})]}):null,(0,u.jsx)("div",{className:"".concat(Z.F,"-form-item__content"),style:c,children:s}),o?(0,u.jsx)("div",{className:"".concat(Z.F,"-form-item__description"),children:o}):null,x?(0,u.jsx)("div",{className:"".concat(Z.F,"-form-item__feedback"),style:h,"data-transform-origin":"top",children:(0,u.jsx)(J.j,{onExit:()=>v(!0),onExited:()=>v(!1),appear:!1,in:!!i,animated:!0,children:e=>(0,u.jsx)("div",{ref:e,className:"".concat(Z.F,"-form-item__feedback-content"),children:i||m.current})})}):null]})})}n(78710);let eI=(0,U.memo)(function(){return(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:(0,u.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.80769 2.80754C2.41717 3.19807 2.41717 3.83123 2.80769 4.22176L19.7783 21.1923C20.1688 21.5828 20.8019 21.5828 21.1925 21.1923C21.583 20.8018 21.583 20.1686 21.1925 19.7781L4.22191 2.80754C3.83138 2.41702 3.19822 2.41702 2.80769 2.80754ZM0.853566 11.0499C1.81667 9.66931 2.87124 8.49162 3.9897 7.52506L5.33664 8.87201C4.34176 9.71473 3.38404 10.7628 2.49107 12.0246C4.64797 15.3395 8.05011 17.8002 11.9841 17.8002C12.6828 17.8002 13.3682 17.7204 14.0349 17.5703L15.5771 19.1125C14.4412 19.4899 13.238 19.6998 11.9841 19.6998C7.16233 19.6998 3.20136 16.6654 0.820516 12.9394C0.639165 12.6577 0.545108 12.3286 0.550199 11.9935C0.555305 11.6575 0.660199 11.3301 0.851082 11.0534L0.853566 11.0499ZM7.8 11.9998C7.8 11.7895 7.81547 11.5827 7.84532 11.3807L12.6191 16.1545C12.4171 16.1843 12.2103 16.1998 12 16.1998C9.68041 16.1998 7.8 14.3194 7.8 11.9998ZM11.3808 7.84513L16.1547 12.619C16.1845 12.4169 16.2 12.2102 16.2 11.9998C16.2 9.68021 14.3196 7.7998 12 7.7998C11.7896 7.7998 11.5829 7.81527 11.3808 7.84513ZM21.5137 12.0017C20.7374 13.196 19.7909 14.2808 18.7162 15.1805L20.0631 16.5274C21.2822 15.4826 22.335 14.2461 23.1806 12.9222C23.3571 12.6472 23.4509 12.3273 23.4509 12.0005C23.4509 11.673 23.3565 11.3522 23.1793 11.0767L23.178 11.0747C20.7897 7.38605 16.7263 4.2998 11.9841 4.2998C10.7917 4.2998 9.60227 4.50324 8.43887 4.90318L9.97269 6.43699C10.6474 6.27837 11.3204 6.2002 11.9841 6.2002C15.8389 6.2002 19.3439 8.71129 21.5137 12.0017Z",fill:"currentColor"})})}),eT=(0,U.memo)(function(){return(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:(0,u.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.853566 11.0498C3.9301 6.63986 7.93993 4.2998 11.9841 4.2998C16.7263 4.2998 20.7897 7.38605 23.178 11.0747L23.1793 11.0767C23.3565 11.3522 23.4509 11.673 23.4509 12.0005C23.4509 12.3273 23.3571 12.6472 23.1806 12.9222C20.7935 16.6596 16.7554 19.6998 11.9841 19.6998C7.16233 19.6998 3.20136 16.6654 0.820516 12.9394C0.639165 12.6577 0.545108 12.3286 0.550199 11.9935C0.555305 11.6575 0.660199 11.3301 0.851082 11.0534L0.853566 11.0498ZM2.49107 12.0246C4.64797 15.3395 8.05011 17.8002 11.9841 17.8002C15.8763 17.8002 19.3535 15.3248 21.5137 12.0017C19.3439 8.71129 15.8389 6.2002 11.9841 6.2002C8.75169 6.2002 5.30085 8.05427 2.49107 12.0246ZM7.8 11.9998C7.8 9.68021 9.68041 7.7998 12 7.7998C14.3196 7.7998 16.2 9.68021 16.2 11.9998C16.2 14.3194 14.3196 16.1998 12 16.1998C9.68041 16.1998 7.8 14.3194 7.8 11.9998ZM12 9.5332C10.6377 9.5332 9.53334 10.6376 9.53334 11.9999C9.53334 13.3622 10.6377 14.4665 12 14.4665C13.3623 14.4665 14.4667 13.3622 14.4667 11.9999C14.4667 10.6376 13.3623 9.5332 12 9.5332Z",fill:"currentColor"})})});var ek=n(95830);function eM(e){let{type:t="text",status:n,icon:a,placeholder:r,className:s,prefix:o,disabled:i=!1,variant:l="filled",maxLength:d,style:c,size:h="m",passwordVisible:p=!1,defaultValue:g,value:m,readOnly:f,domRef:C,domProps:v,inputDomRef:x,inputDomProps:S,componentRef:E,theme:b,autosize:_,onKeyDown:y,onFocus:w,onBlur:I,onChange:T,autoFocus:k}=e,M=ey(),j=(null!=n?n:null==M?void 0:M.status)||"none",R=null==v?void 0:v.onMouseDown,A=(0,U.useCallback)(e=>{var t;null==R||R(e),e.target!==N.current&&(e.preventDefault(),null===(t=N.current)||void 0===t||t.focus())},[R]),N=(0,U.useRef)(null);x&&(N=x);let L=(0,U.useRef)(!1),F=(0,U.useCallback)(()=>{L.current=!0},[]),O=(0,U.useCallback)(e=>{L.current=!1,null==T||T(e,{isComposing:!1})},[T]),[P,D]=(0,U.useState)(null!=m?m:g),B=(0,er.$0)(e=>{D(e.target.value),null==T||T(e,{isComposing:L.current})}),H=(0,U.useRef)(null),[V,W]=(0,U.useState)(null);(0,U.useLayoutEffect)(()=>{if(_){var e;let t=null===(e=H.current)||void 0===e?void 0:e.offsetWidth;void 0!==t&&W(t)}},[P,_]),(0,U.useImperativeHandle)(E,()=>({isComposingRef:L}),[L]),(0,U.useLayoutEffect)(()=>{k&&N.current&&N.current.focus()},[k]);let{passwordIsVisible:G,setPasswordIsVisible:z,mergedInputType:q}=function(e){let{passwordVisible:t,inputType:n}=e,[a,r]=(0,U.useState)(!1);return{passwordIsVisible:!!t&&a,setPasswordIsVisible:r,mergedInputType:"password"===n&&t&&a?"text":n}}({passwordVisible:p,inputType:t});return(0,u.jsxs)("div",{...v,className:(0,Q.Z)("".concat(Z.F,"-input"),"".concat(Z.F,"-input--").concat(j),"".concat(Z.F,"-input--").concat(l),"".concat(Z.F,"-input--").concat(h),i&&"".concat(Z.F,"-input--disabled"),null==v?void 0:v.className,s),style:{"--ds-input-text-color":null==b?void 0:b.textColor,"--ds-input-placeholder-color":null==b?void 0:b.placeholderColor,"--ds-input-icon-color":null==b?void 0:b.iconColor,"--ds-input-prefix-text-color":null==b?void 0:b.prefixTextColor,"--ds-input-padding":null==b?void 0:b.padding,"--ds-input-border-radius":null==b?void 0:b.borderRadius,"--ds-input-height":null==b?void 0:b.height,"--ds-input-font-size":null==b?void 0:b.fontSize,"--ds-input-line-height":null==b?void 0:b.lineHeight,"--ds-input-prefix-margin":null==b?void 0:b.prefixMargin,"--ds-input-icon-size":null==b?void 0:b.iconSize,"--ds-rgba-input":null==b?void 0:b.color,"--ds-input-font-weight":null==b?void 0:b.fontWeight,"--ds-input-focus-color":null==b?void 0:b.focusColor,"--ds-input-focus-border-color":null==b?void 0:b.focusBorderColor,width:_?V:void 0,...null==v?void 0:v.style,...c},onMouseDown:A,ref:C,children:[a?(0,u.jsx)("div",{className:"".concat(Z.F,"-input__icon"),children:a}):null,void 0===o?null:(0,u.jsx)("div",{className:"".concat(Z.F,"-input__prefix"),children:o}),(0,u.jsx)("input",{...S,defaultValue:g,value:m,readOnly:f,maxLength:d,disabled:i,type:q,className:"".concat(Z.F,"-input__input"),ref:N,placeholder:r,onChange:B,onBlur:I,onFocus:w,onKeyDown:y,onMouseDown:A,onCompositionStart:F,onCompositionEnd:O,size:1}),_?(0,u.jsx)("div",{ref:H,className:"".concat(Z.F,"-input__mirror"),children:P}):null,"password"===t&&p&&(0,u.jsx)("div",{className:"".concat(Z.F,"-input__password-toggle"),children:(0,u.jsx)(ek.h,{onMousedown:e=>{e.preventDefault(),e.stopPropagation();let t=e=>{e.preventDefault(),(0,es.S)("mouseup",document,t)};(0,es.on)("mouseup",document,t)},onClick:()=>{z(!G)},children:G?(0,u.jsx)(eI,{}):(0,u.jsx)(eT,{})})})]})}var ej=n(15360);let eR={zh_CN:{bannedPageBackToHome:"回到首页",bannedPageSlogan:"由于违反用户使用规范，你的账户已被停用，如有疑问请查看[常见问题](https://api-docs.deepseek.com/zh-cn/faq)。",commonInvalidTokenToast:"登录信息已失效，请重新登录",commonMobileNumberVerificationToast:"请完成实名认证",commonUnderAuditingToast:"你的账户正在审核中",commonUserIsBannedToast:"由于违反用户使用规范，你的账户已被停用",contactUsButton:"联系我们",deleteAccount:"注销账号",deleteAccountFailedToast:"账号注销失败",deleteAccountFrequentFailToast:"注销失败，近期你的注销操作过于频繁，请稍后再试。",deleteAccountModalCancel:"取消",deleteAccountModalConfirm:"确认注销",deleteAccountModalConfirmText:"确认注销我的账号",deleteAccountModalContent:(e,t)=>"如点击“确认”，信息将无法找回，您将无法访问 DeepSeek 的所有服务，包括对话服务和开放平台。\n**如您的开放平台账户中尚有未消费的充值余额，注销即视为放弃余额。频繁重复注销可能会被系统判定为异常行为，导致账号受限或永久封禁。**\n如有任何疑问，请邮件（".concat(e,"）联系我们。\n如确认注销，请在输入框中输入**").concat(t,"**："),deleteAccountModalTitle:"确认注销账号？",deleteAccountOkToast:"账号注销成功",deleteAccountSettingDialogButton:"注销",emailCodeCloudErrorToast:"邮箱服务出现异常，请稍后再试",emailCodeFrequentToast:"1 分钟内仅能发送一次验证码",emailDomainNotInWhitelistToast:"验证码发送失败，暂不支持该邮箱域名注册，建议使用 Gmail、Outlook、Hotmail、Yahoo 等国际通用邮箱注册。",emailFormatErrorToast:"邮箱格式不正确",exectionEnvironmentExecptionToast:"当前浏览器运行环境异常，请切换执行环境尝试",footerGongAnLink:"https://beian.mps.gov.cn/#/query/webSearch?code=33010502011812",footerGongAnTitle:"浙公网安备 33010502011812 号",footerICPLink:"https://beian.miit.gov.cn",footerICPTitle:"浙ICP备2023025841号",footerWechatQRCodeImageLink:"https://cdn.deepseek.com/platform/service_wechat.jpg",footerWechatQRCodeTip:"扫码联系我们",forgotPassword:"忘记密码",forgotPasswordBackToSignIn:"返回登录",forgotPasswordButton:"重置密码",forgotPasswordCheckCodeFailedToast:"验证失败，请重试",forgotPasswordCodeExpiredToast:"验证码已过期，请重新获取验证码",forgotPasswordCodeInvalidToast:"验证码错误，请检查输入",forgotPasswordConfirmPasswordInputPlaceholder:"请确认新密码",forgotPasswordDescription:"请输入你注册的邮箱地址用于接收验证码，我们将为你重置密码。",forgotPasswordDescriptionCn:"请输入你注册的手机号码用于接收验证码，我们将为你重置密码。",forgotPasswordFailedCodeExpiredToast:"密码重置失败，重置时效已过期，请返回上一步重新操作",forgotPasswordFailedCodeVerifyFailedToast:"密码重置失败，验证码错误，请返回上一步重新操作",forgotPasswordFailedEmailNotExistToast1:"邮箱地址未注册，请重试",forgotPasswordFailedEmailNotExistToast2:"密码重置失败，邮箱地址未注册，请返回上一步重新操作",forgotPasswordFailedMobileNotExistToast1:"手机号未注册，请重试",forgotPasswordFailedMobileNotExistToast2:"密码重置失败，手机号未注册，请返回上一步重新操作",forgotPasswordFailedToast:"密码重置失败，请稍后再试",forgotPasswordGeneralDescription:"请输入你注册的邮箱或手机号码用于接收验证码，我们将为你重置密码。",forgotPasswordGetBack:"返回",forgotPasswordInputPlaceholder:"请输入邮箱 / +86手机号",forgotPasswordInvalidPasswordToast:"密码不合法，请重新输入",forgotPasswordNewPasswordDescription:e=>"你正在重置 ".concat(e," 的密码，请输入新密码。"),forgotPasswordNextStepButton:"下一步",forgotPasswordOkToast:"密码已重置，即将跳转到登录页面",forgotPasswordPasswordInputPlaceholder:"请输入新密码",forgotPasswordSecondaryDescription:"你的新密码将同时适用于 DeepSeek 的所有服务。",forgotPasswordTitle:"重置统一登录密码",goToSignIn:"返回登录",goToSignUp:"立即注册",hcaptchaLoadFailToast:"验证码加载失败，请刷新重试",inputEmail:"请输入邮箱",inputEmailVerificationCode:"请输入验证码",inputMobilePhoneNumber:"请输入手机号",inputPassword:"请输入密码",inputPasswordAgain:"请再次输入密码",inputSmsVerificationCode:"请输入验证码",loginAccountBannedToast:"由于违反用户使用规范，你的账户已被停用",mainlandLoginWaysTip:"你所在地区仅支持 手机号 / 微信 / 邮箱 登录",mainlandSignUpWaysTip:"你所在地区仅支持手机号注册，",mobileCodeAlreadyBoundToast:"手机号已被绑定",mobileCodeAlreadyVerifiedToast:"该账户已绑定手机号",mobileCodeCloudErrorToast:"短信服务出现异常，请稍后再试",mobileCodeFrequentToast:"1 分钟内仅能发送一次验证码",mobileVerficationFormAccountAlreadyExistsErrorToast:"绑定失败，该手机号已被绑定",mobileVerficationFormDescription:"为保障账号安全，首次登录请绑定手机号",mobileVerficationFormExistingMobileOkToast:"登录成功",mobileVerficationFormGetProfileFailedErrorToast:"绑定失败，获取微信账户信息失败",mobileVerficationFormInvalidAddrToast:"无效的页面地址，请重新扫码授权",mobileVerficationFormMobilePhoneNumberBannedErrorToast:"绑定失败，该手机号账户已被禁用",mobileVerficationFormNewMobileOkToast:"登录成功",mobileVerficationFormRegistrationExpiredErrorToast:"绑定失效，请重新扫码授权",mobileVerficationFormSmsExpiredCodeErrorToast:"验证码无效，请重新获取并验证",mobileVerficationFormSmsVerifyFailedCodeErrorToast:"验证码错误，请重新输入",mobileVerficationFormSubmitButton:"绑定",mobileVerficationFormTitle:"绑定手机号",mobileVerficationFormUnknownErrorToast:"绑定操作遇到问题，请稍后再试",mobileVerificationInvalidPhoneNumberToast:"验证失败，手机号不合法",overseaLoginWaysTip:"你所在地区仅支持 邮箱 / Google / +86手机号 登录",overseaSignUpWaysTip:"你所在地区仅支持邮箱注册，",passwordSignInAcknowledgement:(e,t)=>(0,u.jsxs)(u.Fragment,{children:["注册登录即代表已阅读并同意我们的 ",e," 与 ",t]}),privacyPolicy:"隐私政策",privacyPolicyFile:"DeepSeek隐私政策.html",registerAgreementCheckboxEmptyError:"请同意并勾选服务条款",registerConfirmPasswordEmptyError:"请填写确认密码",registerDescription:"只需一个 DeepSeek 账号，即可访问 DeepSeek 的所有服务。",registerEmailDomainNotSupportedToast:"注册失败，暂不支持该邮箱域名注册，建议使用 Gmail、Outlook、Hotmail、Yahoo 等国际通用邮箱注册。",registerEmailEmptyError:"请填写邮箱地址",registerEmailExistToast:"邮箱已被注册",registerEmailInputInvalidError:"邮箱格式不正确",registerEmailPasscodeFailedToast:"验证码错误，请重新输入",registerInvalidPasswordToast:"密码不合法",registerMobileEmptyError:"请填写手机号码",registerMobileExistToast:"手机号已被注册",registerMobileInputInvalidError:"手机号码格式不正确",registerPasswordCodeExpiredToast:"验证码已过期，请重新获取验证码",registerPasswordEmptyError:"请填写密码",registerPasswordInvalidError:"密码包含非法字符",registerPasswordLengthError:"密码长度在 8 到 50 位之间",registerPasswordNotMatchError:"两次输入的密码不一致",registerRegisterFromMainlandToast:"本服务暂时只支持大陆用户的手机号注册",registerVerificationCodeEmptyError:"请填写验证码",registerVerificationCodeInvalidError:"验证码格式不正确",requestTooFrequentToast:"请求过于频繁，请稍后再试",sendVerificationCode:"发送验证码",serviceStatus:"服务状态",signIn:"登录",signInAgreement:(e,t)=>(0,u.jsxs)(u.Fragment,{children:["我已阅读并同意 ",e," 与 ",t]}),signInBySmsAgreement:(e,t)=>(0,u.jsxs)(u.Fragment,{children:["我已阅读并同意 ",e," 与 ",t,"，未注册的手机号将自动注册"]}),signInDividerOr:"或",signInEmailAndPhoneEmptyError:"请填写手机号/邮箱地址",signInEmailAndPhoneInvalidError:"请填写有效的手机号/邮箱地址",signInEmailAndPhonePlaceholder:"请输入手机号/邮箱地址",signInFailed:"登录失败",signInFormTabByPasswordOption:"密码登录",signInFormTabBySmsOption:"验证码登录",signInOk:"登录成功",signInPasswordEmailErrorToast:"手机号码/邮箱地址或密码错误，请重新填写",signInPasswordEmptyError:"请填写密码",signInUserIsBannedToast:"由于违规次数过多，你的账户已被停用",signInWithGoogle:"使用 Google 账号登录",signInWithGoogleFailedToast:"Google 登录服务遇到问题，请稍后再试",signInWithGoogleGetProfileFailedToast:"获取 Google 用户信息失败，请稍后再试",signInWithGoogleNetworkFailedToast:"Google 服务器连接失败，请稍后再试",signInWithGoogleSwapCodeFailedToast:"Google 登录请求未成功，请稍后再试",signInWithWechat:"使用微信扫码登录",signInWithWechatAgreement:(e,t)=>(0,u.jsxs)(u.Fragment,{children:["扫码默认已阅读并同意 ",e," 与 ",t]}),signInWithWechatFailedToast:"微信登录服务遇到问题，请稍后再试",signInWithWechatGetProfileFailedToast:"获取微信用户信息失败，请稍后再试",signInWithWechatNetworkFailedToast:"微信服务器连接失败，请稍后再试",signInWithWechatQRcodeDialogDescription:"微信扫码登录",signInWithWechatSwapCodeFailedToast:"微信登录请求未成功，请稍后再试",signUp:"注册",signUpAcknowledgement:(e,t)=>(0,u.jsxs)(u.Fragment,{children:["注册即代表已阅读并同意我们的 ",e," 与 ",t]}),signUpByMobileOkToast:"注册成功",signUpFailedToast:"注册失败",signUpOkToast:"注册成功",smsSignInAcknowledgement:(e,t)=>(0,u.jsxs)(u.Fragment,{children:["注册登录即代表已阅读并同意我们的 ",e," 与 ",t,"，未注册的手机号将自动注册"]}),submitApplication:"提交申请",termsOfUse:"用户协议",termsOfUseFile:"DeepSeek用户协议.html",underAuditingDescription:"正在审核中，请稍候片刻",userIsBannedToast:"由于违规次数过多，你的账户已被临时停用",validateMobileNumberAlreadyBoundToast:"该手机号已被绑定",validateMobileNumberAlreadyVerifiedToast:"该账户已绑定手机号",validateMobileNumberBackToSignIn:"返回登录",validateMobileNumberBindFailedToast:"绑定失败",validateMobileNumberEmptyError:"请至少选择一个用途",validateMobileNumberEmptyFeedback:"请输入手机号码",validateMobileNumberInvalidMobileFeedback:"手机号码格式不正确",validateMobileNumberInvalidToast:"手机号码格式不正确",validateMobileNumberNotMobileFeedback:"手机号码格式无法识别，请核对",validateMobileNumberOkToast:"绑定成功",validateMobileNumberOkToast2:"验证成功",validateMobileNumberUnknownErrorToast:"验证失败，请重试",validateMobileNumberUsage1:"商业办公",validateMobileNumberUsage2:"科学研究",validateMobileNumberUsage3:"兴趣娱乐",validateMobileNumberUsage4:"其他",validateMobileNumberUsageLabel:"用途",validateMobileNumberVerificationCodeIncorrectOrExpireToast:"验证码无效，请重新获取并验证",validateMobileNumberVerificationCodeIncorrectToast:"验证码错误，请重新输入",validateMobileNumberVerificationCodeInvalidToast:"验证码格式不正确",verificationCodeCountDown:e=>"".concat(e," 秒后可再次获取"),verificationCodeSentFailed:"发送失败，请稍后再试",verificationEmailCodeSentSuccessfully:e=>"验证码已发送至 ".concat(e,"，请检查你的收件箱和垃圾邮件文件夹。"),verificationSmsCodeSentSuccessfully:e=>"验证码已发送至 ".concat(e),verifyPhoneModalBackButton:"返回",verifyPhoneModalCallingCodeInputPlaceholder:"地区",verifyPhoneModalCodeInputLabel:e=>"输入你（".concat(e,"）收到的短信验证码。短信验证码可能稍有延迟，请耐心等待。"),verifyPhoneModalCodeInputPlaceholder:"短信验证码",verifyPhoneModalPhoneInputLabel:"完成手机号验证，即刻领取 500 万 tokens",verifyPhoneModalPhoneInputPlaceholder:"手机号",verifyPhoneModalSendCodeButton:"发送验证码",verifyPhoneModalSendCodeCountdownButton:e=>"发送验证码（".concat(e," 秒）"),verifyPhoneModalTitle:"验证手机号",verifyPhoneModalVerifyButton:"验证",wechatMobileVerificationMobileBoundToast:"验证失败，该手机号已绑定其他微信号",wechatMobileVerificationWeChatBoundToast:"验证失败，该微信号已绑定其他手机号"},en_US:{bannedPageBackToHome:"Go Home",bannedPageSlogan:"Your account was suspended due to violation of our policies. Refer to [FAQ](https://api-docs.deepseek.com/faq).",commonInvalidTokenToast:"You have signed out of your account, please log in again.",commonMobileNumberVerificationToast:"please verify your phone number.",commonUnderAuditingToast:"Your account is under review.",commonUserIsBannedToast:"Your account was suspended due to violation of our policies.",contactUsButton:"Contact us",deleteAccount:"Delete account",deleteAccountFailedToast:"Failed to delete account.",deleteAccountFrequentFailToast:"Account deletion failed. Frequent deletion attempts detected. Please try again later.",deleteAccountModalCancel:"Cancel",deleteAccountModalConfirm:"Confirm delete my account",deleteAccountModalConfirmText:"DELETE MY ACCOUNT",deleteAccountModalContent:(e,t)=>"Deletion will prevent you from accessing DeepSeek services, including DeepSeek Chat and Platform.\n**If there is any unused balance in your account, deletion will be considered as forfeiting the balance. Frequent account deletions may be flagged as suspicious activity, resulting in restrictions or bans.**\nIf you have any questions, please contact us by email at ".concat(e,".\nTo verify, please type **").concat(t,"** below:"),deleteAccountModalTitle:"Delete account?",deleteAccountOkToast:"Account deleted successfully.",deleteAccountSettingDialogButton:"Delete",emailCodeCloudErrorToast:"Sorry! We're having trouble sending you an email right now. Please try again later.",emailCodeFrequentToast:"Only one verification code can be sent within one minute.",emailDomainNotInWhitelistToast:"Error sending code. Email domain not supported. Please use a global email service like Gmail, Outlook, or Yahoo.",emailFormatErrorToast:"Email is invalid.",exectionEnvironmentExecptionToast:"The current browser operating environment is abnormal. Please switch execution environments and try again.",footerGongAnLink:"https://beian.mps.gov.cn/#/query/webSearch?code=33010502011812",footerGongAnTitle:"浙公网安备 33010502011812 号",footerICPLink:"https://beian.miit.gov.cn",footerICPTitle:"浙ICP备2023025841号",footerWechatQRCodeImageLink:"https://cdn.deepseek.com/platform/service_wechat.jpg",footerWechatQRCodeTip:"Scan QR code to contact us.",forgotPassword:"Forgot password?",forgotPasswordBackToSignIn:"Back to log in",forgotPasswordButton:"Reset password",forgotPasswordCheckCodeFailedToast:"Verification failed. Please try again.",forgotPasswordCodeExpiredToast:"The code has expired. Please try again.",forgotPasswordCodeInvalidToast:"Invalid code. Please try again.",forgotPasswordConfirmPasswordInputPlaceholder:"Confirm new password",forgotPasswordDescription:"Enter your email address and we will send you a verification code to reset your password.",forgotPasswordDescriptionCn:"Enter your phone number and we will send you a verification code to reset your password.",forgotPasswordFailedCodeExpiredToast:"Password reset failed as the reset time has expired. Please go back and try again.",forgotPasswordFailedCodeVerifyFailedToast:"Password reset failed due to an invalid verification code. Please go back and try again.",forgotPasswordFailedEmailNotExistToast1:"The email address is not registered. Please try again.",forgotPasswordFailedEmailNotExistToast2:"Password reset failed as the email address is not registered. Please go back and try again.",forgotPasswordFailedMobileNotExistToast1:"The phone number is not registered. Please try again.",forgotPasswordFailedMobileNotExistToast2:"Password reset failed as the phone number is not registered. Please go back and try again.",forgotPasswordFailedToast:"Password reset failed. Please try again.",forgotPasswordGeneralDescription:"Enter your phone number or email address and we will send you a verification code to reset your password.",forgotPasswordGetBack:"Get back",forgotPasswordInputPlaceholder:"Email address / +86 phone number",forgotPasswordInvalidPasswordToast:"Password is invalid. Please try again.",forgotPasswordNewPasswordDescription:e=>"Enter a new password below to change your password for ".concat(e,"."),forgotPasswordNextStepButton:"Continue",forgotPasswordOkToast:"Your password has been changed successfully. Redirecting...",forgotPasswordPasswordInputPlaceholder:"New password",forgotPasswordSecondaryDescription:"Your new password will apply to all DeepSeek services.",forgotPasswordTitle:"Reset password",goToSignIn:"Log in",goToSignUp:"Sign up",hcaptchaLoadFailToast:"Captcha failed to load, please refresh and try again",inputEmail:"Email address",inputEmailVerificationCode:"Code",inputMobilePhoneNumber:"Phone number",inputPassword:"Password",inputPasswordAgain:"Confirm password",inputSmsVerificationCode:"Code",loginAccountBannedToast:"Your account was suspended due to violation of our policies.",mainlandLoginWaysTip:"Only login via phone number, WeChat, email is supported in your region.",mainlandSignUpWaysTip:"Only phone number registration is supported in your region. ",mobileCodeAlreadyBoundToast:"This phone number has been bound.",mobileCodeAlreadyVerifiedToast:"The account is already bound with a phone number.",mobileCodeCloudErrorToast:"Sorry! We're having trouble sending you a message right now. Please try again later.",mobileCodeFrequentToast:"Only one verification code can be sent within one minute.",mobileVerficationFormAccountAlreadyExistsErrorToast:"Binding failed, this phone number has been bound.",mobileVerficationFormDescription:"To ensure account security, please bind your phone number upon first login.",mobileVerficationFormExistingMobileOkToast:"Login successfully.",mobileVerficationFormGetProfileFailedErrorToast:"Binding failed, unable to obtain WeChat account information.",mobileVerficationFormInvalidAddrToast:"Invalid URL detected, please rescan the QR code for authorization.",mobileVerficationFormMobilePhoneNumberBannedErrorToast:"Bind failed, the account bound with this phone number has been banned.",mobileVerficationFormNewMobileOkToast:"Login successfully.",mobileVerficationFormRegistrationExpiredErrorToast:"Bind failed, please rescan the QR code for authorization.",mobileVerficationFormSmsExpiredCodeErrorToast:"The code has expired. Please try again.",mobileVerficationFormSmsVerifyFailedCodeErrorToast:"Invalid code. Please try again.",mobileVerficationFormSubmitButton:"Submit",mobileVerficationFormTitle:"Bind phone number",mobileVerficationFormUnknownErrorToast:"Sorry! We're having trouble during binding. Please try again later.",mobileVerificationInvalidPhoneNumberToast:"Verification failed. Phone number is invalid.",overseaLoginWaysTip:"Only login via email, Google, or +86 phone number login is supported in your region.",overseaSignUpWaysTip:"Only email registration is supported in your region. ",passwordSignInAcknowledgement:(e,t)=>(0,u.jsxs)(u.Fragment,{children:["By signing up or logging in, you consent to DeepSeek's ",e,"\xa0 and ",t,"."]}),privacyPolicy:"Privacy Policy",privacyPolicyFile:"DeepSeek Privacy Policy.html",registerAgreementCheckboxEmptyError:"Please check the checkbox to continue.",registerConfirmPasswordEmptyError:"Please re-enter your password for confirmation.",registerDescription:"One DeepSeek account is all you need to access to all DeepSeek services.",registerEmailDomainNotSupportedToast:"Registration failed. Email domain not supported. Please use a global email service like Gmail, Outlook, or Yahoo.",registerEmailEmptyError:"Please enter your email address.",registerEmailExistToast:"Email is already registered.",registerEmailInputInvalidError:"Email is invalid.",registerEmailPasscodeFailedToast:"Invalid code. Please try again.",registerInvalidPasswordToast:"Password is invalid.",registerMobileEmptyError:"Please enter your phone number.",registerMobileExistToast:"Phone number is registered.",registerMobileInputInvalidError:"Please enter a valid phone number.",registerPasswordCodeExpiredToast:"The code has expired. Please try again.",registerPasswordEmptyError:"Please enter your password.",registerPasswordInvalidError:"Password contains invalid characters.",registerPasswordLengthError:"Password must be between 8 and 50 characters.",registerPasswordNotMatchError:"Password doesn't match.",registerRegisterFromMainlandToast:"Currently, Phone registration is only open to users in Mainland China.",registerVerificationCodeEmptyError:"Please enter the verification code.",registerVerificationCodeInvalidError:"Code is invalid",requestTooFrequentToast:"Too many requests. Please try again later.",sendVerificationCode:"Send code",serviceStatus:"Service Status",signIn:"Log in",signInAgreement:(e,t)=>(0,u.jsxs)(u.Fragment,{children:["I confirm that I have read, consent and agree to DeepSeek's ",e,"\xa0 and ",t,"."]}),signInBySmsAgreement:(e,t)=>(0,u.jsxs)(u.Fragment,{children:["I confirm that I have read, consent and agree to DeepSeek's ",e,"\xa0 and ",t,". New phone numbers will be automatically registered."]}),signInDividerOr:"OR",signInEmailAndPhoneEmptyError:"Please enter the phone number / email address.",signInEmailAndPhoneInvalidError:"Please enter a valid phone number / email address.",signInEmailAndPhonePlaceholder:"Phone number / email address",signInFailed:"Login failed.",signInFormTabByPasswordOption:"Password login",signInFormTabBySmsOption:"Code login",signInOk:"Login successfully.",signInPasswordEmailErrorToast:"Your password is incorrect or this account doesn’t exist. Please check and try again",signInPasswordEmptyError:"Please enter your password.",signInUserIsBannedToast:"As a result of violations, your account has been suspended.",signInWithGoogle:"Log in with Google",signInWithGoogleFailedToast:"Sorry! There's an issue with the Google login service. Please try again later.",signInWithGoogleGetProfileFailedToast:"Sorry! We're having trouble fetching user information from Google. Please try again later.",signInWithGoogleNetworkFailedToast:"Sorry! We're having trouble connecting to the Google server. Please try again later.",signInWithGoogleSwapCodeFailedToast:"Sorry! Google login request was unsuccessful. Please try again later.",signInWithWechat:"Log in with WeChat",signInWithWechatAgreement:(e,t)=>(0,u.jsxs)(u.Fragment,{children:["By scanning the QR code, I confirm that I have read, consent and agree to DeepSeek's"," ",e,"\xa0 and ",t,"."]}),signInWithWechatFailedToast:"Sorry! There's an issue with the WeChat login service. Please try again later.",signInWithWechatGetProfileFailedToast:"Sorry! We're having trouble fetching user information from WeChat. Please try again later.",signInWithWechatNetworkFailedToast:"Sorry! We're having trouble connecting to the WeChat server. Please try again later.",signInWithWechatQRcodeDialogDescription:"Scan with Wechat to login",signInWithWechatSwapCodeFailedToast:"Sorry! WeChat login request failed. Please try again later.",signUp:"Sign up",signUpAcknowledgement:(e,t)=>(0,u.jsxs)(u.Fragment,{children:["By signing up, you consent to DeepSeek's ",e,"\xa0 and ",t,"."]}),signUpByMobileOkToast:"Sign up successfully.",signUpFailedToast:"Sign up failed.",signUpOkToast:"Sign up successfully.",smsSignInAcknowledgement:(e,t)=>(0,u.jsxs)(u.Fragment,{children:["By signing up or logging in, you consent to DeepSeek's ",e,"\xa0 and ",t,". New phone numbers will be automatically registered."]}),submitApplication:"Submit application",termsOfUse:"Terms of Use",termsOfUseFile:"DeepSeek Terms of Use.html",underAuditingDescription:"Under review, please wait for a moment.",userIsBannedToast:"As a result of violations, your account has been temporarily suspended.",validateMobileNumberAlreadyBoundToast:"This phone number has been bound.",validateMobileNumberAlreadyVerifiedToast:"The account is already bound with a phone number.",validateMobileNumberBackToSignIn:"Back to log in",validateMobileNumberBindFailedToast:"Bind failed.",validateMobileNumberEmptyError:"Please select at least one usage.",validateMobileNumberEmptyFeedback:"Please enter a phone number.",validateMobileNumberInvalidMobileFeedback:"Please enter a valid phone number.",validateMobileNumberInvalidToast:"Phone number is invalid.",validateMobileNumberNotMobileFeedback:"This phone number format is not recognized. Please check.",validateMobileNumberOkToast:"Bind successfully.",validateMobileNumberOkToast2:"Verification successful.",validateMobileNumberUnknownErrorToast:"Verification failed. Please try again.",validateMobileNumberUsage1:"Business",validateMobileNumberUsage2:"Scientific research",validateMobileNumberUsage3:"Entertainment",validateMobileNumberUsage4:"Others",validateMobileNumberUsageLabel:"Usage",validateMobileNumberVerificationCodeIncorrectOrExpireToast:"The code has expired. Please try again.",validateMobileNumberVerificationCodeIncorrectToast:"Invalid code. Please try again.",validateMobileNumberVerificationCodeInvalidToast:"Verification code is invalid.",verificationCodeCountDown:e=>"Resend after ".concat(e,"s"),verificationCodeSentFailed:"Sorry! We're having trouble sending you a verification code right now. Please try again later.",verificationEmailCodeSentSuccessfully:e=>"A verification code has been sent to ".concat(e,".\nPlease check your inbox and spam folder."),verificationSmsCodeSentSuccessfully:e=>"A verification code has been sent to ".concat(e,"."),verifyPhoneModalBackButton:"Back",verifyPhoneModalCallingCodeInputPlaceholder:"Area",verifyPhoneModalCodeInputLabel:e=>"Enter the code we just sent you(".concat(e,"). There might be a slight delay in receiving the SMS code."),verifyPhoneModalCodeInputPlaceholder:"SMS code",verifyPhoneModalPhoneInputLabel:"Verify your phone number to get started with 5 million tokens for free.",verifyPhoneModalPhoneInputPlaceholder:"Phone number",verifyPhoneModalSendCodeButton:"Send code",verifyPhoneModalSendCodeCountdownButton:e=>"Send code (".concat(e,"S)"),verifyPhoneModalTitle:"Verify mobile phone",verifyPhoneModalVerifyButton:"Verify",wechatMobileVerificationMobileBoundToast:"Verification failed. The phone number is bound with another WeChat account.",wechatMobileVerificationWeChatBoundToast:"Verification failed. The WeChat account is bound with another phone number."}},eA={};function eN(){return(0,U.useCallback)((e,t)=>eR[t][e],[])}function eL(e,t){return eA[e]?eA[e]:eA[e]=function(){var n;let a=(n=t(),e=>eR[n][e])(e);return"string"==typeof a?a:a()}}var eF=n(75929);let eO=(0,U.createContext)(null);function eP(){let e=(0,U.useContext)(eO);if(!e)throw Error("useAuthConfig must be used within a AuthConfigProvider");return e}function eD(){return eP().locale}function eB(){let{locale:e}=eP();return(0,U.useCallback)(t=>eR[e][t],[e])}let eH=(0,U.memo)(function(e){let{children:t,baseUrl:n,isMainlandChina:a,isMobile:r,isBeta:s,locale:o,modelServiceAgreement:i,termsOfUse:l,termsOfUseFile:d,privacyPolicy:c,privacyPolicyFile:h,tracker:p,http:g,turnstileEnabled:m,captchaEnabled:f,tintColor:C,serverApiUserToUser:v,setStorageUserToken:x,isDark:S}=e;return(0,U.useEffect)(()=>{if(m)return(0,eF.Wx)(),eF.$Y},[m]),(0,u.jsx)(eO.Provider,{value:(0,U.useMemo)(()=>({baseUrl:n,isMainlandChina:a,isMobile:r,isBeta:s,locale:o,modelServiceAgreement:i,termsOfUse:l,termsOfUseFile:d,privacyPolicy:c,privacyPolicyFile:h,tracker:p,http:g,serverApiUserToUser:v,setStorageUserToken:x,captchaEnabled:f,turnstileEnabled:m,tintColor:C,isDark:S}),[n,a,r,s,o,i,l,d,c,h,p,g,v,x,f,m,C,S]),children:t})});var eV=n(57204);function eU(e){return/^1\d{10}$/.test(e)}function eW(e){return(0,eV.validate)(e)}function eG(e){let{placeholder:t,stringValueHolder:n}=e,[a,r]=(0,U.useState)(void 0),[s,o]=(0,U.useState)(void 0),[i,l]=(0,U.useState)(n.get);function d(e){if(eW(e))return"email";if(eU(e))return"sms";{o("error");let e=eL("signInEmailAndPhoneInvalidError",eD);return r((0,u.jsx)(e,{})),null}}return{value:i,validateAndGetTypeForVerificationCode:d,validateForVerificationCode:function(){if(0===i.length){o("error");let e=eL("signInEmailAndPhoneEmptyError",eD);return r((0,u.jsx)(e,{})),!1}return null!=d(i)},onSubmit:()=>{if(0===i.length){o("error");let e=eL("signInEmailAndPhoneEmptyError",eD);return r((0,u.jsx)(e,{})),!1}return void 0===s},node:(0,u.jsx)(ew,{showFeedbackPlaceholder:!0,feedback:a,status:s,children:(0,u.jsx)(eM,{value:i,size:"l",variant:"bordered",icon:(0,u.jsx)(ej.J,{size:"1em",children:(0,u.jsx)(eC,{})}),placeholder:t,onChange:e=>{let t=e.currentTarget.value.trim();l(t),n.set(t),t.length&&(o(void 0),r(void 0))},onBlur:e=>{e.target.value||(o(void 0),r(void 0))}})})}}var ez=n(722);let eZ="https://cdn.deepseek.com/policies/zh-CN/third-party-info-sharing-list.html",eq="https://cdn.deepseek.com/policies/zh-CN/deepseek-account-deletion-notice.html",eK="https://cdn.deepseek.com/policies/zh-CN/app-permissions.html",eY=e=>{let{isMainlandChina:t}=e;return t?{termsOfUse:"https://cdn.deepseek.com/policies/zh-CN/deepseek-terms-of-use.html",privacyPolicy:"https://cdn.deepseek.com/policies/zh-CN/deepseek-privacy-policy.html",openPlatformTerms:"https://cdn.deepseek.com/policies/zh-CN/deepseek-open-platform-terms-of-service.html",thirdPartyInfoSharing:eZ,accountDeletionNotice:eq,appPermissions:eK}:{termsOfUse:"https://cdn.deepseek.com/policies/en-US/deepseek-terms-of-use.html",privacyPolicy:"https://cdn.deepseek.com/policies/en-US/deepseek-privacy-policy.html",openPlatformTerms:"https://cdn.deepseek.com/policies/en-US/deepseek-open-platform-terms-of-service.html",thirdPartyInfoSharing:eZ,accountDeletionNotice:eq,appPermissions:eK}};function eX(e){let{signInAgreement:t}=e,{modelServiceAgreementNode:n,privacyPolicyNode:a}=function(){let e=eB(),{isMainlandChina:t,termsOfUse:n,termsOfUseFile:a}=eP(),r=eY({isMainlandChina:t}),s=n||e("termsOfUse"),o=a||r.termsOfUse,i=e("privacyPolicy"),l=r.privacyPolicy;return{serviceLabel:s,serviceURL:o,policyLabel:i,policyURL:l,modelServiceAgreementNode:(0,u.jsx)(ez.A,{href:o,onClick:e=>{e.stopPropagation()},onMouseDown:e=>e.stopPropagation(),target:"_blank",rel:"noopener noreferrer",children:s}),privacyPolicyNode:(0,u.jsx)(ez.A,{href:l,onClick:e=>{e.stopPropagation()},onMouseDown:e=>e.stopPropagation(),target:"_blank",rel:"noopener noreferrer",children:i})}}();return t({modelServiceAgreementNode:n,privacyPolicyNode:a})}function e$(e){let{acknowledgementRender:t}=e;return{onSubmit:()=>!0,node:(0,u.jsx)(ew,{showFeedbackPlaceholder:!0,className:"ds-sign-up-form__agreement-text",children:(0,u.jsx)(eX,{signInAgreement:t})})}}var eQ=n(17353);n(62100);var eJ=n(3985),e1=n(45768);let e0=()=>(0,e1.Ue)((e,t)=>({timerIsActive:!1,timerCountDown:0,startTimer(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:60;if(t().timerIsActive)return;e({timerIsActive:!0,timerCountDown:n});let a=()=>{setTimeout(()=>{e(e=>e.timerCountDown<=1?{timerIsActive:!1,timerCountDown:0}:(a(),{timerCountDown:e.timerCountDown-1}))},1e3)};a()}})),e2={sms:e0(),email:e0(),smsOrEmail:e0()},e3=e=>(0,e1.oR)(e2[e]);var e6=n(29140),e4=n(21188);async function e5(e,t){let{areaCode:n,mobilePhoneNumber:a,scene:r,locale:s,onOk:o,onError:i}=e,{t:l,timer:d,toast:c,tracker:u,turnstileToken:h,shumeiVerification:p,hcaptchaToken:g,requestHelper:m}=t,f=await V()||"",C=e4.V8.hashStr(a),v=a.replace(/(\d{3})\d{4}(\d{4})/,"$1****$2");u.info({name:"smsCodeSend",message:"手机验证码发送",payload:{areaCode:n,mobileMd5:C,mobileDesensitized:v,scene:r}}),(0,e6.WL)({mobileNumber:a,turnstileToken:h,locale:s,shumeiVerification:p,hcaptchaToken:g,deviceId:f},m).then(e=>{let{data:{code:t,sendWindowSecs:s},context:{logId:h}}=e,g=!1;switch(t){case e6.a$.CREATE_SMS_VERIFICATION_CODE_ERROR_CODE.OK:c.success({node:l("verificationSmsCodeSentSuccessfully")(a),description:l("verificationSmsCodeSentSuccessfully")("[mobile]")}),d.startTimer(null!=s?s:void 0),u.info({name:"smsCodeSendOk",message:"手机验证码发送成功",payload:{areaCode:n,deviceId:f,mobileMd5:C,mobileDesensitized:v,scene:r}}),g=!0;break;case e6.a$.CREATE_SMS_VERIFICATION_CODE_ERROR_CODE.SMS_SEND_TOO_FREQUENT:c.error({node:(0,U.createElement)(eL("mobileCodeFrequentToast",eD)),description:l("mobileCodeFrequentToast")}),u.error({name:"smsCodeSendFailed",message:"发送过于频繁",payload:{reason:"tooFrequent",code:"".concat(t),logId:h,scene:r,areaCode:n,deviceId:f,mobileMd5:C,mobileDesensitized:v}}),d.startTimer(null!=s?s:void 0);break;case e6.a$.CREATE_SMS_VERIFICATION_CODE_ERROR_CODE.RECAPTCHA_VERIFY_FAILED:c.error({node:(0,U.createElement)(eL("exectionEnvironmentExecptionToast",eD)),description:l("exectionEnvironmentExecptionToast")}),u.error({name:"serverCheckFailed",message:"服务端人机验证失败",payload:{logId:h,action:"smsCodeSend",rid:(null==p?void 0:p.rid)||"[unset]",endpointRegion:(null==p?void 0:p.region)||"[unset]",areaCode:n}});break;case e6.a$.CREATE_SMS_VERIFICATION_CODE_ERROR_CODE.NO_MOBILE_NUMBER:c.error({node:(0,U.createElement)(eL("registerMobileEmptyError",eD)),description:l("registerMobileEmptyError")}),u.error({name:"smsCodeSendFailed",message:"验证码发送失败",payload:{reason:"noMobileNumber",code:"".concat(t),logId:h,scene:r,areaCode:n,deviceId:f,mobileMd5:C,mobileDesensitized:v}});break;case e6.a$.CREATE_SMS_VERIFICATION_CODE_ERROR_CODE.CLOUD_ERROR:c.error({node:(0,U.createElement)(eL("mobileCodeCloudErrorToast",eD)),description:l("mobileCodeCloudErrorToast")}),u.error({name:"smsCodeSendFailed",message:"云服务异常",payload:{reason:"cloudError",code:"".concat(t),logId:h,scene:r,areaCode:n,deviceId:f,mobileMd5:C,mobileDesensitized:v}});break;default:c.error({node:(0,U.createElement)(eL("verificationCodeSentFailed",eD)),description:l("verificationCodeSentFailed")}),u.error({name:"smsCodeSendFailed",message:"未知错误码",payload:{reason:"unknownCode",code:"".concat(t),logId:h,scene:r,areaCode:n,deviceId:f,mobileMd5:C,mobileDesensitized:v}})}g?o():i()}).catch(e=>{c.error({node:(0,U.createElement)(eL("verificationCodeSentFailed",eD)),description:l("verificationCodeSentFailed")}),u.error({name:"smsCodeSendFailed",message:"其他错误",payload:u.withError(e,{reason:"other",mobile:a,scene:r,areaCode:n,deviceId:f,mobileMd5:C,mobileDesensitized:v})}),i()})}let e9=(()=>{try{return"352e5376-f2cc-43fe-a744-e51640449610"}catch{}return"eb68d628-dc7a-4c4c-a166-614655823020"})(),e7=!1;class e8 extends Error{}async function te(){e7||(await n.e("856").then(n.t.bind(n,19155,19)),e7=!0)}function tt(e){return e.includes("Failed to load hCaptcha JS API")}async function tn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;try{await te()}catch{throw new e8}let{promise:n,resolve:a,reject:r}=new h.B,s=document.createElement("h-captcha");return s.setAttribute("site-key",e9),s.setAttribute("size","invisible"),t>0&&s.setAttribute("jsapi","https://js.hcaptcha.com/1/api.js?_ts=".concat(Date.now())),s.setAttribute("theme",null!=e?e:""),s.addEventListener("loaded",async()=>{await Promise.resolve();try{let{response:e}=await s.executeAsync();a(e)}catch(e){r(e)}finally{s.remove()}}),s.addEventListener("error",n=>{let{error:o}=n;s.remove(),"string"==typeof o&&tt(o)&&t<2?(delete window._hCaptchaOnLoadPromise,tn(e,t+1).then(a,r)):r(o)}),document.body.appendChild(s),n}var ta=n(26071);function tr(e){let t;let{tracker:n,isDark:a}=eP(),{showShumeiCaptcha:r}=function(){let e=eu(),{locale:t,tracker:n,tintColor:a}=eP();return{showShumeiCaptcha:()=>{let r=new h.B,s=null;n.info({name:"openShumeiCaptchaModal",message:"打开数美验证码弹窗",payload:{}});let o=e.open({modalProps:{autoFocus:!1,closeOnMaskClick:!1,closeOnEscapeKeydown:!1,onOpenEffect:async()=>{let e=performance.now();(s=await L({organization:"P9usCUBauxft8eAmUXaZ",appendTo:"sm-captcha",maskBindClose:!1,lang:"zh_CN"==t?"zh-cn":"en",mode:"spatial_select"},{tintColor:a})).onReady((t,a)=>{let r=performance.now();n.info({name:"shumeiCaptchaResourceReady",message:"数美验证码资源加载完成",payload:{metricDuration:r-e,type:a.type,endpointRegion:N}})}),s.onSuccess(e=>{e.pass?(r.resolve(e),o.close(),n.info({name:"shumeiCaptchaOnSuccessPass",message:"数美验证码通过",payload:{rid:e.rid}})):n.info({name:"shumeiCaptchaOnSuccessNoPass",message:"数美验证码没通过",payload:{rid:e.rid}})})},children:(0,u.jsx)(el,{style:{width:"calc(294px + 42px)"},onClose:()=>{o.close(),r.resolve({rid:"",pass:!1})},afterTitle:(0,u.jsx)(ek.h,{style:{marginRight:8},onClick:()=>{null==s||s.reset()},children:(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 16 16",children:(0,u.jsx)("g",{fill:"none",children:(0,u.jsx)("path",{d:"M3 8a5 5 0 0 1 9-3H9.5a.5.5 0 0 0 0 1h3a.5.5 0 0 0 .5-.5v-.657V2.5a.5.5 0 0 0-1 0v1.028A6 6 0 1 0 14 8a.5.5 0 0 0-1 0A5 5 0 0 1 3 8z",fill:"currentColor"})})})}),headerWrapperStyle:{marginBottom:14},children:(0,u.jsxs)("div",{id:"sm-captcha",children:[(0,u.jsx)(ta.O,{variant:"rect",style:{height:147,marginBottom:9.8}}),(0,u.jsx)(ta.O,{variant:"rect",style:{height:39.2}})]})})}});return{onSettled:r.promise}}}}(),s=(0,eJ.pm)(),o=eB();return{getCaptchaResult:"shumei"===e?async()=>{try{let{pass:e,rid:t}=await r().onSettled;if(!e)return null;return{shumeiVerification:{region:N,rid:t},hcaptchaToken:void 0}}catch{return null}}:"hcaptcha"===e?async()=>{let e=performance.now();try{let t=await tn(a?"dark":"light");return n.info({name:"hcaptchaFinish",message:"hcaptcha 校验完成",payload:{token:t,metricDuration:performance.now()-e}}),{hcaptchaToken:t,shumeiVerification:void 0}}catch(r){let t="",a="execute";return"string"==typeof r?(t=r,tt(r)&&(s.error(o("hcaptchaLoadFailToast")),a="load",t="Failed to load hCaptcha JS API"),r=Error(r)):r instanceof e8&&(s.error(o("hcaptchaLoadFailToast")),t="Dynamic loading @hcaptcha/vanilla failed",a="load"),n.error({name:"hcaptchaCheckFailed",message:"hcaptcha校验失败",payload:n.withError(r,{stage:a,reason:t,metricDuration:performance.now()-e})}),null}}:async()=>({hcaptchaToken:void 0,shumeiVerification:void 0})}}function ts(e){let{turnstileEnabled:t,captchaEnabled:n,type:a,disabled:r,target:s,scenario:o,inputVerificationCodePlaceholder:i,sendVerificationCodePlaceholder:l,validateForVerificationCode:d,verificationCodeCountDown:c,validateAndGetTypeForVerificationCode:h}=e,p=e3(a),[g,m]=(0,U.useState)(""),[f,C]=(0,U.useState)(void 0),[v,x]=(0,U.useState)(void 0),[S,E]=(0,U.useState)(!1),b=(0,U.useRef)(null),{verifyCode:_}=function(e){let{type:t,scenario:n,captchaEnabled:a,setVerificationCodeLoading:r,validateForVerificationCode:s,validateAndGetTypeForVerificationCode:o}=e,i=e3(t),l=eB(),d=(0,eJ.pm)(),{tracker:c,locale:u,http:h,baseUrl:p}=eP(),{getCaptchaResult:g}=tr(a);return{verifyCode:async function(e){let a,m;if(!s())return"smsOrEmail"===t?c.error({name:"clientValidationFailed",message:"邮箱或手机号不合法",payload:{}}):"email"===t?c.error({name:"emailClientValidationFailed",message:"邮箱不合法",payload:{}}):c.error({name:"smsClientValidationFailed",message:"手机号不合法",payload:{}}),!1;r(!0);let f=await g();if(!f)return r(!1),!1;switch("smsOrEmail"===t?o(e):t){case"email":a=e4.V8.hashStr(e),m=e.replace(/(.{2}).+(.{2})/,"$1****$2"),c.info({name:"emailCodeSend",message:"邮箱验证码发送",payload:{emailMd5:a,emailDesensitized:m}}),(0,e6.Tk)({locale:u,email:e,turnstileToken:"",...f,deviceId:await V(),scenario:"forgetPassword"===n?"reset_password":"bindEmail"===n?"bind_email":"register"},{http:h,baseUrl:p}).then(t=>{let{data:{code:s},context:{logId:o}}=t;switch(s){case e6.a$.CRAETE_EMAIL_VERIFICATION_CODE_ERROR_CODE.OK:d.success({node:l("verificationEmailCodeSentSuccessfully")(e),description:l("verificationEmailCodeSentSuccessfully")("[email]")}),c.info({name:"emailCodeSendOk",message:"邮箱验证码发送成功",payload:{emailMd5:a,emailDesensitized:m}}),i.startTimer();break;case e6.a$.CRAETE_EMAIL_VERIFICATION_CODE_ERROR_CODE.EMAIL_REQUEST_TOO_FREQUENT:d.error({node:(0,U.createElement)(eL("emailCodeFrequentToast",eD)),description:l("emailCodeFrequentToast")}),c.error({name:"emailCodeSendFailed",message:"发送频率过高",payload:{logId:o,reason:"tooFrequent",code:"".concat(s),scene:n,emailMd5:a,emailDesensitized:m}}),i.startTimer();break;case e6.a$.CRAETE_EMAIL_VERIFICATION_CODE_ERROR_CODE.RECAPTCHA_VERIFY_FAILED:var u,h;d.error({node:(0,U.createElement)(eL("exectionEnvironmentExecptionToast",eD)),description:l("exectionEnvironmentExecptionToast")}),c.error({name:"serverCheckFailed",message:"服务端人机验证失败",payload:{logId:o,action:"emailCodeSend",areaCode:null,endpointRegion:N,rid:null!==(h=null==f?void 0:null===(u=f.shumeiVerification)||void 0===u?void 0:u.rid)&&void 0!==h?h:""}}),i.startTimer();break;case e6.a$.CRAETE_EMAIL_VERIFICATION_CODE_ERROR_CODE.INVALID_EMAIL_FORMAT:d.error({node:(0,U.createElement)(eL("emailFormatErrorToast",eD)),description:l("emailFormatErrorToast")}),c.error({name:"emailCodeSendFailed",message:"邮箱格式错误",payload:{reason:"invalidEmailFormat",code:"".concat(s),logId:o,scene:n,emailMd5:a,emailDesensitized:m}}),i.startTimer();break;case e6.a$.CRAETE_EMAIL_VERIFICATION_CODE_ERROR_CODE.EMAIL_DOMAIN_NOT_IN_WHITELIST:d.error({node:(0,U.createElement)(eL("emailDomainNotInWhitelistToast",eD)),description:l("emailDomainNotInWhitelistToast")}),c.error({name:"emailCodeSendFailed",message:"邮箱域名不在白名单",payload:{reason:"emailDomainNotInWhitelist",code:"".concat(s),logId:o,scene:n,emailMd5:a,emailDesensitized:m}}),i.startTimer();break;case e6.a$.CRAETE_EMAIL_VERIFICATION_CODE_ERROR_CODE.CLOUD_ERROR:d.error({node:(0,U.createElement)(eL("emailCodeCloudErrorToast",eD)),description:l("emailCodeCloudErrorToast")}),c.error({name:"emailCodeSendFailed",message:"云服务异常",payload:{reason:"cloudError",code:"".concat(s),logId:o,scene:n,emailMd5:a,emailDesensitized:m}});break;default:c.error({name:"emailCodeSendFailed",message:"未知错误码",payload:{reason:"unknownCode",scene:n,code:"".concat(s),logId:o,emailMd5:a,emailDesensitized:m}}),d.error({node:(0,U.createElement)(eL("verificationCodeSentFailed",eD)),description:l("verificationCodeSentFailed")})}r(!1)}).catch(e=>{d.error({node:(0,U.createElement)(eL("verificationCodeSentFailed",eD)),description:l("verificationCodeSentFailed")}),c.error({name:"emailCodeSendFailed",message:"其他错误",payload:c.withError(e,{reason:"other",scene:n,emailMd5:a,emailDesensitized:m})}),r(!1)});break;case"sms":e5({locale:u,mobilePhoneNumber:e,scene:n,callingCode:"",areaCode:"",onOk(){r(!1)},onError(){r(!1)}},{t:l,timer:i,toast:d,tracker:c,turnstileToken:"",...f,requestHelper:{http:h,baseUrl:p}})}return!0}}}("smsOrEmail"===a?{turnstileEnabled:t,captchaEnabled:n,type:a,scenario:o,setVerificationCodeLoading:E,validateForVerificationCode:d,validateAndGetTypeForVerificationCode:h}:{turnstileEnabled:t,captchaEnabled:n,type:a,scenario:o,setVerificationCodeLoading:E,validateForVerificationCode:d});return{value:g,onSubmit:()=>{if(0===g.length){x("error");let e=eL("registerVerificationCodeEmptyError",eD);return C((0,u.jsx)(e,{})),!1}return void 0===v},status:v,node:(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(ew,{showFeedbackPlaceholder:!0,feedback:f,status:v,children:(0,u.jsxs)("div",{className:"ds-verify-code-form-item",children:[(0,u.jsx)(eM,{size:"l",maxLength:6,variant:"bordered",disabled:r,type:"tel",placeholder:i,icon:(0,u.jsx)(ej.J,{size:"1em",children:(0,u.jsx)(em,{})}),className:"ds-verify-code-form-item__verify-code-input",inputDomRef:b,onChange:e=>{let t=e.currentTarget.value;if(m(t),/^\d*$/.test(t)&&t.length<=6)x(void 0),C(void 0);else{x("error");let e=eL("registerVerificationCodeInvalidError",eD);C((0,u.jsx)(e,{}))}},onBlur:()=>{if(!g||/^\d{6}$/.test(g))x(void 0),C(void 0);else{x("error");let e=eL("registerVerificationCodeInvalidError",eD);C((0,u.jsx)(e,{}))}}}),(0,u.jsx)(eQ.z,{variant:"bordered",size:"l",type:"secondary",className:"dsds-verify-code-form-item__verify-code-button",disabled:r||p.timerIsActive,loading:S,onClick:()=>{_(s).then(e=>{e&&b.current&&b.current.focus()})},children:p.timerIsActive?c({seconds:p.timerCountDown}):l})]})})})}}function to(e){let{disabled:t,placeholder:n,stringValueHolder:a}=e,[r,s]=(0,U.useState)(a.get),[o,i]=(0,U.useState)(void 0),[l,d]=(0,U.useState)(void 0);return{validateForVerificationCode:function(){if(0===r.length){i("error");let e=eL("registerMobileEmptyError",eD);return d((0,u.jsx)(e,{})),!1}if(!eU(r)){i("error");let e=eL("registerMobileInputInvalidError",eD);return d((0,u.jsx)(e,{})),!1}return!0},value:r,status:o,onSubmit:()=>{if(0===r.length){i("error");let e=eL("registerMobileEmptyError",eD);return d((0,u.jsx)(e,{})),!1}return void 0===o},node:(0,u.jsx)(ew,{showFeedbackPlaceholder:!0,status:o,feedback:l,children:(0,u.jsx)(eM,{autoFocus:!0,size:"l",variant:"bordered",type:"tel",value:r,disabled:t,onChange:e=>{let t=e.currentTarget.value.trim();if(s(t),a.set(t),/^\d*$/.test(t)&&t.length<=11)i(void 0),d(void 0);else{i("error");let e=eL("registerMobileInputInvalidError",eD);d((0,u.jsx)(e,{}))}},onBlur:()=>{if(!r||eU(r))i(void 0),d(void 0);else{i("error");let e=eL("registerMobileInputInvalidError",eD);d((0,u.jsx)(e,{}))}},icon:(0,u.jsx)(ej.J,{size:"1em",children:(0,u.jsx)(ev,{})}),prefix:"+86",placeholder:n})})}}function ti(e){let{disabled:t,passwordPlaceholder:n,confirmPasswordPlaceholder:a}=e,[r,s]=(0,U.useState)(""),[o,i]=(0,U.useState)(""),[l,d]=(0,U.useState)(void 0),[c,h]=(0,U.useState)(void 0),[p,g]=(0,U.useState)(void 0),[m,f]=(0,U.useState)(void 0),C=e=>{var t;if(o.length){if(e===o)g(void 0),f(void 0);else{g("error");let e=eL("registerPasswordNotMatchError",eD);f((0,u.jsx)(e,{}))}}let{result:n}=(t=e,/^[ -~]*$/.test(t)?t.length<8?{result:"tooShort"}:t.length>50?{result:"tooLong"}:{result:null}:{result:"invalidChar"});if(null===n)d(void 0),h(void 0);else switch(d("error"),n){case"invalidChar":let a=eL("registerPasswordInvalidError",eD);h((0,u.jsx)(a,{}));break;case"tooShort":case"tooLong":let r=eL("registerPasswordLengthError",eD);h((0,u.jsx)(r,{}))}};return{value:r,onSubmit:()=>{let e=!0;if(0===r.length){d("error");let t=eL("registerPasswordEmptyError",eD);h((0,u.jsx)(t,{})),e=!1}if(0===o.length){g("error");let t=eL("registerConfirmPasswordEmptyError",eD);f((0,u.jsx)(t,{})),e=!1}return!!e&&void 0===p&&void 0===l},node:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(ew,{showFeedbackPlaceholder:!0,status:l,feedback:c,children:(0,u.jsx)(eM,{size:"l",variant:"bordered",type:"password",passwordVisible:!0,disabled:t,onChange:e=>{let t=e.currentTarget.value;s(t),C(t)},onBlur:()=>{r?C(r):(d(void 0),h(void 0))},icon:(0,u.jsx)(ej.J,{size:"1em",children:(0,u.jsx)(ex,{})}),placeholder:n})}),(0,u.jsx)(ew,{showFeedbackPlaceholder:!0,status:p,feedback:m,children:(0,u.jsx)(eM,{size:"l",variant:"bordered",disabled:t,type:"password",passwordVisible:!0,onChange:e=>{let t=e.currentTarget.value;if(i(t),r!==t){g("error");let e=eL("registerPasswordNotMatchError",eD);f((0,u.jsx)(e,{}))}else g(void 0),f(void 0)},onBlur:()=>{if(o){if(r!==o){g("error");let e=eL("registerPasswordNotMatchError",eD);f((0,u.jsx)(e,{}))}}else g(void 0),f(void 0)},icon:(0,u.jsx)(ej.J,{size:"1em",children:(0,u.jsx)(ex,{})}),placeholder:a})})]})}}function tl(e,t){return void 0===t?e:t}n(82833),n(50868),n(31881),n(13464),n(64386),n(47120),n(14861),n(12590);let td=[];function tc(e){let{tabs:t=td,defaultValue:n=null,value:a,variant:r="line",className:s,style:o,gap:i=16,lineStyle:l,onChange:d,theme:c}=e,[h,p]=(0,U.useState)(n),g=tl(h,a),m=(0,U.useCallback)(e=>{p(e),null==d||d(e)},[d]);return(0,u.jsx)("div",{className:(0,Q.Z)("".concat(Z.F,"-tabs"),"".concat(Z.F,"-tabs--").concat(r),s),style:Object.assign({"--ds-tab-gap":"".concat(i,"px"),"--ds-tabs-active-color":null==c?void 0:c.activeColor},o),children:t.map(e=>(0,u.jsx)(tu,{tabKey:e.key,title:e.title,active:e.key===g,lineStyle:l,onClick:m},e.key))})}function tu(e){let{title:t,tabKey:n,active:a,lineStyle:r,onClick:s}=e;return(0,u.jsxs)("div",{tabIndex:0,className:(0,Q.Z)("".concat(Z.F,"-tab"),a&&"".concat(Z.F,"-tab--active")),onClick:()=>{s(n)},onKeyDown:e=>{"Enter"===e.key&&s(n)},children:[(0,u.jsx)("div",{className:"".concat(Z.F,"-tab__content"),children:t}),a&&(0,u.jsx)("div",{className:"".concat(Z.F,"-tab__line"),style:r})]})}function th(e){let{showLine:t=!0,variant:n,children:a,className:r,style:s,domProps:o,contentDomProps:i,lineDomProps:l}=e;return(0,u.jsxs)("div",{...o,style:s,className:(0,Q.Z)("".concat(Z.F,"-divider"),"strong"===n?"".concat(Z.F,"-divider--strong"):void 0,null==o?void 0:o.className,r),children:[t&&(0,u.jsx)("div",{...l,className:(0,Q.Z)("".concat(Z.F,"-divider__left"),null==l?void 0:l.className)}),a?(0,u.jsx)("div",{...i,className:(0,Q.Z)("".concat(Z.F,"-divider__content"),null==i?void 0:i.className),children:a}):null,a?t&&(0,u.jsx)("div",{...l,className:(0,Q.Z)("".concat(Z.F,"-divider__right"),null==l?void 0:l.className)}):null]})}function tp(e){let{onClick:t,loading:n}=e,[a]=(0,K.lr)(),{tracker:r}=eP(),s=eB(),o=(0,eJ.pm)();return(0,U.useEffect)(()=>{if("GOOGLE"!==a.get("provider"))return;let e=a.get("error"),t=a.get("code");if(t&&"0"!==t)switch(Number(t)){case e6.a$.OAUTH_CALLBACK_ERROR_MESSAGE_CODE.SWAP_CODE_NETWORK_ERROR:o.error({node:(0,U.createElement)(eL("signInWithGoogleNetworkFailedToast",eD)),description:s("signInWithGoogleNetworkFailedToast")}),r.error({name:"signInWithGoogleFailed",message:"Google 登录失败",payload:{reason:"networkFailed",code:String(t),error:e}});break;case e6.a$.OAUTH_CALLBACK_ERROR_MESSAGE_CODE.GET_PROFILE_FAILED:o.error({node:(0,U.createElement)(eL("signInWithGoogleGetProfileFailedToast",eD)),description:s("signInWithGoogleGetProfileFailedToast")}),r.error({name:"signInWithGoogleFailed",message:"Google 登录失败",payload:{reason:"getProfileFailed",code:String(t),error:e}});break;case e6.a$.OAUTH_CALLBACK_ERROR_MESSAGE_CODE.SWAP_CODE_INVALID:o.error({node:(0,U.createElement)(eL("signInWithGoogleSwapCodeFailedToast",eD)),description:s("signInWithGoogleSwapCodeFailedToast")}),r.error({name:"signInWithGoogleFailed",message:"Google 登录失败",payload:{reason:"swapCodeFailed",code:String(t),error:e}});break;case e6.a$.OAUTH_CALLBACK_ERROR_MESSAGE_CODE.RECAPTCHA_VERIFY_FAILED:o.error({node:(0,U.createElement)(eL("signInWithGoogleFailedToast",eD)),description:s("signInWithGoogleFailedToast")}),r.error({name:"signInWithGoogleFailed",message:"Google 登录失败",payload:{reason:"recaptchaVerifyFailed",code:String(t),error:e}});break;case e6.a$.OAUTH_CALLBACK_ERROR_MESSAGE_CODE.TOO_MANY_REQUESTS:o.error({node:(0,U.createElement)(eL("requestTooFrequentToast",eD)),description:s("requestTooFrequentToast")}),r.error({name:"signInWithGoogleFailed",message:"Google 登录请求超限",payload:{reason:"tooManyRequests",code:String(t),error:e}});break;case e6.a$.OAUTH_CALLBACK_ERROR_MESSAGE_CODE.UNEXCEPTED_ERROR:o.error({node:(0,U.createElement)(eL("signInWithGoogleFailedToast",eD)),description:s("signInWithGoogleFailedToast")}),r.error({name:"signInWithGoogleFailed",message:"Google 登录失败",payload:{reason:"unexpectedFailed",code:String(t),error:e}});break;default:o.error({node:(0,U.createElement)(eL("signInWithGoogleFailedToast",eD)),description:s("signInWithGoogleFailedToast")}),r.error({name:"signInWithGoogleFailed",message:"Google 登录失败",payload:{reason:"unknownCode",code:String(t),error:e}})}},[a,s,o,r]),(0,u.jsx)(eQ.z,{loading:n,type:"secondary",variant:"bordered",block:!0,size:"l",icon:(0,u.jsx)(ef,{}),onClick:t,style:{marginBottom:16,borderColor:"var(--ds-rgb-separator-strong)"},children:s("signInWithGoogle")})}function tg(e){let{onGoogleSignIn:t}=e,[n,a]=(0,U.useState)(!1),{baseUrl:r,captchaEnabled:s,tracker:o}=eP(),{getCaptchaResult:i}=tr(s);return(0,u.jsx)(tp,{onClick:async()=>{o.info({name:"signInWithGoogleClicked",message:"点击了 Google 登录按钮",payload:{}}),null==t||t(),a(!0);let e=await i();if(!e){a(!1);return}let{shumeiVerification:n,hcaptchaToken:s}=e,l=await V();window.location.href="".concat(r,"/oauth/google/authorize?os=web").concat(tm(l),"&shumei_verification=").concat(n?JSON.stringify(n):"","&hcaptcha_token=").concat(s?encodeURIComponent(s):"")},loading:n})}n(98302),n(1227);let tm=e=>!e||e.length>500?"&device_id=":"&device_id=".concat(encodeURIComponent(e));var tf=n(15838);function tC(e){let{onClick:t,loading:n}=e,a=eB();return(0,u.jsx)(eQ.z,{loading:n,variant:"filled",type:"primary",block:!0,size:"l",className:"ds-sign-up-form__register-button",onClick:t,children:a("signIn")})}n(75464),n(87985);let tv=()=>{let e="";return{set:t=>{e=t},get:()=>e}},tx=tv();function tS(e){let{beAuthenticated:t,onAfterSignInOk:n,onForgotPassword:a,onGoToSignUp:r}=e,s=eB(),{http:o,baseUrl:i,tracker:l,serverApiUserToUser:d}=eP(),c=(0,eJ.pm)(),{node:h,onSubmit:p,value:g}=eG({placeholder:s("signInEmailAndPhonePlaceholder"),stringValueHolder:tx}),{node:m,onSubmit:f,value:C}=function(e){let{placeholder:t}=e,[n,a]=(0,U.useState)(""),[r,s]=(0,U.useState)(void 0),[o,i]=(0,U.useState)(void 0);return{value:n,onSubmit:()=>{if(0===n.length){s("error");let e=eL("signInPasswordEmptyError",eD);return i((0,u.jsx)(e,{})),!1}return void 0===r},node:(0,u.jsx)(ew,{showFeedbackPlaceholder:!0,feedback:o,status:r,children:(0,u.jsx)(eM,{size:"l",variant:"bordered",type:"password",passwordVisible:!0,onChange:e=>{let t=e.currentTarget.value;a(t),t.length&&(s(void 0),i(void 0))},onBlur:e=>{e.target.value||(s(void 0),i(void 0))},icon:(0,u.jsx)(ej.J,{size:"1em",children:(0,u.jsx)(ex,{})}),placeholder:t})})}}({placeholder:s("inputPassword")}),{node:v,onSubmit:x}=e$({acknowledgementRender:(0,U.useCallback)(e=>{let{modelServiceAgreementNode:t,privacyPolicyNode:n}=e;return s("passwordSignInAcknowledgement")(t,n)},[s])}),[S,E]=(0,U.useState)(!1);return(0,u.jsxs)(u.Fragment,{children:[h,m,v,(0,u.jsx)(tC,{loading:S,onClick:async()=>{if([p(),f(),x()].every(e=>e)){let e;E(!0);let a="mobile",r="";g.includes("@")?(a="email",e=(0,e6.dw)({email:g,password:C,mobile:"",areaCode:"",deviceId:await V(),os:"web"},{http:o,baseUrl:i},d)):(r="+86",e=(0,e6.dw)({email:"",password:C,mobile:g,areaCode:"+86",deviceId:await V(),os:"web"},{http:o,baseUrl:i},d)),l.info({name:"signIn",message:"登录",payload:{type:a,areaCode:r}}),e.then(e=>{let{data:{user:o,code:i},context:{logId:d}}=e;switch(i){case e6.a$.LOGIN_ERROR_CODE.OK:let u;if(!o){c.error({node:(0,U.createElement)(eL("signInFailed",eD)),description:s("signInFailed")}),l.error({name:"signInFailed",message:"登录失败，没拿到 user",payload:{code:"".concat(i),type:a,areaCode:r,reason:"noUser",logId:d}});break}t((u=tf.IY.OK,{...o,status:u})),n&&n(),l.info({name:"signInOk",message:"登录成功",payload:{type:a,areaCode:r,userId:"".concat(o.id)}});break;case e6.a$.LOGIN_ERROR_CODE.PASSWORD_OR_USER_NAME_IS_WRONG:c.error({node:(0,U.createElement)(eL("signInPasswordEmailErrorToast",eD)),description:s("signInPasswordEmailErrorToast")}),l.error({name:"signInFailed",message:"登录失败，用户名或密码错误",payload:{code:"".concat(i),type:a,areaCode:r,reason:"invalidPasswordOrAccount",logId:d}});break;case e6.a$.LOGIN_ERROR_CODE.USER_IS_BANNED:c.error({node:(0,U.createElement)(eL("userIsBannedToast",eD)),description:s("userIsBannedToast")}),l.error({name:"signInFailed",message:"登录失败，账户被停用",payload:{code:"".concat(i),type:a,areaCode:r,reason:"banned",logId:d}});break;default:c.error({node:(0,U.createElement)(eL("signInFailed",eD)),description:s("signInFailed")}),l.error({name:"signInFailed",message:"登录失败，未知错误码",payload:{code:"".concat(i),type:a,areaCode:r,reason:"unknownCode",logId:d}})}E(!1)}).catch(e=>{c.error({node:(0,U.createElement)(eL("signInFailed",eD)),description:s("signInFailed")}),l.error({name:"signInFailed",message:"登录失败，其他错误",payload:l.withError(e,{reason:"other"})}),E(!1)})}else l.error({name:"signInClientValidationFailed",message:"登录客户端验证失败",payload:{emailOrMobile:g}})}}),(0,u.jsx)(tE,{onForgotPassword:a,onGoToSignUp:r})]})}function tE(e){let{onForgotPassword:t,onGoToSignUp:n}=e,a=eB();return(0,u.jsxs)("div",{className:"ds-sign-in-form__form-footer",children:[(0,u.jsx)(eQ.z,{type:"primary",variant:"text",size:"s",onClick:t,children:a("forgotPassword")}),(0,u.jsx)(eQ.z,{type:"primary",variant:"text",size:"s",onClick:n,children:a("goToSignUp")})]})}let tb=tv();function t_(e){let{regionCode:t,beAuthenticated:n,onAfterSignInOk:a}=e,r=eB(),s=eD(),{http:o,baseUrl:i,tracker:l,serverApiUserToUser:d,captchaEnabled:c,turnstileEnabled:h}=eP(),p=(0,eJ.pm)(),{node:g,validateForVerificationCode:m,onSubmit:f,value:C}=to({disabled:!1,placeholder:r("inputMobilePhoneNumber"),stringValueHolder:tb}),{node:v,onSubmit:x,value:S}=ts({captchaEnabled:c,turnstileEnabled:h,scenario:"mobileLogin",disabled:!1,target:C,type:"sms",inputVerificationCodePlaceholder:r("inputSmsVerificationCode"),sendVerificationCodePlaceholder:r("sendVerificationCode"),verificationCodeCountDown:(0,U.useCallback)(e=>{let{seconds:t}=e;return r("verificationCodeCountDown")(t)},[r]),validateForVerificationCode:m}),{node:E}=e$({acknowledgementRender:(0,U.useCallback)(e=>{let{modelServiceAgreementNode:t,privacyPolicyNode:n}=e;return r("smsSignInAcknowledgement")(t,n)},[r])}),[b,_]=(0,U.useState)(!1);return(0,u.jsxs)(u.Fragment,{children:[g,v,E,(0,u.jsx)(tC,{loading:b,onClick:async()=>{[f(),x()].every(e=>e)?(_(!0),l.info({name:"signIn",message:"登录",payload:{type:"mobile_sms",areaCode:"+86"}}),(0,e6.OT)({locale:s,region:t||tf.WN,mobileNumber:C,areaCode:"+86",smsVerificationCode:S,deviceId:await V(),os:"web"},{http:o,baseUrl:i},d).then(e=>{let{data:{user:t,code:s},context:{logId:o}}=e,i=(e,t)=>({...t,status:e});function d(e){l.error({name:"signInFailed",message:"验证码登录失败，没拿到 user",payload:{code:"".concat(e),type:"mobile_sms",areaCode:"+86",reason:"noUser",logId:o}})}switch(s){case e6.a$.LOGIN_BY_MOBILE_SMS_ERROR_CODE.OK:if(!t){p.error({node:(0,U.createElement)(eL("signInFailed",eD)),description:r("signInFailed")}),d(s);break}n(i(tf.IY.OK,t)),a&&a(),l.info({name:"signUpBySmsOk",message:"验证码注册成功",payload:{userId:"".concat(t.id)}});break;case e6.a$.LOGIN_BY_MOBILE_SMS_ERROR_CODE.LOGIN_TO_EXISTING_ACCOUNT:if(!t){p.error({node:(0,U.createElement)(eL("signInFailed",eD)),description:r("signInFailed")}),d(s);break}n(i(tf.IY.OK,t)),a&&a(),l.info({name:"signInOk",message:"验证码登录成功",payload:{type:"mobile_sms",areaCode:"+86",userId:"".concat(t.id)}});break;case e6.a$.LOGIN_BY_MOBILE_SMS_ERROR_CODE.ONLY_SUPPORT_REGISTER_FROM_MAINLAND:p.error({node:(0,U.createElement)(eL("registerRegisterFromMainlandToast",eD)),description:r("registerRegisterFromMainlandToast")}),l.error({name:"signInFailed",message:"注册失败，手机验证码登录请求从海外发送",payload:{code:"".concat(s),type:"mobile_sms",areaCode:"+86",reason:"unexpectedRegion",logId:o}});break;case e6.a$.LOGIN_BY_MOBILE_SMS_ERROR_CODE.ACCOUNT_BANNED:p.error({node:(0,U.createElement)(eL("userIsBannedToast",eD)),description:r("userIsBannedToast")}),l.error({name:"signInFailed",message:"手机验证码登录失败，账户被停用",payload:{code:"".concat(s),type:"mobile_sms",areaCode:"+86",reason:"banned",logId:o}});break;case e6.a$.LOGIN_BY_MOBILE_SMS_ERROR_CODE.SMS_EXPIRED:p.error({node:(0,U.createElement)(eL("validateMobileNumberVerificationCodeIncorrectOrExpireToast",eD)),description:r("validateMobileNumberVerificationCodeIncorrectOrExpireToast")}),l.error({name:"signInFailed",message:"手机验证码登录失败验证码过期",payload:{code:"".concat(s),type:"mobile_sms",areaCode:"+86",reason:"expiredMobilePasscode",logId:o}});break;case e6.a$.LOGIN_BY_MOBILE_SMS_ERROR_CODE.SMS_VERIFY_FAILED:p.error({node:(0,U.createElement)(eL("validateMobileNumberVerificationCodeIncorrectToast",eD)),description:r("validateMobileNumberVerificationCodeIncorrectToast")}),l.error({name:"signInFailed",message:"手机验证码登录失败验证码错误",payload:{code:"".concat(s),type:"mobile_sms",areaCode:"+86",reason:"incorrectMobilePasscode",logId:o}});break;case e6.a$.LOGIN_BY_MOBILE_SMS_ERROR_CODE.INTERNAL_SERVER_ERROR:case e6.a$.LOGIN_BY_MOBILE_SMS_ERROR_CODE.SSO_SERVER_ERROR:default:p.error({node:(0,U.createElement)(eL("signInFailed",eD)),description:r("signInFailed")}),l.error({name:"signInFailed",message:"登录失败，未知错误码",payload:{code:"".concat(s),type:"mobile_sms",areaCode:"+86",reason:"unknownCode",logId:o}})}_(!1)}).catch(e=>{p.error({node:(0,U.createElement)(eL("signInFailed",eD)),description:r("signInFailed")}),l.error({name:"signInFailed",message:"登录失败，其他错误",payload:l.withError(e,{reason:"other"})}),_(!1)})):l.error({name:"signInWithSmsCodeClientValidationFailed",message:"验证码登录客户端验证失败",payload:{mobile:C,verificationCode:S}})}}),(0,u.jsx)("div",{style:{height:33}})]})}n(19650);let ty="wxLogin";function tw(e){let{defaultLocationOrigin:t}=e,n=eB(),[s,o]=(0,U.useState)(!0),i=window.location.origin.startsWith("http://localhost")?t:window.location.origin,{baseUrl:l}=eP();return!function(){let[e]=(0,K.lr)(),{tracker:t}=eP(),n=eB(),a=(0,eJ.pm)();(0,U.useEffect)(()=>{if("WECHAT"!==e.get("provider"))return;let r=e.get("error"),s=e.get("code");if(s&&"0"!==s)switch(Number(s)){case e6.a$.OAUTH_CALLBACK_ERROR_MESSAGE_CODE.SWAP_CODE_NETWORK_ERROR:a.error({node:(0,U.createElement)(eL("signInWithWechatNetworkFailedToast",eD)),description:n("signInWithWechatNetworkFailedToast")}),t.error({name:"signInWithWechatFailed",message:"Wechat 登录失败",payload:{reason:"networkFailed",code:String(s),error:r}});break;case e6.a$.OAUTH_CALLBACK_ERROR_MESSAGE_CODE.GET_PROFILE_FAILED:a.error({node:(0,U.createElement)(eL("signInWithWechatGetProfileFailedToast",eD)),description:n("signInWithWechatGetProfileFailedToast")}),t.error({name:"signInWithWechatFailed",message:"Wechat 登录失败",payload:{reason:"getProfileFailed",code:String(s),error:r}});break;case e6.a$.OAUTH_CALLBACK_ERROR_MESSAGE_CODE.SWAP_CODE_INVALID:a.error({node:(0,U.createElement)(eL("signInWithWechatSwapCodeFailedToast",eD)),description:n("signInWithWechatSwapCodeFailedToast")}),t.error({name:"signInWithWechatFailed",message:"Wechat 登录失败",payload:{reason:"swapCodeFailed",code:String(s),error:r}});break;case e6.a$.OAUTH_CALLBACK_ERROR_MESSAGE_CODE.UNEXCEPTED_ERROR:a.error({node:(0,U.createElement)(eL("signInWithWechatFailedToast",eD)),description:n("signInWithWechatFailedToast")}),t.error({name:"signInWithWechatFailed",message:"Wechat 登录失败",payload:{reason:"unexpectedFailed",code:String(s),error:r}});break;default:a.error({node:(0,U.createElement)(eL("signInWithWechatFailedToast",eD)),description:n("signInWithWechatFailedToast")}),t.error({name:"signInWithWechatFailed",message:"Wechat 登录失败",payload:{reason:"unknownCode",code:String(s),error:r}})}},[e,n,a,t])}(),(0,U.useEffect)(()=>{new Promise((e,t)=>{if(!O)throw Error("[@deepseek/wechat-login]: 未设置 appId");if(!a)throw Error("[@deepseek/wechat-login]: 未设置 tracker");if(document.querySelector("script[data-wxlogin]"))return e();let n=document.createElement("script");n.dataset.wxlogin="true",n.src="https://res.wx.qq.com/connect/zh_CN/htmledition/js/wxLogin.js",n.defer=!0,a.info({name:"__wxLoginScriptSetup",message:"微信登录 script 设置",payload:{}}),document.head.appendChild(n),n.onload=()=>(a.info({name:"__wxLoginScriptLoadOk",message:"微信登录 script 加载成功",payload:{}}),e()),n.onerror=e=>(a.error({name:"__wxLoginScriptLoadFailed",message:"微信登录 script 加载失败",payload:a.withError(e,{reason:"other"})}),t()),document.body.appendChild(n)}).then(()=>{o(!1),function(e){let{redirectUri:t,containerId:n}=e;r.info("开始渲染 微信登录组件 "+t);try{new window.WxLogin({self_redirect:!1,id:n,appid:O,scope:"snsapi_login",redirect_uri:t,stylelite:1,state:P?"beta":"",fast_login:0}),a.info({name:"__wxLoginWidgetRenderOk",message:"微信登录组件 渲染成功",payload:{}})}catch(e){throw a.error({name:"__wxLoginWidgetRenderFailed",message:"微信登录组件 渲染失败",payload:a.withError(e,{reason:"other"})}),e}}({redirectUri:encodeURIComponent("".concat(i).concat(l,"/oauth/wechat/callback")),containerId:ty})}).catch(()=>{o(!0)})},[i,l]),(0,u.jsxs)("div",{className:"ds-sign-in-with-wechat-block",children:[s&&(0,u.jsx)("div",{className:"ds-sign-in-with-wechat-block__wrapper",children:(0,u.jsx)(ta.O,{style:{width:170,height:170,margin:16}})}),(0,u.jsx)("div",{id:ty,className:"ds-sign-in-with-wechat-block__wrapper"}),(0,u.jsxs)("div",{className:"ds-sign-in-with-wechat-block__description",children:[(0,u.jsx)(ej.J,{className:"ds-sign-in-with-wechat-block__logo",width:30,children:(0,u.jsx)(eS,{})}),(0,u.jsx)("span",{children:n("signInWithWechatQRcodeDialogDescription")})]})]})}function tI(e){let{beAuthenticated:t,onAfterSignInOk:n,onForgotPassword:a,onGoToSignUp:r,onGoogleSignIn:s,headerLogoNode:o,forceShowGoogleSignIn:i,defaultLocationOrigin:l,defaultLoginMethod:d="code",regionCode:c,onLoginMethodChange:h,blockSmsLogin:p}=e,g=eB(),{isMainlandChina:m,isBeta:f}=eP(),C=m&&!p,[v,x]=(0,U.useState)(C?d:"password"),S=i||!m&&!f;return(0,U.useEffect)(()=>{H()},[]),(0,u.jsxs)("div",{className:"ds-auth-form-wrapper",children:[(0,u.jsx)("div",{className:"ds-sign-up-form__icon",children:o}),(0,u.jsxs)("div",{className:"ds-sign-up-form__main",children:[(0,u.jsxs)("div",{className:"ds-sign-up-form__main-hero",children:[C&&(0,u.jsx)(tc,{gap:30,className:"ds-sign-up-form__tabs",tabs:[{key:"code",title:g("signInFormTabBySmsOption")},{key:"password",title:g("signInFormTabByPasswordOption")}],value:v,onChange:e=>{x(e),null==h||h(e)}}),(0,u.jsx)("div",{className:"ds-sign-up-form__tips",children:g(m?"mainlandLoginWaysTip":"overseaLoginWaysTip")}),C&&"code"===v&&(0,u.jsx)(t_,{regionCode:c,beAuthenticated:t,onAfterSignInOk:n}),"password"!==v&&C?null:(0,u.jsx)(tS,{beAuthenticated:t,onAfterSignInOk:n,onForgotPassword:a,onGoToSignUp:r}),S&&(0,u.jsx)(th,{showLine:!0,style:{margin:"16px 0"},children:g("signInDividerOr")}),S&&(0,u.jsx)(tg,{onGoogleSignIn:s})]}),m?(0,u.jsx)("div",{className:"ds-sign-up-form__main-wechat",children:(0,u.jsx)(tw,{defaultLocationOrigin:l})}):null]})]})}var tT=n(34979);function tk(e){let{onClick:t,loading:n,disabled:a,children:r}=e;return(0,u.jsx)(eQ.z,{variant:"filled",type:"primary",block:!0,size:"l",className:"ds-sign-up-form__register-button",onClick:t,disabled:a,loading:n,children:r})}function tM(e){let{onGoToSignIn:t}=e,n=eB();return(0,u.jsx)("div",{className:"ds-sign-up-form__form-footer",children:(0,u.jsx)(eQ.z,{type:"primary",variant:"text",size:"s",onClick:t,children:n("goToSignIn")})})}let tj=tv();function tR(e){let{regionCode:t,onGoToSignIn:n,beAuthenticated:a,onAfterSignUpOk:r}=e,s=eB(),o=(0,eJ.pm)(),{http:i,baseUrl:l,locale:d,serverApiUserToUser:c,tracker:h,turnstileEnabled:p,captchaEnabled:g}=eP(),{node:m,onSubmit:f,value:C,validateForVerificationCode:v}=function(e){var t;let{placeholder:n,inputProps:a,stringValueHolder:r}=e,[s,o]=(0,U.useState)(null!==(t=null==r?void 0:r.get)&&void 0!==t?t:""),[i,l]=(0,U.useState)(void 0),[d,c]=(0,U.useState)(void 0);return{validateForVerificationCode:function(){if(0===s.length){l("error");let e=eL("registerEmailEmptyError",eD);return c((0,u.jsx)(e,{})),!1}if(!eW(s)){l("error");let e=eL("registerEmailInputInvalidError",eD);return c((0,u.jsx)(e,{})),!1}return!0},value:s,onSubmit:()=>{if(0===s.length){l("error");let e=eL("registerEmailEmptyError",eD);return c((0,u.jsx)(e,{})),!1}return void 0===i},status:i,node:(0,u.jsx)(ew,{showFeedbackPlaceholder:!0,feedback:d,status:i,children:(0,u.jsx)(eM,{size:"l",value:s,variant:"bordered",onChange:e=>{let t=e.currentTarget.value;o(t),null==r||r.set(t),eW(t)&&(l(void 0),c(void 0))},onBlur:e=>{let t=e.target.value;if(!t||eW(t))l(void 0),c(void 0);else{l("error");let e=eL("registerEmailInputInvalidError",eD);c((0,u.jsx)(e,{}))}},icon:(0,u.jsx)(ej.J,{size:"1em",children:(0,u.jsx)(eC,{})}),placeholder:n,...a})})}}({placeholder:s("inputEmail"),stringValueHolder:tj}),{node:x,onSubmit:S,value:E}=ti({disabled:!1,passwordPlaceholder:s("inputPassword"),confirmPasswordPlaceholder:s("inputPasswordAgain")}),{node:b,onSubmit:_,value:y}=ts({turnstileEnabled:p,captchaEnabled:g,scenario:"signUp",type:"email",target:C,disabled:!1,inputVerificationCodePlaceholder:s("inputEmailVerificationCode"),sendVerificationCodePlaceholder:s("sendVerificationCode"),verificationCodeCountDown:(0,U.useCallback)(e=>{let{seconds:t}=e;return s("verificationCodeCountDown")(t)},[s]),validateForVerificationCode:v}),{node:w,onSubmit:I}=e$({acknowledgementRender:(0,U.useCallback)(e=>{let{modelServiceAgreementNode:t,privacyPolicyNode:n}=e;return s("signUpAcknowledgement")(t,n)},[s])}),[T,k]=(0,U.useState)(!1);return(0,u.jsx)("div",{className:"ds-sign-up-form__main",children:(0,u.jsxs)("div",{className:"ds-sign-up-form__main-hero",children:[(0,u.jsxs)("div",{className:"ds-sign-up-form__description",children:[s("overseaSignUpWaysTip"),s("registerDescription")]}),m,x,b,w,(0,u.jsx)(tk,{loading:T,disabled:!1,onClick:async()=>{[f(),S(),_(),I()].every(e=>e)?(k(!0),(0,e6.Rh)({locale:d,region:t||tf.WN,payload:{email:C,emailVerificationCode:y,password:E},deviceId:await V()},{http:i,baseUrl:l},c).then(e=>{let{data:{code:t,user:n},context:{logId:i}}=e;if(t===e6.a$.REGISTER_ERROR_CODE.OK)n?(a(n),r(),h.info({name:"signUpOk",message:"注册成功",payload:{userId:"".concat(n.id)}})):(o.error({node:(0,U.createElement)(eL("signUpFailedToast",eD)),description:s("signUpFailedToast")}),h.error({name:"signUpFailed",message:"注册失败，缺少用户",payload:{code:"".concat(t),reason:"noUser",logId:i}}));else switch(t){case e6.a$.REGISTER_ERROR_CODE.EMAIL_EXISTS:o.error({node:(0,U.createElement)(eL("registerEmailExistToast",eD)),description:s("registerEmailExistToast")}),h.error({name:"signUpFailed",message:"注册失败，邮箱存在",payload:{code:"".concat(t),reason:"emailExist",logId:i}});break;case e6.a$.REGISTER_ERROR_CODE.EMAIL_PASSCODE_FAILED:o.error({node:(0,U.createElement)(eL("registerEmailPasscodeFailedToast",eD)),description:s("registerEmailPasscodeFailedToast")}),h.error({name:"signUpFailed",message:"注册失败，错误的邮箱验证码",payload:{code:"".concat(t),reason:"incorrectEmailPasscode",logId:i}});break;case e6.a$.REGISTER_ERROR_CODE.INVALID_PASSWORD:o.error({node:(0,U.createElement)(eL("registerInvalidPasswordToast",eD)),description:s("registerInvalidPasswordToast")}),h.error({name:"signUpFailed",message:"注册失败，密码不合法",payload:{code:"".concat(t),reason:"invalidPassword",logId:i}});break;case e6.a$.REGISTER_ERROR_CODE.REGISTER_FROM_MAINLAND:o.error({node:(0,U.createElement)(eL("registerRegisterFromMainlandToast",eD)),description:s("registerRegisterFromMainlandToast")}),h.error({name:"signUpFailed",message:"注册失败，注册请求从大陆发送",payload:{code:"".concat(t),reason:"unexpectedRegion",logId:i}});break;case e6.a$.REGISTER_ERROR_CODE.EMAIL_EXPIRED:o.error({node:(0,U.createElement)(eL("registerPasswordCodeExpiredToast",eD)),description:s("registerPasswordCodeExpiredToast")}),h.error({name:"signUpFailed",message:"注册失败，邮箱过期",payload:{code:"".concat(t),reason:"emailExpired",logId:i}});break;case e6.a$.REGISTER_ERROR_CODE.EMAIL_DOMAIN_NOT_SUPPORTED:o.error({node:(0,U.createElement)(eL("registerEmailDomainNotSupportedToast",eD)),description:s("registerEmailDomainNotSupportedToast")}),h.error({name:"signUpFailed",message:"注册失败，邮箱域名不支持",payload:{code:"".concat(t),reason:"emailDomainNotSupported",logId:i}});break;default:h.error({name:"signUpFailed",message:"未知错误码",payload:{code:"".concat(t),reason:"unknownCode",logId:i}}),o.error({node:(0,U.createElement)(eL("signUpFailedToast",eD)),description:s("signUpFailedToast")})}k(!1)}).catch(e=>{o.error({node:(0,U.createElement)(eL("signUpFailedToast",eD)),description:s("signUpFailedToast")}),h.error({name:"signUpFailed",message:"其他异常",payload:h.withError(e,{reason:"other",email:C})}),k(!1)})):h.error({name:"signUpClientValidationFailed",message:"注册客户端验证失败",payload:{passcode:y}})},children:s("signUp")}),(0,u.jsx)(tM,{onGoToSignIn:n})]})})}let tA=tv();function tN(e){let{regionCode:t,beAuthenticated:n,onSignUpOk:a,onGoToSignIn:r}=e,[s,o]=(0,U.useState)(!1),i=eB(),l=(0,eJ.pm)(),{locale:d,http:c,baseUrl:h,tracker:p,captchaEnabled:g,turnstileEnabled:m,serverApiUserToUser:f}=eP(),{node:C,onSubmit:v,value:x,validateForVerificationCode:S}=to({disabled:!1,placeholder:i("inputMobilePhoneNumber"),stringValueHolder:tA}),{node:E,onSubmit:b,value:_}=ti({disabled:!1,passwordPlaceholder:i("inputPassword"),confirmPasswordPlaceholder:i("inputPasswordAgain")}),{node:y,onSubmit:w,value:I}=ts({captchaEnabled:g,turnstileEnabled:m,type:"sms",disabled:!1,target:x,scenario:"signUp",inputVerificationCodePlaceholder:i("inputSmsVerificationCode"),sendVerificationCodePlaceholder:i("sendVerificationCode"),verificationCodeCountDown:(0,U.useCallback)(e=>{let{seconds:t}=e;return i("verificationCodeCountDown")(t)},[i]),validateForVerificationCode:S}),{node:T,onSubmit:k}=e$({acknowledgementRender:(0,U.useCallback)(e=>{let{modelServiceAgreementNode:t,privacyPolicyNode:n}=e;return i("signUpAcknowledgement")(t,n)},[i])});return(0,u.jsx)("div",{className:"ds-sign-up-form__main",children:(0,u.jsxs)("div",{className:"ds-sign-up-form__main-hero",children:[(0,u.jsxs)("div",{className:"ds-sign-up-form__description",children:[i("mainlandSignUpWaysTip"),i("registerDescription")]}),C,E,y,T,(0,u.jsx)(tk,{loading:s,disabled:!1,onClick:async()=>{[v(),b(),w(),k()].every(e=>e)?(o(!0),(0,e6.g2)({locale:d,region:t||tf.WN,payload:{mobile:x,smsVerificationCode:I,auditJsonString:JSON.stringify({reasons:[]}),password:_},deviceId:await V()},{http:c,baseUrl:h},f).then(e=>{let{data:{code:t,user:r},context:{logId:s}}=e;if(t===e6.a$.REGISTER_BY_MOBILE_ERROR_CODE.OK)r?(n(r),a(),p.info({name:"signUpByMobileOk",message:"注册成功",payload:{userId:"".concat(r.id)}})):(l.error({node:(0,U.createElement)(eL("signUpFailedToast",eD)),description:i("signUpFailedToast")}),p.error({name:"signUpByMobileFailed",message:"注册失败，缺少用户",payload:{code:"".concat(t),reason:"noUser",logId:s}}));else switch(t){case e6.a$.REGISTER_BY_MOBILE_ERROR_CODE.MOBILE_ALREADY_REGISTER:l.error({node:(0,U.createElement)(eL("registerMobileExistToast",eD)),description:i("registerMobileExistToast")}),p.error({name:"signUpByMobileFailed",message:"注册失败，手机号存在",payload:{code:"".concat(t),reason:"mobileExist",logId:s}});break;case e6.a$.REGISTER_BY_MOBILE_ERROR_CODE.PASSWORD_TOO_SHORT_OR_TOO_LONG:l.error({node:(0,U.createElement)(eL("registerInvalidPasswordToast",eD)),description:i("registerInvalidPasswordToast")}),p.error({name:"signUpByMobileFailed",message:"注册失败，密码不合法",payload:{code:"".concat(t),logId:s,reason:"invalidPassword"}});break;case e6.a$.REGISTER_BY_MOBILE_ERROR_CODE.ONLY_SUPPORT_REGISTER_FROM_MAINLAND:l.error({node:(0,U.createElement)(eL("registerRegisterFromMainlandToast",eD)),description:i("registerRegisterFromMainlandToast")}),p.error({name:"signUpByMobileFailed",message:"注册失败，手机注册请求从海外发送",payload:{code:"".concat(t),reason:"unexpectedRegion",logId:s}});break;case e6.a$.REGISTER_BY_MOBILE_ERROR_CODE.SMS_EXPIRED:l.error({node:(0,U.createElement)(eL("validateMobileNumberVerificationCodeIncorrectOrExpireToast",eD)),description:i("validateMobileNumberVerificationCodeIncorrectOrExpireToast")}),p.error({name:"signUpByMobileFailed",message:"注册失败，验证码过期",payload:{code:"".concat(t),reason:"expiredMobilePasscode",logId:s}});break;case e6.a$.REGISTER_BY_MOBILE_ERROR_CODE.SMS_VERIFY_FAILED:l.error({node:(0,U.createElement)(eL("validateMobileNumberVerificationCodeIncorrectToast",eD)),description:i("validateMobileNumberVerificationCodeIncorrectToast")}),p.error({name:"signUpByMobileFailed",message:"注册失败，验证码错误",payload:{code:"".concat(t),reason:"incorrectMobilePasscode",logId:s}});break;default:p.error({name:"signUpByMobileFailed",message:"未知错误码",payload:{code:"".concat(t),reason:"unknownCode",logId:s}}),l.error({node:(0,U.createElement)(eL("signUpFailedToast",eD)),description:i("signUpFailedToast")})}o(!1)}).catch(e=>{l.error({node:(0,U.createElement)(eL("signUpFailedToast",eD)),description:i("signUpFailedToast")}),p.error({name:"signUpByMobileFailed",message:"其他错误",payload:p.withError(e,{reason:"other",mobile:x})}),o(!1)})):p.error({name:"signUpByMobileClientValidationFailed",message:"注册客户端验证失败",payload:{passcode:I}})},children:i("signUp")}),(0,u.jsx)(tM,{onGoToSignIn:r})]})})}function tL(e){let{icon:t,isIpLoading:n,regionCode:a,beAuthenticated:r,onGoToSignIn:s,onSignUpOk:o}=e,{isMainlandChina:i}=eP();return(0,U.useEffect)(()=>{H()},[]),(0,u.jsxs)("div",{className:"ds-auth-form-wrapper",children:[t,n?(0,u.jsx)("div",{className:"ds-auth-form-loading-wrapper",children:(0,u.jsx)(tT.g,{})}):i?(0,u.jsx)(tN,{regionCode:a,beAuthenticated:r,onSignUpOk:o,onGoToSignIn:s}):(0,u.jsx)(tR,{regionCode:a,onGoToSignIn:s,beAuthenticated:r,onAfterSignUpOk:o})]})}n(70133);var tF=n(42154);let tO=tv();function tP(e){let{onNextStep:t}=e,n=eB(),{http:a,baseUrl:r,tracker:s,captchaEnabled:o,turnstileEnabled:i}=eP(),l=(0,eJ.pm)(),{node:d,validateAndGetTypeForVerificationCode:c,validateForVerificationCode:h,onSubmit:p,value:g}=eG({placeholder:n("forgotPasswordInputPlaceholder"),stringValueHolder:tO}),{node:m,onSubmit:f,value:C}=ts({captchaEnabled:o,turnstileEnabled:i,scenario:"forgetPassword",disabled:!1,target:g,type:"smsOrEmail",inputVerificationCodePlaceholder:n("inputSmsVerificationCode"),sendVerificationCodePlaceholder:n("sendVerificationCode"),verificationCodeCountDown:(0,U.useCallback)(e=>{let{seconds:t}=e;return n("verificationCodeCountDown")(t)},[n]),validateForVerificationCode:h,validateAndGetTypeForVerificationCode:c}),[v,x]=(0,U.useState)(!1);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"ds-forgot-password-form__description",children:n("forgotPasswordGeneralDescription")}),d,m,(0,u.jsx)(tD,{loading:v,onClick:()=>{[p(),f()].every(e=>e)&&(x(!0),"sms"===c(g)?(s.info({name:"checkSmsCodeApi",message:"检查短信验证码",payload:{code:C}}),(0,e6.iD)({areaCode:"+86",mobilePhoneNumber:g,smsVerificationCode:C},{baseUrl:r,http:a}).then(e=>{let{data:{code:a},context:{logId:r}}=e,o=e=>l.error({node:(0,U.createElement)(eL(e,eD)),description:String(n(e))});switch(x(!1),a){case e6.a$.CHECK_SMS_CODE_ERROR_CODE.OK:s.info({name:"checkSmsCodeOk",message:"检查短信验证码成功",payload:{code:C}}),t({code:C,email:"",mobile:g});return;case e6.a$.CHECK_SMS_CODE_ERROR_CODE.SMS_EXPIRED:o("forgotPasswordCodeExpiredToast"),s.error({name:"checkSmsCodeFailed",message:"检查短信验证码失败，验证码过期",payload:{scene:"forgetPassword",reason:"smsExpired",code:"".concat(a),logId:r}});return;case e6.a$.CHECK_SMS_CODE_ERROR_CODE.MOBILE_NOT_EXIST:o("forgotPasswordFailedMobileNotExistToast1"),s.error({name:"checkSmsCodeFailed",message:"检查短信验证码失败，手机号未注册",payload:{scene:"forgetPassword",reason:"notExist",code:"".concat(a),logId:r}});return;case e6.a$.CHECK_SMS_CODE_ERROR_CODE.SMS_VERIFY_FAILED:o("forgotPasswordCodeInvalidToast"),s.error({name:"checkSmsCodeFailed",message:"检查短信验证码失败，验证码有误",payload:{scene:"forgetPassword",reason:"smsVerifyFailed",code:"".concat(a),logId:r}});return;case e6.a$.CHECK_SMS_CODE_ERROR_CODE.ACCOUNT_BANNED:o("userIsBannedToast"),s.error({name:"checkSmsCodeFailed",message:"检查短信验证码失败，账户封禁",payload:{scene:"forgetPassword",reason:"accountBanned",code:"".concat(a),logId:r}});return;default:(0,tF.vv)(a),l.error({node:(0,U.createElement)(eL("forgotPasswordCheckCodeFailedToast",eD)),description:n("forgotPasswordCheckCodeFailedToast")}),s.error({name:"checkSmsCodeFailed",message:"检查短信验证码失败，未知错误码",payload:{scene:"forgetPassword",reason:"unknownCode",code:"".concat(a),logId:r}});return}}).catch(e=>{x(!1),l.error({node:(0,U.createElement)(eL("forgotPasswordCheckCodeFailedToast",eD)),description:n("forgotPasswordCheckCodeFailedToast")}),s.error({name:"checkSmsCodeFailed",message:"检查短信验证码失败，其他错误",payload:s.withError(e,{scene:"forgetPassword",reason:"other"})})})):(s.info({name:"checkEmailCodeApi",message:"检查短信验证码",payload:{code:C}}),(0,e6._4)({emailVerificationCode:C,email:g},{http:a,baseUrl:r}).then(e=>{let{data:{code:a},context:{logId:r}}=e,o=e=>l.error({node:(0,U.createElement)(eL(e,eD)),description:String(n(e))});switch(x(!1),a){case e6.a$.CHECK_EMAIL_CODE_ERROR_CODE.OK:s.info({name:"checkEmailCodeOk",message:"检查邮箱验证码成功",payload:{code:C}}),t({code:C,email:g,mobile:""});return;case e6.a$.CHECK_EMAIL_CODE_ERROR_CODE.EMAIL_EXPIRED:o("forgotPasswordCodeExpiredToast"),s.error({name:"checkEmailCodeFailed",message:"检查邮箱验证码失败，邮件过期",payload:{scene:"forgetPassword",reason:"emailExpired",code:"".concat(a),logId:r}});return;case e6.a$.CHECK_EMAIL_CODE_ERROR_CODE.EMAIL_NOT_EXIST:o("forgotPasswordFailedEmailNotExistToast1"),s.error({name:"checkEmailCodeFailed",message:"检查邮箱验证码失败，邮箱没有被注册",payload:{scene:"forgetPassword",reason:"notExist",code:"".concat(a),logId:r}});return;case e6.a$.CHECK_EMAIL_CODE_ERROR_CODE.EMAIL_VERIFY_FAILED:o("forgotPasswordCodeInvalidToast"),s.error({name:"checkEmailCodeFailed",message:"检查邮箱验证码失败，验证码有误",payload:{scene:"forgetPassword",reason:"emailVerifyFailed",code:"".concat(a),logId:r}});return;case e6.a$.CHECK_EMAIL_CODE_ERROR_CODE.ACCOUNT_BANNED:o("userIsBannedToast"),s.error({name:"checkEmailCodeFailed",message:"检查邮箱验证码失败，账号封禁",payload:{scene:"forgetPassword",reason:"accountBanned",code:"".concat(a),logId:r}});return;default:(0,tF.vv)(a),l.error({node:(0,U.createElement)(eL("forgotPasswordCheckCodeFailedToast",eD)),description:n("forgotPasswordCheckCodeFailedToast")}),s.error({name:"checkEmailCodeFailed",message:"检查邮箱验证码失败，未知错误码",payload:{scene:"forgetPassword",reason:"unknownCode",code:"".concat(a),logId:r}});return}}).catch(e=>{x(!1),l.error({node:(0,U.createElement)(eL("forgotPasswordCheckCodeFailedToast",eD)),description:n("forgotPasswordCheckCodeFailedToast")}),s.error({name:"checkEmailCodeFailed",message:"检查邮箱验证码失败，其他错误",payload:s.withError(e,{scene:"forgetPassword",reason:"other"})})})))}})]})}function tD(e){let{onClick:t,loading:n}=e,a=eB();return(0,u.jsx)(eQ.z,{variant:"filled",type:"primary",block:!0,size:"l",className:"ds-sign-up-form__register-button",onClick:t,loading:n,children:a("forgotPasswordNextStepButton")})}function tB(e){let{code:t,mobile:n,email:a,delayedNavigate:r}=e,[s,o]=(0,U.useState)(!1),i=eB(),l=(0,eJ.pm)(),{http:d,baseUrl:c,tracker:h}=eP(),{node:p,onSubmit:g,value:m}=ti({disabled:s,passwordPlaceholder:i("forgotPasswordPasswordInputPlaceholder"),confirmPasswordPlaceholder:i("forgotPasswordConfirmPasswordInputPlaceholder")});return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"ds-forgot-password-form__description",children:i("forgotPasswordNewPasswordDescription")(n||a)}),p,(0,u.jsx)(tH,{loading:s,onClick:()=>{g()&&(o(!0),n?(h.info({name:"resetPasswordMobile",message:"手机重置密码",payload:{}}),(0,e6.wh)({mobile:n,smsVerificationCode:t,areaCode:"+86",password:m},{http:d,baseUrl:c}).then(e=>{let{data:{code:t},context:{logId:n}}=e;switch(o(t===e6.a$.MobileResetPasswordServerErrorCode.OK),t){case e6.a$.MobileResetPasswordServerErrorCode.OK:h.info({name:"resetPasswordMobileOk",message:"手机重置密码成功",payload:{}}),l.success({node:(0,U.createElement)(eL("forgotPasswordOkToast",eD)),description:i("forgotPasswordOkToast")}),r();return;case e6.a$.MobileResetPasswordServerErrorCode.MOBILE_NOT_EXIST:h.error({name:"resetPasswordMobileFailed",message:"手机重置密失败，手机号不存在",payload:{logId:n,reason:"mobileNotExist"}}),l.error({node:(0,U.createElement)(eL("forgotPasswordFailedMobileNotExistToast2",eD)),description:i("forgotPasswordFailedMobileNotExistToast2")});return;case e6.a$.MobileResetPasswordServerErrorCode.SMS_EXPIRED:h.error({name:"resetPasswordMobileFailed",message:"手机重置密失败，验证码过期",payload:{logId:n,reason:"smsExpired"}}),l.error({node:(0,U.createElement)(eL("forgotPasswordFailedCodeExpiredToast",eD)),description:i("forgotPasswordFailedCodeExpiredToast")});return;case e6.a$.MobileResetPasswordServerErrorCode.SMS_VERIFY_FAILED:h.error({name:"resetPasswordMobileFailed",message:"手机重置密失败，验证码错误",payload:{logId:n,reason:"smsVerifyFailed"}}),l.error({node:(0,U.createElement)(eL("forgotPasswordFailedCodeVerifyFailedToast",eD)),description:i("forgotPasswordFailedCodeVerifyFailedToast")});return;case e6.a$.MobileResetPasswordServerErrorCode.INVALID_PASSWORD:h.error({name:"resetPasswordMobileFailed",message:"手机重置密失败，密码不合法",payload:{logId:n,reason:"invalidPassword"}}),l.error({node:(0,U.createElement)(eL("forgotPasswordInvalidPasswordToast",eD)),description:i("forgotPasswordInvalidPasswordToast")});return;case e6.a$.MobileResetPasswordServerErrorCode.ACCOUNT_BANNED:h.error({name:"resetPasswordMobileFailed",message:"手机重置密失败，账号已封禁",payload:{logId:n,reason:"accountBanned"}}),l.error({node:(0,U.createElement)(eL("userIsBannedToast",eD)),description:i("userIsBannedToast")});return;default:(0,tF.vv)(t),h.error({name:"resetPasswordMobileFailed",message:"手机重置密失败，未知错误码",payload:{logId:n,reason:"unknownCode"}}),l.error({node:(0,U.createElement)(eL("forgotPasswordFailedToast",eD)),description:i("forgotPasswordFailedToast")});return}}).catch(e=>{o(!1),l.error({node:(0,U.createElement)(eL("forgotPasswordFailedToast",eD)),description:i("forgotPasswordFailedToast")}),h.error({name:"resetPasswordMobileFailed",message:"手机重置密失败，其他错误",payload:h.withError(e,{mobile:n,reason:"other"})})})):(h.info({name:"resetPasswordEmail",message:"邮箱重置密码",payload:{}}),(0,e6.VB)({email:a,emailVerificationCode:t,password:m},{http:d,baseUrl:c}).then(e=>{let{data:{code:t},context:{logId:n}}=e;o(t===e6.a$.EMAIL_RESET_PASSWORD_ERROR_CODE.OK);let a=e=>l.error({node:(0,U.createElement)(eL(e,eD)),description:String(i(e))});switch(t){case e6.a$.EMAIL_RESET_PASSWORD_ERROR_CODE.OK:h.info({name:"resetPasswordEmailOk",message:"邮箱重置密码成功",payload:{}}),l.success({node:(0,U.createElement)(eL("forgotPasswordOkToast",eD)),description:i("forgotPasswordOkToast")}),r();return;case e6.a$.EMAIL_RESET_PASSWORD_ERROR_CODE.EMAIL_NOT_EXIST:h.error({name:"resetPasswordEmailFailed",message:"邮箱重置密码失败，邮箱地址不存在",payload:{reason:"emailNotExist",logId:n}}),a("forgotPasswordFailedEmailNotExistToast2");return;case e6.a$.EMAIL_RESET_PASSWORD_ERROR_CODE.EMAIL_EXPIRED:h.error({name:"resetPasswordEmailFailed",message:"邮箱重置密码失败，验证码过期",payload:{reason:"emailExpired",logId:n}}),a("forgotPasswordFailedCodeExpiredToast");return;case e6.a$.EMAIL_RESET_PASSWORD_ERROR_CODE.EMAIL_VERIFY_FAILED:h.error({name:"resetPasswordEmailFailed",message:"邮箱重置密码失败，验证码错误",payload:{reason:"emailVerifyFailed",logId:n}}),a("forgotPasswordFailedCodeVerifyFailedToast");return;case e6.a$.EMAIL_RESET_PASSWORD_ERROR_CODE.INVALID_PASSWORD:h.error({name:"resetPasswordEmailFailed",message:"邮箱重置密码失败，密码不合法",payload:{reason:"invalidPassword",logId:n}}),a("forgotPasswordInvalidPasswordToast");return;case e6.a$.EMAIL_RESET_PASSWORD_ERROR_CODE.ACCOUNT_BANNED:h.error({name:"resetPasswordEmailFailed",message:"邮箱重置密码失败，账号已封禁",payload:{reason:"accountBanned",logId:n}}),a("forgotPasswordFailedCodeVerifyFailedToast");return;default:(0,tF.vv)(t),h.error({name:"resetPasswordEmailFailed",message:"邮箱重置密码失败，未知错误码",payload:{reason:"unknownCode",logId:n}}),l.error({node:(0,U.createElement)(eL("forgotPasswordFailedToast",eD)),description:i("forgotPasswordFailedToast")});return}}).catch(e=>{o(!1),l.error({node:(0,U.createElement)(eL("forgotPasswordFailedToast",eD)),description:i("forgotPasswordFailedToast")}),h.error({name:"resetPasswordEmailFailed",message:"邮箱重置密码失败，未知错误码",payload:h.withError(e,{reason:"other",email:a})})})))}})]})}function tH(e){let{onClick:t,loading:n}=e,a=eB();return(0,u.jsx)(eQ.z,{variant:"filled",type:"primary",block:!0,size:"l",className:"ds-sign-up-form__register-button",onClick:t,loading:n,children:a("forgotPasswordButton")})}function tV(e){let{headerLogoNode:t,forgotPasswordBackToSignIn:n,delayedNavigate:a}=e,r=eB(),[s,o]=(0,U.useState)(""),[i,l]=(0,U.useState)(0),[d,c]=(0,U.useState)(""),[h,p]=(0,U.useState)("");return(0,u.jsxs)("div",{className:"ds-auth-form-wrapper",children:[(0,u.jsx)("div",{className:"ds-forgot-password-form__icon",children:t}),(0,u.jsx)("div",{className:"ds-sign-up-form__main",children:(0,u.jsxs)("div",{className:"ds-sign-up-form__main-hero",children:[(0,u.jsx)("div",{className:"ds-forgot-password-form__title",children:r("forgotPasswordTitle")}),0===i?(0,u.jsx)(tP,{onNextStep:e=>{let{code:t,email:n,mobile:a}=e;o(t),p(a),c(n),l(1)}}):(0,u.jsx)(tB,{email:d,mobile:h,code:s,delayedNavigate:a}),(0,u.jsx)("div",{className:"ds-forgot-password-form__form-footer",children:0===i?(0,u.jsx)(eQ.z,{type:"primary",variant:"text",size:"s",onClick:n,children:r("forgotPasswordBackToSignIn")},0):(0,u.jsx)(eQ.z,{type:"primary",variant:"text",size:"s",onClick:()=>l(0),children:r("forgotPasswordGetBack")},1)})]})})]})}var tU=n(78368);function tW(e){let{size:t,variant:n,email:a,afterDeleteAccountOk:r,buttonComp:s=eQ.z}=e,{http:o,baseUrl:i,tracker:l}=eP(),d=eB(),c=(0,eJ.pm)(),[h,p]=(0,U.useState)(!1),[g,m]=(0,U.useState)(!1),[f,C]=(0,U.useState)(""),v=d("deleteAccountModalConfirmText"),x=f.trim()!==v;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(s,{size:t,type:"error",variant:n,onClick:()=>{p(!0)},children:d("deleteAccountSettingDialogButton")}),(0,u.jsx)(eo,{appear:!1,show:h,onShowChange:p,onAfterClose:()=>{C("")},children:(0,u.jsxs)(el,{variant:"dialog",title:d("deleteAccountModalTitle"),onClose:()=>{p(!1)},closeButtonNode:(0,u.jsx)(u.Fragment,{children:" "}),footer:(0,u.jsxs)(ed,{children:[(0,u.jsx)(s,{variant:"filled",size:"m",onClick:()=>{p(!1)},type:"secondary",domProps:{"data-autofocus":!0},children:d("deleteAccountModalCancel")}),(0,u.jsx)(s,{variant:"filled",size:"m",loading:g,disabled:x,onClick:()=>{m(!0),(0,e6.V6)(void 0,{http:o,baseUrl:i}).then(e=>{"OK"===e?(m(!1),p(!1),c.success({node:(0,U.createElement)(eL("deleteAccountOkToast",eD)),description:d("deleteAccountOkToast")}),r()):(m(!1),c.error({node:(0,U.createElement)(eL("deleteAccountFrequentFailToast",eD)),description:d("deleteAccountFrequentFailToast")}))}).catch(e=>{l.error({name:"deleteAccountFailed",message:"删除账户失败",payload:l.withError(e,{})}),c.error({node:(0,U.createElement)(eL("deleteAccountFailedToast",eD)),description:d("deleteAccountFailedToast")}),m(!1)})},type:"error",children:d("deleteAccountModalConfirm")})]}),children:[(0,u.jsx)(tU.C,{splitParagraph:!0,showMarkdownBold:!0,showEmailLink:!0,children:d("deleteAccountModalContent")(a,v)}),(0,u.jsx)(eM,{variant:"bordered",value:f,placeholder:v,onChange:e=>{C(e.currentTarget.value)}})]})})]})}n(44574);let tG=["GOOGLE","WECHAT"],tz=e=>tG.includes(e);function tZ(e){let{beAuthenticated:t,beUnauthenticated:n,directToHome:a}=e,{setStorageUserToken:r,http:s,baseUrl:o,tracker:i,serverApiUserToUser:l}=eP(),d=eB(),[c]=(0,K.lr)(),h=(0,eJ.pm)();return(0,U.useEffect)(()=>{let e=c.get("nonce"),d=c.get("provider");if(!e||!tz(d)){n({navigateToSignIn:!0,isBanned:!1});return}(0,e6.h_)({nonce:e,provider:d},{http:s,baseUrl:o}).then(e=>{let{data:{token:d}}=e;r(d),(0,e6.I3)(void 0,{http:s,baseUrl:o},l).then(e=>{var n,r;let{data:{user:s}}=e;t(s);let o=c.get("new");(null===(n=s.idProfile)||void 0===n?void 0:n.provider)==="GOOGLE"?"1"===o?i.info({name:"signUpWithGoogleOk",message:"Google 注册成功",payload:{id:String(s.id),profile:JSON.stringify(s.idProfile)||tf.WN}}):i.info({name:"signInWithGoogleOK",message:"Google 登录成功",payload:{id:String(s.id),profile:JSON.stringify(s.idProfile)||tf.WN,newUser:"".concat("1"===o)}}):(null===(r=s.idProfile)||void 0===r?void 0:r.provider)==="WECHAT"&&i.info({name:"signInWithWechatOK",message:"微信登录成功",payload:{id:String(s.id),profile:JSON.stringify(s.idProfile)||tf.WN,newUser:"".concat("1"===o)}}),a()}).catch(e=>{h.error({node:(0,U.createElement)(eL("signInFailed",eD)),description:"signInFailed"}),n({navigateToSignIn:!0,isBanned:!1}),i.error({name:"signInWithGoogleFailed",message:"Google 登录失败",payload:i.withError(e,{scene:"signInWithGoogle",reason:"other",token:d})})})})},[c,d,h,t,n,r,i,a,s,o,l]),(0,u.jsx)("div",{className:"ds-authorized-container__loading",children:(0,u.jsx)(tT.g,{})})}function tq(e){let{unavailableLogo:t,navigateHome:n}=e,a=eB();return(0,u.jsxs)("div",{className:"ds-banned-container__wrapper",children:[(0,u.jsx)("div",{className:"ds-banned-container__logo",children:t}),(0,u.jsx)("div",{className:"ds-banned-container__slogan",children:(0,u.jsx)(tU.C,{showEmailLink:!0,showMarkdownLink:!0,children:a("bannedPageSlogan")})}),(0,u.jsx)(eQ.z,{size:"m",onClick:n,children:a("bannedPageBackToHome")})]})}function tK(e){let{color:t,size:n="inherit",lineHeight:a=n,fontSize:r=n,block:s=!1,monospace:o,children:i,domRef:l,style:d}=e;return(0,u.jsx)("span",{ref:l,style:d,className:(0,Q.Z)("".concat(Z.F,"-text"),s&&"".concat(Z.F,"-text--block"),t&&"".concat(Z.F,"-text--").concat(t),o&&"".concat(Z.F,"-text--monospace"),"inherit"!==r&&"".concat(Z.F,"-text--f").concat(r),"inherit"!==r&&"".concat(Z.F,"-text--l").concat(a)),children:i})}function tY(e){let{contactUsEmail:t}=e,n=eB();return(0,u.jsxs)("div",{className:"ds-auth-footer",children:[(0,u.jsx)(ez.A,{href:n("footerICPLink"),children:(0,u.jsx)(tK,{style:tX,children:n("footerICPTitle")})}),(0,u.jsx)(tK,{style:tX,children:"\xa0\xb7\xa0"}),(0,u.jsx)(ez.A,{href:"mailto:".concat(t),children:(0,u.jsx)(tK,{style:tX,children:n("contactUsButton")})})]})}n(21228),n(59081),n(67685),n(36071);let tX={color:"var(--dsr-text-3, #D4D4D4)"};n(7195),n(96671);let t$=tv();function tQ(e){let{headerLogoNode:t,beAuthenticated:n,beUnauthenticated:a,directToHome:r,onGoToSignIn:s}=e,o=eB(),i=(0,eJ.pm)(),{http:l,tracker:d,baseUrl:c,captchaEnabled:h,turnstileEnabled:p,serverApiUserToUser:g}=eP(),[m,f]=(0,U.useState)(!1),[C]=(0,K.lr)();(0,U.useEffect)(()=>{H()},[]);let{node:v,validateForVerificationCode:x,onSubmit:S,value:E}=to({disabled:!1,placeholder:o("inputMobilePhoneNumber"),stringValueHolder:t$}),{node:b,onSubmit:_,value:y}=ts({captchaEnabled:h,turnstileEnabled:p,scenario:"verifyMobile",disabled:!1,target:E,type:"sms",inputVerificationCodePlaceholder:o("inputSmsVerificationCode"),sendVerificationCodePlaceholder:o("sendVerificationCode"),verificationCodeCountDown:(0,U.useCallback)(e=>{let{seconds:t}=e;return o("verificationCodeCountDown")(t)},[o]),validateForVerificationCode:x});return(0,u.jsxs)("div",{className:"ds-auth-form-wrapper",children:[(0,u.jsx)("div",{className:"ds-mobile-verification-form__icon",children:t}),(0,u.jsx)("div",{className:"ds-sign-up-form__main",children:(0,u.jsxs)("div",{className:"ds-sign-up-form__main-hero",children:[(0,u.jsx)("div",{className:"ds-mobile-verification-form__title",children:o("mobileVerficationFormTitle")}),(0,u.jsx)("div",{className:"ds-mobile-verification-form__description",children:o("mobileVerficationFormDescription")}),v,b,(0,u.jsx)(eQ.z,{variant:"filled",type:"primary",block:!0,size:"l",className:"ds-mobile-verification-form__bind-button",onClick:()=>{if(![S(),_()].every(e=>e))return;let e=C.get("signature");if(!e){i.error({node:(0,U.createElement)(eL("mobileVerficationFormInvalidAddrToast",eD)),description:"mobileVerficationFormInvalidAddr"}),d.error({name:"mobileVerficationWithWechatFailed",message:"访问了无效的URL地址",payload:{reason:"invalidAddress",address:window.location.href}});return}f(!0),(0,e6.ev)({signature:e,mobilePhoneNumber:E,areaCode:"+86",smsVerificationCode:y},{http:l,baseUrl:c},g).then(t=>{let{data:{code:s,user:l,successCode:c}}=t;switch(s){case e6.a$.OAUTH_WECHAT_MOBILE_VERIFICATION_ERROR_CODE.OK:if(l&&c){switch(n(l),c){case e6.a$.OAUTH_WECHAT_MOBILE_VERIFICATION_OK_CODE.REGISTERED_WECHAT_AND_MOBILE:d.info({name:"signInWithWechatOK",message:"微信登录绑定新手机号，成功登录",payload:{id:String(l.id),profile:JSON.stringify(l.idProfile)||tf.WN,newUser:"true"}}),d.info({name:"signUpWithWechatOk",message:"微信登录绑定新手机号，成功注册",payload:{id:String(l.id),profile:JSON.stringify(l.idProfile)||tf.WN}});break;case e6.a$.OAUTH_WECHAT_MOBILE_VERIFICATION_OK_CODE.BOUND_WECHAT_TO_EXISTING_MOBILE:d.info({name:"signInWithWechatOK",message:"微信登录绑定已有手机号，成功登录",payload:{id:String(l.id),profile:JSON.stringify(l.idProfile)||tf.WN,newUser:"false"}})}r()}break;case e6.a$.OAUTH_WECHAT_MOBILE_VERIFICATION_ERROR_CODE.ACCOUNT_ALREADY_EXISTS:i.error({node:(0,U.createElement)(eL("mobileVerficationFormAccountAlreadyExistsErrorToast",eD)),description:o("mobileVerficationFormAccountAlreadyExistsErrorToast")}),d.error({name:"mobileVerficationWithWechatFailed",message:"微信手机号绑定失败，手机号已被绑定",payload:{reason:"accountAlreadyExists",signature:e,mobile:E,smsVerificationCode:y}});break;case e6.a$.OAUTH_WECHAT_MOBILE_VERIFICATION_ERROR_CODE.REGISTRATION_EXPIRED:i.error({node:(0,U.createElement)(eL("mobileVerficationFormRegistrationExpiredErrorToast",eD)),description:o("mobileVerficationFormRegistrationExpiredErrorToast")}),d.error({name:"mobileVerficationWithWechatFailed",message:"微信手机号绑定失败，授权已失效",payload:{reason:"registrationExpired",signature:e,mobile:E,smsVerificationCode:y}}),a({navigateToSignIn:!1,isBanned:!1});break;case e6.a$.OAUTH_WECHAT_MOBILE_VERIFICATION_ERROR_CODE.GET_PROFILE_FAILED:i.error({node:(0,U.createElement)(eL("mobileVerficationFormGetProfileFailedErrorToast",eD)),description:o("mobileVerficationFormGetProfileFailedErrorToast")}),d.error({name:"mobileVerficationWithWechatFailed",message:"微信手机号绑定失败，获取微信账户信息失败",payload:{reason:"getProfileFailed",signature:e,mobile:E,smsVerificationCode:y}}),a({navigateToSignIn:!1,isBanned:!1});break;case e6.a$.OAUTH_WECHAT_MOBILE_VERIFICATION_ERROR_CODE.SMS_VERIFY_FAILED:i.error({node:(0,U.createElement)(eL("mobileVerficationFormSmsVerifyFailedCodeErrorToast",eD)),description:o("mobileVerficationFormSmsVerifyFailedCodeErrorToast")}),d.error({name:"mobileVerficationWithWechatFailed",message:"微信手机号绑定失败，验证码错误",payload:{reason:"smsVerifyFailed",signature:e,mobile:E,smsVerificationCode:y}});break;case e6.a$.OAUTH_WECHAT_MOBILE_VERIFICATION_ERROR_CODE.SMS_EXPIRED:i.error({node:(0,U.createElement)(eL("mobileVerficationFormSmsExpiredCodeErrorToast",eD)),description:o("mobileVerficationFormSmsExpiredCodeErrorToast")}),d.error({name:"mobileVerficationWithWechatFailed",message:"微信手机号绑定失败，验证码失效",payload:{reason:"smsExpired",signature:e,mobile:E,smsVerificationCode:y}});break;case e6.a$.OAUTH_WECHAT_MOBILE_VERIFICATION_ERROR_CODE.MOBILE_PHONE_NUMBER_BANNED:i.error({node:(0,U.createElement)(eL("mobileVerficationFormMobilePhoneNumberBannedErrorToast",eD)),description:o("mobileVerficationFormMobilePhoneNumberBannedErrorToast")}),d.error({name:"mobileVerficationWithWechatFailed",message:"微信手机号绑定失败，该手机号账户已被禁用",payload:{reason:"mobilePhoneNumberBanned",signature:e,mobile:E,smsVerificationCode:y}});break;case e6.a$.OAUTH_WECHAT_MOBILE_VERIFICATION_ERROR_CODE.INTERNAL_SERVER_ERROR:i.error({node:(0,U.createElement)(eL("mobileVerficationFormUnknownErrorToast",eD)),description:o("mobileVerficationFormUnknownErrorToast")}),d.error({name:"mobileVerficationWithWechatFailed",message:"微信手机号绑定失败，未知错误",payload:{reason:"unexpectedFailed",signature:e,mobile:E,smsVerificationCode:y}});break;case e6.a$.OAUTH_WECHAT_MOBILE_VERIFICATION_ERROR_CODE.MOBILE_ACCOUNT_ALREADY_HAS_OAUTH_ACCOUNT:i.error({node:(0,U.createElement)(eL("wechatMobileVerificationMobileBoundToast",eD)),description:o("wechatMobileVerificationMobileBoundToast")}),d.error({name:"mobileVerficationWithWechatFailed",message:"微信手机号绑定失败，手机号已绑定其他微信号",payload:{reason:"mobileAccountAlreadyHasOauthAccount",signature:e,mobile:E,smsVerificationCode:y}});break;case e6.a$.OAUTH_WECHAT_MOBILE_VERIFICATION_ERROR_CODE.OAUTH_ACCOUNT_ALREADY_BOUND_MOBILE:i.error({node:(0,U.createElement)(eL("wechatMobileVerificationWeChatBoundToast",eD)),description:o("wechatMobileVerificationWeChatBoundToast")}),d.error({name:"mobileVerficationWithWechatFailed",message:"微信手机号绑定失败，微信号已绑定其他手机号",payload:{reason:"oauthAccountAlreadyBoundMobile",signature:e,mobile:E,smsVerificationCode:y}});break;case e6.a$.OAUTH_WECHAT_MOBILE_VERIFICATION_ERROR_CODE.MOBILE_PHONE_NUMBER_INVALID:i.error({node:(0,U.createElement)(eL("mobileVerificationInvalidPhoneNumberToast",eD)),description:o("mobileVerificationInvalidPhoneNumberToast")}),d.error({name:"mobileVerficationWithWechatFailed",message:"微信手机号绑定失败，手机号不合法",payload:{reason:"mobilePhoneNumberInvalid",signature:e,mobile:E,smsVerificationCode:y}});break;default:i.error({node:(0,U.createElement)(eL("mobileVerficationFormUnknownErrorToast",eD)),description:o("mobileVerficationFormUnknownErrorToast")}),d.error({name:"mobileVerficationWithWechatFailed",message:"微信手机号绑定失败，未知错误码",payload:{reason:"unknownCode",signature:e,mobile:E,smsVerificationCode:y}})}}).catch(t=>{i.error({node:(0,U.createElement)(eL("mobileVerficationFormUnknownErrorToast",eD)),description:o("mobileVerficationFormUnknownErrorToast")}),a({navigateToSignIn:!0,isBanned:!1}),d.error({name:"mobileVerficationWithWechatFailed",message:"微信手机号绑定失败",payload:d.withError(t,{scene:"signInWithWechat",reason:"other",signature:e,mobile:E,smsVerificationCode:y})})}).finally(()=>{f(!1)})},loading:m,children:o("mobileVerficationFormSubmitButton")}),(0,u.jsx)("div",{className:"ds-sign-up-form__form-footer",children:(0,u.jsx)(eQ.z,{type:"primary",variant:"text",size:"s",onClick:s,children:o("validateMobileNumberBackToSignIn")},1)})]})})]})}let tJ=(0,U.createContext)(null);function t1(e){let{children:t,beAuthenticated:n,beUnauthenticated:a}=e,r=(0,U.useMemo)(()=>({beAuthenticated:n,beUnauthenticated:a}),[n,a]);return(0,u.jsx)(tJ.Provider,{value:r,children:t})}function t0(){let e=(0,U.useContext)(tJ);if(!e)throw Error("`useAuth` must be used in AuthProvider");return e}var t2=n(29087),t3=n(71126);let t6=(0,U.memo)(function(){let e=(0,t3.kq)();return(0,u.jsx)(t2.l.Banner,{deployEnv:"production",condition:e?"authenticated":"unauthenticated"})});var t4=n(52440);function t5(e){let{children:t}=e,n=t2.a.useTranslate();return(0,u.jsxs)("div",{className:t4.frame,children:[(0,u.jsx)("style",{children:t9}),(0,u.jsx)("div",{className:t4.banner,children:(0,u.jsx)(t6,{})}),(0,u.jsx)("div",{className:t4.main,children:t}),(0,u.jsx)("div",{className:t4.footer,children:(0,u.jsx)(tY,{contactUsEmail:n("supportEmail")})})]})}let t9="body[data-ds-dark-theme] { --dsr-bg: #000; }";var t7=n(59005),t8=((d={}).ROOT="/",d.AGENT="/a/:agentId",d.AGENT_SESSION="/a/:agentId/s/:sessionId",d.AUTHORIZED="/authorized",d.SIGN_UP="/sign_up",d.SIGN_IN="/sign_in",d.FORGOT_PASSWORD="/forgot_password",d.BANNED="/banned",d.MOBILE_VERIFICATION="/mobile_verification",d.FEEDBACK="/feedback",d.SHARE="/share/:shareId",d.SHARE_MISSING="/share/missing",d.SHARE_INVALID="/share/invalid",d.NONE="[none]",d);let ne={"/authorized":{isLogoutOnly:!0},"/sign_up":{isLogoutOnly:!0},"/sign_in":{isLogoutOnly:!0},"/forgot_password":{isLogoutOnly:!0},"[none]":{isLogoutOnly:!1},"/banned":{isLogoutOnly:!0},"/a/:agentId":{isLogoutOnly:!1},"/a/:agentId/s/:sessionId":{isLogoutOnly:!1},"/mobile_verification":{isLogoutOnly:!0},"/feedback":{isLogoutOnly:!0},"/share/:shareId":{isLogoutOnly:!1,public:!0},"/share/missing":{isLogoutOnly:!1,public:!0},"/share/invalid":{isLogoutOnly:!1,public:!0},"/":{isLogoutOnly:!1}},nt=["/","/a/:agentId","/a/:agentId/s/:sessionId","/authorized","/sign_up","/sign_in","/forgot_password","/banned","/mobile_verification","/feedback","/share/:shareId","/share/missing","/share/invalid"];function nn(e){return(0,Y.bS)(e)}let na=()=>{let e=nn(t8.AGENT_SESSION);return null==e?void 0:e.params.sessionId},nr=()=>{let e=nn(t8.SHARE);return null==e?void 0:e.params.shareId};function ns(){let e=(0,Y.s0)(),t=(0,Y.TH)();return(0,er.$0)(function(n,a,r){if(n!==t2.l.resolvePathRelativeToPublicPath(t.pathname)){if(a){let t=n;for(let e in a){let n=a[e];void 0!==n&&(t=t.replace(":".concat(e),n))}e(t,r)}else e(n,r)}})}function no(e){return new URL((0,t7.Gn)(t8.SHARE,{shareId:e}),window.location.href).href}let ni=()=>{X.L?location.href="https://apps.apple.com/app/apple-store/id6737597349":window.open("https://download.deepseek.com/app/")};var nl=n(13982);function nd(){return(0,u.jsxs)("svg",{viewBox:"0 0 241 44",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,u.jsx)("path",{id:"path",d:"M57.25 3.64C56.64 3.33 56.37 3.91 56.01 4.21C55.89 4.3 55.79 4.43 55.68 4.54C54.79 5.52 53.74 6.16 52.37 6.08C50.38 5.97 48.67 6.61 47.16 8.16C46.84 6.24 45.77 5.1 44.15 4.36C43.3 3.98 42.45 3.6 41.85 2.77C41.44 2.17 41.32 1.51 41.12 0.86C40.98 0.47 40.85 0.07 40.41 0C39.93 -0.07 39.74 0.34 39.55 0.68C38.8 2.09 38.5 3.64 38.53 5.2C38.6 8.73 40.06 11.54 42.96 13.54C43.29 13.76 43.38 13.99 43.27 14.33C43.08 15.02 42.84 15.68 42.63 16.37C42.5 16.81 42.3 16.91 41.84 16.72C40.25 16.04 38.87 15.04 37.65 13.82C35.59 11.79 33.72 9.54 31.39 7.78C30.85 7.37 30.3 6.99 29.73 6.63C27.36 4.28 30.05 2.35 30.67 2.12C31.32 1.88 30.89 1.06 28.79 1.06C26.69 1.07 24.77 1.79 22.31 2.75C21.96 2.89 21.58 3 21.19 3.08C18.97 2.65 16.66 2.56 14.24 2.83C9.7 3.35 6.07 5.54 3.4 9.27C0.19 13.76 -0.56 18.87 0.36 24.19C1.33 29.8 4.14 34.44 8.46 38.07C12.94 41.84 18.1 43.68 23.98 43.33C27.56 43.12 31.54 42.63 36.02 38.76C37.16 39.33 38.34 39.56 40.31 39.74C41.83 39.88 43.29 39.66 44.43 39.42C46.2 39.04 46.08 37.37 45.43 37.06C40.24 34.6 41.38 35.6 40.34 34.79C42.98 31.6 46.96 28.3 48.52 17.59C48.64 16.74 48.54 16.2 48.52 15.51C48.51 15.09 48.6 14.93 49.07 14.88C50.38 14.73 51.64 14.37 52.8 13.72C56.16 11.84 57.52 8.77 57.84 5.08C57.89 4.51 57.83 3.93 57.25 3.64ZM27.91 36.83C22.88 32.8 20.44 31.47 19.43 31.53C18.49 31.59 18.65 32.68 18.86 33.4C19.08 34.11 19.36 34.6 19.76 35.22C20.03 35.63 20.22 36.24 19.48 36.7C17.86 37.72 15.04 36.35 14.91 36.29C11.63 34.32 8.89 31.72 6.95 28.16C5.09 24.74 4 21.07 3.82 17.16C3.78 16.21 4.05 15.88 4.97 15.7C6.19 15.48 7.44 15.43 8.66 15.61C13.8 16.37 18.17 18.71 21.84 22.42C23.94 24.53 25.52 27.06 27.15 29.52C28.89 32.14 30.75 34.63 33.13 36.68C33.97 37.4 34.64 37.94 35.28 38.34C33.35 38.56 30.12 38.61 27.91 36.83ZM30.33 21.02C30.33 20.6 30.66 20.26 31.07 20.26C31.17 20.26 31.25 20.28 31.33 20.31C31.43 20.35 31.53 20.41 31.6 20.49C31.73 20.63 31.81 20.82 31.81 21.02C31.81 21.44 31.48 21.77 31.06 21.77C30.65 21.77 30.33 21.44 30.33 21.02ZM37.82 24.93C37.34 25.14 36.86 25.31 36.4 25.33C35.68 25.36 34.9 25.07 34.48 24.71C33.82 24.14 33.35 23.83 33.15 22.84C33.06 22.42 33.11 21.77 33.19 21.4C33.36 20.6 33.17 20.08 32.61 19.61C32.16 19.23 31.58 19.12 30.95 19.12C30.72 19.12 30.5 19.02 30.34 18.93C30.07 18.8 29.86 18.47 30.06 18.05C30.13 17.92 30.45 17.6 30.53 17.54C31.38 17.04 32.37 17.2 33.29 17.58C34.14 17.93 34.78 18.58 35.7 19.5C36.65 20.61 36.82 20.91 37.35 21.74C37.78 22.39 38.16 23.06 38.43 23.83C38.59 24.3 38.38 24.7 37.82 24.93Z",fill:"#4D6BFE",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,u.jsx)("path",{id:"path",d:"M143.32 34.23L140.83 34.23L140.83 30.37L143.32 30.37C144.86 30.37 146.42 29.99 147.43 28.92C148.44 27.85 148.81 26.21 148.81 24.57C148.81 22.94 148.44 21.3 147.43 20.23C146.42 19.16 144.86 18.78 143.32 18.78C141.77 18.78 140.22 19.16 139.21 20.23C138.19 21.3 137.83 22.94 137.83 24.57L137.83 40.44L133.46 40.44L133.46 14.92L137.83 14.92L137.83 16.54L138.63 16.54C138.71 16.45 138.8 16.36 138.9 16.27C139.99 15.27 141.66 14.92 143.32 14.92C145.89 14.92 148.48 15.56 150.17 17.34C151.85 19.12 152.46 21.86 152.46 24.58C152.46 27.29 151.85 30.03 150.17 31.81C148.48 33.6 145.89 34.23 143.32 34.23Z",fill:"#4D6BFE",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,u.jsx)("path",{id:"path",d:"M76.79 15.59L79.28 15.59L79.28 19.45L76.79 19.45C75.25 19.45 73.69 19.83 72.68 20.91C71.67 21.98 71.3 23.62 71.3 25.25C71.3 26.88 71.67 28.52 72.68 29.59C73.69 30.66 75.25 31.05 76.79 31.05C78.34 31.05 79.89 30.66 80.9 29.59C81.92 28.52 82.28 26.88 82.28 25.25L82.28 9.39L86.65 9.39L86.65 34.91L82.28 34.91L82.28 33.28L81.48 33.28C81.4 33.38 81.31 33.47 81.21 33.55C80.12 34.55 78.45 34.91 76.79 34.91C74.22 34.91 71.63 34.27 69.94 32.48C68.26 30.7 67.65 27.97 67.65 25.25C67.65 22.53 68.26 19.8 69.94 18.01C71.63 16.23 74.22 15.59 76.79 15.59Z",fill:"#4D6BFE",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,u.jsx)("path",{id:"path",d:"M108.59 24.91L108.59 26.46L96.95 26.46L96.95 23.36L104.67 23.36C104.49 22.23 104.08 21.18 103.36 20.42C102.3 19.31 100.69 18.91 99.08 18.91C97.48 18.91 95.86 19.31 94.81 20.42C93.76 21.52 93.38 23.22 93.38 24.91C93.38 26.6 93.76 28.3 94.81 29.41C95.86 30.52 97.48 30.91 99.08 30.91C100.69 30.91 102.3 30.52 103.36 29.41C103.51 29.25 103.64 29.08 103.76 28.9L108.08 28.9C107.71 30.24 107.1 31.45 106.2 32.4C104.45 34.25 101.75 34.91 99.08 34.91C96.41 34.91 93.72 34.25 91.97 32.4C90.21 30.55 89.58 27.72 89.58 24.91C89.58 22.1 90.21 19.27 91.97 17.42C93.72 15.58 96.41 14.92 99.08 14.92C101.75 14.92 104.45 15.58 106.2 17.42C107.96 19.27 108.59 22.1 108.59 24.91Z",fill:"#4D6BFE",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,u.jsx)("path",{id:"path",d:"M130.52 24.91L130.52 26.46L118.88 26.46L118.88 23.36L126.61 23.36C126.43 22.23 126.02 21.18 125.29 20.42C124.24 19.31 122.63 18.91 121.02 18.91C119.42 18.91 117.8 19.31 116.75 20.42C115.7 21.52 115.32 23.22 115.32 24.91C115.32 26.6 115.7 28.3 116.75 29.41C117.8 30.52 119.42 30.91 121.02 30.91C122.63 30.91 124.24 30.52 125.29 29.41C125.44 29.25 125.58 29.08 125.7 28.9L130.02 28.9C129.64 30.24 129.04 31.45 128.14 32.4C126.38 34.25 123.69 34.91 121.02 34.91C118.35 34.91 115.66 34.25 113.9 32.4C112.15 30.55 111.52 27.72 111.52 24.91C111.52 22.1 112.15 19.27 113.9 17.42C115.66 15.58 118.35 14.92 121.02 14.92C123.69 14.92 126.38 15.58 128.14 17.42C129.89 19.27 130.52 22.1 130.52 24.91Z",fill:"#4D6BFE",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,u.jsx)("path",{id:"path",d:"M164.9 34.91C167.57 34.91 170.26 34.52 172.01 33.43C173.77 32.34 174.4 30.67 174.4 29.01C174.4 27.35 173.77 25.68 172.01 24.59C170.26 23.5 167.57 23.11 164.9 23.11L164.99 23.11C163.85 23.11 162.7 22.96 161.96 22.53C161.21 22.11 160.94 21.46 160.94 20.82C160.94 20.17 161.21 19.53 161.96 19.1C162.7 18.68 163.85 18.53 164.99 18.53C166.13 18.53 167.28 18.68 168.03 19.1C168.78 19.53 169.04 20.17 169.04 20.82L173.49 20.82C173.49 19.16 172.92 17.49 171.34 16.4C169.75 15.31 167.32 14.92 164.9 14.92C162.48 14.92 160.05 15.31 158.46 16.4C156.87 17.49 156.3 19.16 156.3 20.82C156.3 22.48 156.87 24.15 158.46 25.24C160.05 26.33 162.48 26.72 164.9 26.72C166.16 26.72 167.53 26.87 168.36 27.29C169.19 27.71 169.48 28.36 169.48 29.01C169.48 29.65 169.19 30.3 168.36 30.72C167.53 31.14 166.26 31.3 165 31.3C163.74 31.3 162.47 31.14 161.65 30.72C160.82 30.3 160.52 29.65 160.52 29.01L155.4 29.01C155.4 30.67 156.03 32.34 157.78 33.43C159.53 34.52 162.22 34.91 164.9 34.91Z",fill:"#4D6BFE",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,u.jsx)("path",{id:"path",d:"M196.33 24.91L196.33 26.46L184.69 26.46L184.69 23.36L192.42 23.36C192.24 22.23 191.83 21.18 191.1 20.42C190.05 19.31 188.44 18.91 186.83 18.91C185.23 18.91 183.61 19.31 182.56 20.42C181.51 21.52 181.13 23.22 181.13 24.91C181.13 26.6 181.51 28.3 182.56 29.41C183.61 30.52 185.23 30.91 186.83 30.91C188.44 30.91 190.05 30.52 191.1 29.41C191.25 29.25 191.39 29.08 191.51 28.9L195.83 28.9C195.45 30.24 194.85 31.45 193.95 32.4C192.19 34.25 189.5 34.91 186.83 34.91C184.16 34.91 181.47 34.25 179.71 32.4C177.96 30.55 177.33 27.72 177.33 24.91C177.33 22.1 177.96 19.27 179.71 17.42C181.47 15.58 184.16 14.92 186.83 14.92C189.5 14.92 192.19 15.58 193.95 17.42C195.7 19.27 196.33 22.1 196.33 24.91Z",fill:"#4D6BFE",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,u.jsx)("path",{id:"path",d:"M218.27 24.91L218.27 26.46L206.63 26.46L206.63 23.36L214.36 23.36C214.17 22.23 213.77 21.18 213.04 20.42C211.99 19.31 210.37 18.91 208.77 18.91C207.17 18.91 205.55 19.31 204.5 20.42C203.44 21.52 203.07 23.22 203.07 24.91C203.07 26.6 203.44 28.3 204.5 29.41C205.55 30.52 207.17 30.91 208.77 30.91C210.37 30.91 211.99 30.52 213.04 29.41C213.19 29.25 213.32 29.08 213.45 28.9L217.77 28.9C217.39 30.24 216.79 31.45 215.88 32.4C214.13 34.25 211.44 34.91 208.77 34.91C206.1 34.91 203.4 34.25 201.65 32.4C199.9 30.55 199.27 27.72 199.27 24.91C199.27 22.1 199.9 19.27 201.65 17.42C203.4 15.58 206.1 14.92 208.77 14.92C211.44 14.92 214.13 15.58 215.88 17.42C217.64 19.27 218.27 22.1 218.27 24.91Z",fill:"#4D6BFE",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,u.jsx)("rect",{id:"rect",x:"221.211182",y:"8.500488",width:"4.371000",height:"26.415646",fill:"#4D6BFE",fillOpacity:"1.000000"}),(0,u.jsx)("path",{id:"polygon",d:"M233.04 24.31L240.21 34.91L234.79 34.91L227.62 24.31L234.79 15.81L240.21 15.81L233.04 24.31Z",fill:"#4D6BFE",fillOpacity:"1.000000",fillRule:"nonzero"})]})}function nc(){return(0,u.jsxs)("svg",{width:"35",height:"24",viewBox:"0 0 35 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("g",{clipPath:"url(#clip0_4892_24313)",children:(0,u.jsx)("path",{d:"M26.5542 4.34393C26.2719 4.20592 26.1506 4.46928 25.9856 4.60268C25.9292 4.64581 25.8815 4.70216 25.8338 4.75391C25.4215 5.19438 24.9396 5.48361 24.3105 5.44911C23.3905 5.39736 22.605 5.68659 21.9104 6.39041C21.7626 5.52271 21.2721 5.00462 20.5258 4.67226C20.1353 4.49976 19.7403 4.32668 19.4666 3.95119C19.2757 3.68381 19.2234 3.38595 19.1279 3.09211C19.0669 2.91501 19.0066 2.73388 18.8024 2.7034C18.5811 2.6689 18.4942 2.85463 18.4074 3.00989C18.0601 3.6447 17.9255 4.34393 17.9388 5.05235C17.9692 6.64572 18.642 7.91478 19.9789 8.81756C20.1307 8.92106 20.1698 9.02457 20.1221 9.1758C20.0307 9.48688 19.9226 9.78876 19.8271 10.0998C19.7662 10.2982 19.6753 10.3419 19.4626 10.2551C18.7288 9.94862 18.0952 9.49493 17.5351 8.94694C16.5846 8.02749 15.7249 7.01258 14.6531 6.21791C14.4013 6.03218 14.1494 5.85967 13.8889 5.69522C12.7952 4.63316 14.0321 3.76086 14.3185 3.65736C14.618 3.54925 14.4225 3.17779 13.4548 3.18239C12.487 3.18642 11.6015 3.51073 10.4727 3.94256C10.3077 4.00754 10.1341 4.05469 9.95637 4.09379C8.93227 3.89944 7.86849 3.85631 6.75755 3.98167C4.66564 4.21455 2.99464 5.20358 1.7664 6.89183C0.290908 8.92106 -0.0564026 11.2269 0.368535 13.6316C0.815324 16.1663 2.10911 18.2645 4.09695 19.905C6.15838 21.6059 8.53263 22.4397 11.2415 22.2799C12.8867 22.185 14.7181 21.9648 16.7841 20.2161C17.3051 20.4755 17.8519 20.579 18.7587 20.6566C19.4574 20.7216 20.1302 20.6221 20.6511 20.514C21.4671 20.3415 21.4107 19.5859 21.1157 19.4473C18.7242 18.3335 19.2492 18.7866 18.772 18.4198C19.987 16.9822 21.8431 14.4269 22.4158 10.9474C22.4722 10.5633 22.5441 10.0222 22.5355 9.71114C22.5309 9.52138 22.5746 9.44778 22.7913 9.42593C23.3905 9.35693 23.9718 9.19305 24.506 8.89921C26.0557 8.05279 26.6808 6.6624 26.828 4.996C26.8498 4.74126 26.8234 4.47791 26.5542 4.34393ZM13.0511 19.3438C10.7332 17.5216 9.60906 16.9219 9.14502 16.9477C8.71089 16.9736 8.78909 17.4704 8.88454 17.7942C8.98459 18.1139 9.11455 18.3341 9.29683 18.6147C9.42276 18.8004 9.50959 19.0764 9.1709 19.284C8.42453 19.7458 7.12671 19.1288 7.06576 19.0983C5.55519 18.2087 4.29245 17.0346 3.40233 15.4285C2.54268 13.8829 2.04356 12.2245 1.96133 10.4546C1.93948 10.0274 2.06541 9.87617 2.49092 9.79854C3.05099 9.69504 3.62831 9.67319 4.1878 9.75541C6.55342 10.101 8.56713 11.1585 10.2554 12.8341C11.2191 13.788 11.9482 14.9283 12.6992 16.0421C13.4979 17.2249 14.357 18.3519 15.4512 19.276C15.8377 19.5997 16.1459 19.8458 16.4408 20.0275C15.5513 20.127 14.0666 20.1483 13.0511 19.345V19.3438ZM14.162 12.1981C14.162 12.0083 14.3139 11.8571 14.5048 11.8571C14.5479 11.8571 14.587 11.8657 14.6221 11.8784C14.6698 11.8956 14.7135 11.9215 14.748 11.9606C14.8089 12.021 14.8434 12.1072 14.8434 12.1981C14.8434 12.3878 14.6916 12.5391 14.5007 12.5391C14.3098 12.5391 14.162 12.3878 14.162 12.1981ZM17.6127 13.968C17.3913 14.0588 17.17 14.1365 16.9572 14.1451C16.6271 14.1623 16.2672 14.0284 16.0717 13.8645C15.7681 13.6098 15.5507 13.4671 15.4599 13.0227C15.4208 12.8329 15.4426 12.5391 15.4771 12.3706C15.5553 12.0078 15.4685 11.7749 15.2126 11.5633C15.0045 11.3908 14.7394 11.343 14.4484 11.343C14.3397 11.343 14.2403 11.2953 14.1661 11.2568C14.0447 11.1964 13.9447 11.0452 14.0401 10.8594C14.0706 10.7991 14.2184 10.6524 14.2529 10.6266C14.6479 10.4017 15.1034 10.4753 15.5248 10.6438C15.9153 10.8037 16.2108 11.0969 16.6358 11.5115C17.0699 12.0124 17.1481 12.1504 17.3954 12.5264C17.5909 12.8203 17.7686 13.1221 17.8905 13.4677C17.9641 13.6834 17.8686 13.8599 17.6127 13.968Z",fill:"var(--dsw-alias-brand-primary)"})}),(0,u.jsx)("defs",{children:(0,u.jsx)("clipPath",{id:"clip0_4892_24313",children:(0,u.jsx)("rect",{width:"26.634",height:"19.6",fill:"white",transform:"translate(0.199951 2.69922)"})})})]})}function nu(e){return(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 35 26",fill:"none",...e,children:(0,u.jsx)("g",{clipPath:"url(#a)",children:(0,u.jsx)("path",{fill:"var(--dsw-alias-brand-primary)",d:"M33.615 2.598c-.36-.176-.515.16-.726.33-.072.055-.132.127-.193.193-.526.562-1.14.93-1.943.887-1.174-.067-2.176.302-3.062 1.2-.188-1.107-.814-1.767-1.766-2.191-.498-.22-1.002-.441-1.35-.92-.244-.341-.31-.721-.433-1.096-.077-.226-.154-.457-.415-.496-.282-.044-.393.193-.504.391-.443.81-.614 1.702-.598 2.605.04 2.033.898 3.652 2.603 4.803.193.132.243.264.182.457-.116.397-.254.782-.376 1.179-.078.253-.194.308-.465.198-.936-.391-1.744-.97-2.458-1.669-1.213-1.173-2.31-2.467-3.676-3.48a16.254 16.254 0 0 0-.975-.668c-1.395-1.354.183-2.467.548-2.599.382-.138.133-.612-1.102-.606-1.234.005-2.364.42-3.803.97a4.34 4.34 0 0 1-.66.193 13.577 13.577 0 0 0-4.08-.143c-2.667.297-4.799 1.558-6.365 3.712C.116 8.436-.327 11.378.215 14.444c.57 3.233 2.22 5.91 4.755 8.002 2.63 2.17 5.658 3.233 9.113 3.03 2.098-.122 4.434-.403 7.07-2.633.664.33 1.362.463 2.518.562.892.083 1.75-.044 2.414-.182 1.04-.22.97-1.184.593-1.36-3.05-1.421-2.38-.843-2.99-1.311 1.55-1.834 3.918-5.093 4.648-9.531.072-.49.164-1.18.153-1.577-.006-.242.05-.336.326-.364a5.903 5.903 0 0 0 2.187-.672c1.977-1.08 2.774-2.853 2.962-4.978.028-.325-.006-.661-.35-.832ZM16.39 21.73c-2.956-2.324-4.39-3.089-4.982-3.056-.554.033-.454.667-.332 1.08.127.407.293.688.526 1.046.16.237.271.59-.161.854-.952.589-2.607-.198-2.685-.237-1.927-1.134-3.537-2.632-4.673-4.68-1.096-1.972-1.733-4.087-1.838-6.345-.028-.545.133-.738.676-.837A6.643 6.643 0 0 1 5.086 9.5c3.017.441 5.586 1.79 7.74 3.927 1.229 1.217 2.159 2.671 3.116 4.092 1.02 1.509 2.115 2.946 3.51 4.125.494.413.887.727 1.263.958-1.135.127-3.028.154-4.324-.87v-.002Zm1.417-9.114a.434.434 0 0 1 .587-.408c.06.022.117.055.16.105a.426.426 0 0 1 .122.303.434.434 0 0 1-.437.435.43.43 0 0 1-.432-.435Zm4.402 2.257c-.283.116-.565.215-.836.226-.421.022-.88-.149-1.13-.358-.387-.325-.664-.506-.78-1.073-.05-.242-.022-.617.022-.832.1-.463-.011-.76-.338-1.03-.265-.22-.603-.28-.974-.28a.8.8 0 0 1-.36-.11c-.155-.078-.283-.27-.161-.508.039-.077.227-.264.271-.297.504-.286 1.085-.193 1.623.022.498.204.875.578 1.417 1.107.553.639.653.815.968 1.295.25.374.476.76.632 1.2.094.275-.028.5-.354.638Z"})})})}let nh=()=>(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:(0,u.jsx)("path",{d:"M8 0.599609C3.91309 0.599609 0.599609 3.91309 0.599609 8C0.599609 9.13376 0.855461 10.2098 1.3125 11.1719L1.5918 11.7588L2.76562 11.2012L2.48633 10.6143C2.11034 9.82278 1.90039 8.93675 1.90039 8C1.90039 4.63106 4.63106 1.90039 8 1.90039C11.3689 1.90039 14.0996 4.63106 14.0996 8C14.0996 11.3689 11.3689 14.0996 8 14.0996C7.31041 14.0996 6.80528 14.0514 6.35742 13.9277C5.91623 13.8059 5.49768 13.6021 4.99707 13.2529C4.26492 12.7422 3.21611 12.5616 2.35156 13.1074L2.33789 13.1162L2.32422 13.126L1.58789 13.6436L2.01953 14.9297L3.0459 14.207C3.36351 14.0065 3.83838 14.0294 4.25293 14.3184C4.84547 14.7317 5.39743 15.011 6.01172 15.1807C6.61947 15.3485 7.25549 15.4004 8 15.4004C12.0869 15.4004 15.4004 12.0869 15.4004 8C15.4004 3.91309 12.0869 0.599609 8 0.599609ZM7.34473 4.93945V7.34961H4.93945V8.65039H7.34473V11.0605H8.64551V8.65039H11.0605V7.34961H8.64551V4.93945H7.34473Z",fill:"currentColor"})}),np=()=>{let e="var(--dsw-alias-brand-primary)";return(0,u.jsxs)("svg",{width:"143",height:"23",viewBox:"0 0 143 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("path",{d:"M78.6785 18.6823H77.1078V16.2472H78.6785C79.6513 16.2472 80.6342 16.0047 81.2672 15.3308C81.9009 14.6569 82.14 13.6232 82.14 12.59C82.14 11.5569 81.9109 10.5231 81.2672 9.84981C80.6247 9.17594 79.6513 8.93343 78.6785 8.93343C77.7056 8.93343 76.7228 9.17594 76.0886 9.84981C75.4549 10.5237 75.2158 11.5569 75.2158 12.59V22.5909H72.4605V6.50781H75.2158V7.53204H75.7209C75.7757 7.4689 75.8304 7.41525 75.8857 7.36161C76.5752 6.73244 77.6308 6.50781 78.6684 6.50781C80.2944 6.50781 81.9193 6.91236 82.9849 8.03549C84.0499 9.15861 84.4265 10.8835 84.4265 12.6001C84.4265 14.3166 84.0404 16.0326 82.9849 17.1647C81.9288 18.2967 80.2944 18.6834 78.6785 18.6834V18.6823Z",fill:e}),(0,u.jsx)("path",{d:"M36.7486 6.94097H38.3188V9.37609H36.7486C35.7753 9.37609 34.7929 9.61859 34.1593 10.2925C33.5257 10.9663 33.2871 12.0001 33.2871 13.0332C33.2871 14.0664 33.5167 15.0996 34.1593 15.7734C34.8019 16.4473 35.7753 16.6898 36.7486 16.6898C37.722 16.6898 38.7049 16.4473 39.3385 15.7734C39.9722 15.0996 40.2108 14.0664 40.2108 13.0332V3.02344H42.9655V19.116H40.2108V18.0918H39.7057C39.6503 18.1544 39.5956 18.2086 39.5403 18.2622C38.8513 18.8908 37.7952 19.116 36.7576 19.116C35.1321 19.116 33.5067 18.712 32.4416 17.5889C31.3766 16.4658 31 14.7403 31 13.0243C31 11.3083 31.3856 9.59177 32.4416 8.45971C33.5067 7.33658 35.1321 6.94097 36.7486 6.94097Z",fill:e}),(0,u.jsx)("path",{d:"M56.7855 12.8155V13.795H49.4483V11.8454H54.3152C54.2051 11.1358 53.9481 10.4709 53.4887 9.9853C52.8277 9.2846 51.808 9.03316 50.7983 9.03316C49.7886 9.03316 48.7688 9.2846 48.1078 9.9853C47.4468 10.686 47.2076 11.7555 47.2076 12.816C47.2076 13.8766 47.4462 14.9544 48.1078 15.6462C48.7688 16.338 49.788 16.5989 50.7983 16.5989C51.8085 16.5989 52.8277 16.3475 53.4887 15.6462C53.5804 15.5473 53.6631 15.4395 53.7458 15.3316H56.4642C56.2256 16.1765 55.849 16.9403 55.2796 17.5332C54.1777 18.692 52.479 19.1145 50.7983 19.1145C49.1175 19.1145 47.4188 18.701 46.3169 17.5332C45.215 16.3653 44.8111 14.5862 44.8111 12.816C44.8111 11.0458 45.2061 9.25778 46.3169 8.0989C47.4283 6.94001 49.1175 6.51758 50.7983 6.51758C52.479 6.51758 54.1777 6.93107 55.2796 8.0989C56.3904 9.26672 56.7855 11.0458 56.7855 12.816V12.8155Z",fill:e}),(0,u.jsx)("path",{d:"M70.6151 12.8155V13.795H63.2779V11.8454H68.1448C68.0341 11.1358 67.7776 10.4709 67.3183 9.9853C66.6573 9.2846 65.6376 9.03316 64.6279 9.03316C63.6182 9.03316 62.5984 9.2846 61.9374 9.9853C61.2764 10.686 61.0372 11.7555 61.0372 12.816C61.0372 13.8766 61.2758 14.9544 61.9374 15.6462C62.5984 16.338 63.6182 16.5989 64.6279 16.5989C65.6376 16.5989 66.6573 16.3475 67.3183 15.6462C67.4105 15.5473 67.4927 15.4395 67.5748 15.3316H70.2938C70.0546 16.1765 69.678 16.9403 69.1086 17.5332C68.0067 18.692 66.3081 19.1145 64.6279 19.1145C62.9476 19.1145 61.2484 18.701 60.1465 17.5332C59.0446 16.3653 58.6406 14.5862 58.6406 12.816C58.6406 11.0458 59.0357 9.25778 60.1465 8.0989C61.2579 6.94001 62.9471 6.51758 64.6279 6.51758C66.3086 6.51758 68.0067 6.93107 69.1086 8.0989C70.22 9.26672 70.6151 11.0458 70.6151 12.816V12.8155Z",fill:e}),(0,u.jsx)("path",{d:"M92.2781 19.1156C93.9589 19.1156 95.657 18.8731 96.7589 18.1813C97.8608 17.4896 98.2653 16.438 98.2653 15.3959C98.2653 14.3538 97.8697 13.2932 96.7589 12.6104C95.657 11.9276 93.9583 11.6756 92.2781 11.6756C91.5612 11.6756 90.9002 11.5767 90.4319 11.3163C89.9637 11.0464 89.7893 10.6424 89.7893 10.2379C89.7893 9.83332 89.9547 9.42039 90.4319 9.15944C90.9002 8.88955 91.626 8.80015 92.3418 8.80015C93.0576 8.80015 93.7834 8.89905 94.2528 9.15944C94.721 9.42933 94.8954 9.83332 94.8954 10.2379H97.6959C97.6959 9.1952 97.3383 8.13522 96.3376 7.4524C95.3368 6.76958 93.803 6.51758 92.2787 6.51758C90.7543 6.51758 89.2211 6.76008 88.2198 7.4524C87.219 8.14416 86.8603 9.1952 86.8603 10.2379C86.8603 11.2805 87.2185 12.3405 88.2198 13.0233C89.2205 13.7061 90.7538 13.9582 92.2787 13.9582C93.0682 13.9582 93.941 14.0571 94.464 14.3174C94.9881 14.5784 95.1714 14.9913 95.1714 15.3959C95.1714 15.8004 94.9881 16.2133 94.464 16.4743C93.941 16.7347 93.142 16.8336 92.3524 16.8336C91.5629 16.8336 90.7543 16.7347 90.2397 16.4743C89.7256 16.2139 89.5323 15.8004 89.5323 15.3959H86.2998C86.2998 16.4385 86.6943 17.4985 87.8063 18.1813C88.9171 18.8641 90.5979 19.1156 92.2787 19.1156H92.2781Z",fill:e}),(0,u.jsx)("path",{d:"M112.094 12.8155V13.795H104.757V11.8454H109.624C109.514 11.1358 109.257 10.4709 108.798 9.9853C108.136 9.2846 107.117 9.03316 106.106 9.03316C105.095 9.03316 104.077 9.2846 103.416 9.9853C102.755 10.686 102.517 11.7555 102.517 12.816C102.517 13.8766 102.755 14.9544 103.416 15.6462C104.077 16.338 105.097 16.5989 106.106 16.5989C107.116 16.5989 108.136 16.3475 108.798 15.6462C108.889 15.5473 108.972 15.4395 109.054 15.3316H111.772C111.533 16.1765 111.157 16.9403 110.588 17.5332C109.486 18.692 107.787 19.1145 106.106 19.1145C104.425 19.1145 102.727 18.701 101.625 17.5332C100.524 16.3653 100.12 14.5862 100.12 12.816C100.12 11.0458 100.515 9.25778 101.625 8.0989C102.737 6.94001 104.427 6.51758 106.106 6.51758C107.786 6.51758 109.486 6.93107 110.588 8.0989C111.699 9.26672 112.093 11.0458 112.093 12.816L112.094 12.8155Z",fill:e}),(0,u.jsx)("path",{d:"M125.924 12.8155V13.795H118.586V11.8454H123.453C123.344 11.1358 123.086 10.4709 122.627 9.9853C121.966 9.2846 120.947 9.03316 119.936 9.03316C118.926 9.03316 117.907 9.2846 117.246 9.9853C116.585 10.686 116.346 11.7555 116.346 12.816C116.346 13.8766 116.585 14.9544 117.246 15.6462C117.907 16.338 118.927 16.5989 119.936 16.5989C120.946 16.5989 121.966 16.3475 122.627 15.6462C122.719 15.5473 122.801 15.4395 122.885 15.3316H125.602C125.363 16.1765 124.987 16.9403 124.418 17.5332C123.316 18.692 121.617 19.1145 119.936 19.1145C118.256 19.1145 116.558 18.701 115.456 17.5332C114.354 16.3653 113.949 14.5862 113.949 12.816C113.949 11.0458 114.344 9.25778 115.456 8.0989C116.567 6.94001 118.256 6.51758 119.936 6.51758C121.617 6.51758 123.315 6.93107 124.418 8.0989C125.529 9.26672 125.924 11.0458 125.924 12.816V12.8155Z",fill:e}),(0,u.jsx)("path",{d:"M130.524 3.02344H127.77V19.116H130.524V3.02344Z",fill:e}),(0,u.jsx)("path",{d:"M135.227 12.4384L139.744 19.1146H136.337L131.819 12.4384L136.337 7.07422H139.744L135.227 12.4384Z",fill:e}),(0,u.jsx)("g",{clipPath:"url(#clip0_4329_19769)",children:(0,u.jsx)("path",{d:"M26.5174 3.39471C26.235 3.2567 26.1137 3.52006 25.9487 3.65346C25.8923 3.69659 25.8446 3.75294 25.7969 3.80469C25.3846 4.24516 24.9027 4.53439 24.2737 4.49989C23.3536 4.44814 22.5682 4.73737 21.8735 5.44119C21.7258 4.57349 21.2353 4.0554 20.4889 3.72304C20.0985 3.55054 19.7034 3.37746 19.4297 3.00197C19.2388 2.73459 19.1865 2.43673 19.091 2.14289C19.0301 1.96579 18.9697 1.78466 18.7656 1.75418C18.5442 1.71968 18.4574 1.90541 18.3705 2.06067C18.0232 2.69549 17.8887 3.39471 17.9019 4.10313C17.9324 5.6965 18.6051 6.96556 19.9421 7.86834C20.0939 7.97184 20.133 8.07535 20.0852 8.22658C19.9938 8.53766 19.8857 8.83955 19.7903 9.15063C19.7293 9.34901 19.6385 9.39271 19.4257 9.30588C18.692 8.9994 18.0583 8.54571 17.4982 7.99772C16.5477 7.07827 15.6881 6.06336 14.6162 5.26869C14.3644 5.08296 14.1125 4.91045 13.8521 4.746C12.7584 3.68394 13.9952 2.81164 14.2816 2.70814C14.5812 2.60003 14.3857 2.22857 13.4179 2.23317C12.4502 2.2372 11.5646 2.56151 10.4359 2.99335C10.2708 3.05832 10.0972 3.10547 9.91951 3.14457C8.8954 2.95022 7.83162 2.90709 6.72069 3.03245C4.62877 3.26533 2.95777 4.25436 1.72954 5.94261C0.254043 7.97184 -0.0932679 10.2777 0.33167 12.6824C0.778458 15.2171 2.07225 17.3153 4.06008 18.9558C6.12152 20.6567 8.49577 21.4905 11.2047 21.3306C12.8498 21.2358 14.6812 21.0155 16.7473 19.2669C17.2682 19.5262 17.8151 19.6297 18.7219 19.7074C19.4205 19.7724 20.0933 19.6729 20.6143 19.5648C21.4302 19.3923 21.3739 18.6367 21.0789 18.4981C18.6874 17.3843 19.2124 17.8374 18.7351 17.4706C19.9501 16.033 21.8063 13.4776 22.379 9.99821C22.4353 9.61409 22.5072 9.073 22.4986 8.76192C22.494 8.57216 22.5377 8.49856 22.7545 8.47671C23.3536 8.40771 23.935 8.24383 24.4692 7.94999C26.0188 7.10357 26.6439 5.71318 26.7911 4.04678C26.8129 3.79204 26.7865 3.52869 26.5174 3.39471ZM13.0143 18.3946C10.6964 16.5724 9.5722 15.9726 9.10816 15.9985C8.67402 16.0244 8.75222 16.5212 8.84768 16.8449C8.94773 17.1646 9.07768 17.3849 9.25996 17.6655C9.38589 17.8512 9.47272 18.1272 9.13404 18.3348C8.38766 18.7965 7.08985 18.1796 7.0289 18.1491C5.51833 17.2595 4.25559 16.0853 3.36546 14.4793C2.50581 12.9337 2.0067 11.2753 1.92447 9.50542C1.90262 9.07818 2.02855 8.92695 2.45406 8.84932C3.01413 8.74582 3.59144 8.72397 4.15093 8.80619C6.51656 9.15178 8.53027 10.2092 10.2185 11.8848C11.1822 12.8388 11.9114 13.979 12.6623 15.0929C13.461 16.2757 14.3201 17.4027 15.4144 18.3268C15.8008 18.6505 16.109 18.8966 16.404 19.0783C15.5144 19.1778 14.0297 19.1991 13.0143 18.3958V18.3946ZM14.1252 11.2489C14.1252 11.0591 14.277 10.9079 14.4679 10.9079C14.511 10.9079 14.5501 10.9165 14.5852 10.9292C14.6329 10.9464 14.6766 10.9723 14.7111 11.0114C14.7721 11.0718 14.8066 11.158 14.8066 11.2489C14.8066 11.4386 14.6548 11.5899 14.4639 11.5899C14.273 11.5899 14.1252 11.4386 14.1252 11.2489ZM17.5759 13.0188C17.3545 13.1096 17.1331 13.1873 16.9203 13.1959C16.5903 13.2131 16.2303 13.0791 16.0348 12.9153C15.7312 12.6605 15.5139 12.5179 15.423 12.0734C15.3839 11.8837 15.4057 11.5899 15.4402 11.4214C15.5185 11.0585 15.4316 10.8257 15.1757 10.614C14.9676 10.4415 14.7025 10.3938 14.4115 10.3938C14.3029 10.3938 14.2034 10.3461 14.1292 10.3076C14.0079 10.2472 13.9078 10.096 14.0033 9.91023C14.0338 9.84985 14.1815 9.70322 14.216 9.67734C14.6111 9.45251 15.0665 9.52612 15.488 9.6946C15.8784 9.85445 16.174 10.1477 16.5989 10.5623C17.033 11.0631 17.1112 11.2011 17.3585 11.5772C17.554 11.871 17.7317 12.1729 17.8536 12.5185C17.9272 12.7341 17.8317 12.9107 17.5759 13.0188Z",fill:e})}),(0,u.jsx)("defs",{children:(0,u.jsx)("clipPath",{id:"clip0_4329_19769",children:(0,u.jsx)("rect",{width:"26.634",height:"19.6",fill:"white",transform:"translate(0.163086 1.75)"})})})]})},ng={current:!1};var nm=n(48775);function nf(e){let{children:t}=e,n=(0,nm.F)();return(0,u.jsx)(q,{rgbPrimary:n?"78 107 245":"77 107 254",buttonHoverColor:n?"#3D4FA9":"#2563EB",borderedSecondaryButtonColor:"var(--dsr-text-1)",inputPrefixColor:"var(--dsr-text-1)",modalContentColor:n?"#3A3A46":void 0,label1:n?"#F8FAFF":void 0,label2:n?"#BBB":void 0,rgbHover:n?"68 68 77":"245 245 245",rgbInput:n?"85 85 98":void 0,rgbInputFocus:n?"58 58 70":void 0,textPrimaryButtonColor:n?"#6780FE":void 0,tabsActiveColor:n?"#6780FE":void 0,children:t})}let nC=(0,e1.Ue)(e=>({forceGoogleLogin:!1,toggleForceGoogleLogin(){e(e=>({forceGoogleLogin:!e.forceGoogleLogin}))}}));var nv=n(49053),nx=n(73435),nS=n(15447),nE=n(9053);let nb=(0,nx.AY)(),n_=e=>{nb("captureException",e)},ny=e=>{let t=new URL(e).pathname;for(let e of nt)if((0,t7.LX)(e,t))return e;return e};var nw=n(49905);let nI=e=>{let{style:t,link:n,icon:a,children:r,iconColor:s,onClick:o,disabled:i,domRef:l,domProps:d,loading:c=!1,className:h,iconSize:p,iconAlign:g,iconMargin:m}=e,f=i||c,C=e=>a?(0,u.jsx)(ej.J,{size:p,style:{color:s,visibility:e?"hidden":"visible",..."left"===g?{marginRight:m}:{marginLeft:m}},children:a}):null;return(0,u.jsx)(nT,{link:n,children:(0,u.jsxs)("button",{role:"button","aria-disabled":f,ref:l,className:(0,Q.Z)(nw.layout,f&&nw.disabled,h),style:t,...d,onClick:e=>{var t;!f&&(null==o||o(e),null==d||null===(t=d.onClick)||void 0===t||t.call(d,e))},children:["left"===g?C(c):null,(0,u.jsx)("span",{className:c?nw.hidden:"",children:r}),"right"===g?C(c):null,c?(0,u.jsx)(tT.g,{className:nw.loading,size:p}):null]})})},nT=e=>{let{children:t,link:n}=e;return(0,u.jsx)(u.Fragment,{children:n?(0,u.jsx)("a",{href:null==n?void 0:n.url,target:null==n?void 0:n.target,children:t}):t})};var nk=n(21418),nM=n(29062);let nj={md:{padding:"6px 15px",fontSize:13,lineHeight:"20px",iconSize:14,iconMargin:4},lg:{padding:"9px 19px",fontSize:14,lineHeight:"22px",iconSize:14,iconMargin:6}},nR=e=>(0,nk.Z)(e,["iconSize","iconMargin"]),nA=(e,t)=>{if("icon"!==t)return{};let n=parseInt(String(e.padding));return Number.isNaN(n),{padding:n}},nN=e=>{let{size:t="md",link:n,icon:a,children:r,iconColor:s,onClick:o,disabled:i=!1,domRef:l,domProps:d,variant:c,loading:h=!1,iconAlign:p="left",className:g,style:m}=e;nL({icon:a,variant:c,children:r});let f=nj[t],{iconSize:C,iconMargin:v}=f,x="icon"===c?0:v,S=nR(f);return(0,u.jsx)(nI,{style:{...S,...nA(S,c),...m},link:n,icon:a,iconColor:s,disabled:i,onClick:o,domRef:l,domProps:d,loading:h,className:(0,Q.Z)(g,nM.floatingButton,nM[c],nM[t]),iconSize:C,iconAlign:p,iconMargin:x,children:r})},nL=e=>{let{icon:t,variant:n,children:a}=e};var nF=n(64004);let nO=e=>{let{selected:t,size:n="md",link:a,icon:r,iconColor:s,children:o,onClick:i,disabled:l=!1,domRef:d,domProps:c,loading:h=!1,className:p,iconMargin:g=4,style:m}=e;return(0,u.jsx)(nI,{style:m||{},link:a,icon:r,iconColor:null!=s?s:t?"var(--dsw-alias-brand-text)":"var(--dsw-alias-label-primary)",disabled:l,onClick:l?()=>{}:i,domRef:d,domProps:{tabIndex:0,...c},loading:h,className:(0,Q.Z)(p,nF.toggleButton,t&&nF.selected,l&&nF.disabled,nF[n]),iconSize:14,iconAlign:"left",iconMargin:g,children:o})};var nP=n(72613);let nD={sm:{padding:"5px 14px",fontSize:13,lineHeight:"20px",iconSize:14},md:{padding:"6px 14px",fontSize:14,lineHeight:"22px",iconSize:14,minWidth:"72px"},lg:{padding:"8px 72px",fontSize:14,lineHeight:"22px",iconSize:16},xl:{padding:"10px 72px",fontSize:14,lineHeight:"22px",iconSize:16}},nB=e=>(0,nk.Z)(e,["iconSize"]),nH=e=>{let{size:t="md",link:n,icon:a,children:r,iconColor:s,onClick:o,disabled:i,domRef:l,domProps:d,variant:c="primary",loading:h=!1,className:p,style:g}=e,m=nD[t],{iconSize:f}=m,C=i||h;return(0,u.jsx)(nI,{style:{...nB(m),...g},iconSize:f,disabled:C,loading:h,link:n,icon:a,iconColor:s,onClick:o,domRef:l,domProps:d,className:(0,Q.Z)(nP.basicButton,nP[c],p),iconAlign:"left",iconMargin:6,children:r})};var nV=n(4808);let nU=e=>{let{children:t,icon:n,onClick:a,disabled:r=!1,loading:s=!1,className:o,style:i,domRef:l,domProps:d,iconColor:c,iconSize:h=16,iconAlign:p="left",iconMargin:g=3,link:m}=e;return(0,u.jsx)(nI,{style:null!=i?i:{},link:m,icon:n,iconColor:c,onClick:a,disabled:r,domRef:l,domProps:d,loading:s,className:(0,Q.Z)(nV.textButton,n&&nV.withIcon,o),iconSize:h,iconAlign:p||"left",iconMargin:g,children:t})};var nW=n(8619);let nG=n.p+"static/fallbackWhale.3b8b290cc6.png";function nz(e){let{description:t,onClick:n,buttonText:a}=e,r=ns(),s=t2.a.useTranslate(),o=()=>{n?n():r(t8.ROOT)};return(0,u.jsxs)("div",{className:nW.container,children:[(0,u.jsx)("div",{className:nW.logoContainer,onClick:o,children:(0,u.jsx)(np,{})}),(0,u.jsxs)("div",{className:nW.content,children:[(0,u.jsx)("div",{className:nW.imageContainer,children:(0,u.jsx)("img",{src:nG,alt:"Error",width:220,height:220})}),(0,u.jsx)("div",{className:nW.description,children:t}),(0,u.jsx)(nH,{variant:"primary",size:"md",onClick:o,children:null!=a?a:s("chatInputNewChatButton")})]})]})}function nZ(e){let{children:t}=e,n=(0,Y.TH)(),a=t2.a.useTranslate();return(0,u.jsx)(t2.l.ErrorBoundary,{onError:e=>{t2.l.tracker.error({name:"routeRenderFailed",message:"触发路由 Error Boundary",payload:t2.l.withError(e,{pathname:n.pathname})}),n_(e)},renderFallback:()=>(0,u.jsx)(nz,{description:a.errorPageTitle,buttonText:a.errorPageReloadButton,onClick:()=>{window.location.reload()}}),renderFallbackLastResort:e=>{let{error:t}=e;return(0,u.jsx)(nq,{error:t})},children:t})}function nq(e){let{error:t}=e;return(0,U.useEffect)(()=>{t2.l.tracker.error({name:"routeRenderFailLastResort",message:"触发路由 Error Boundary 且 ErrorContent 渲染失败",payload:t2.l.withError(t,{})})},[t]),(0,u.jsx)("div",{className:nv.container,children:(0,u.jsxs)("div",{className:nv.main,children:[(0,u.jsx)("div",{className:nv.title,children:"Something went wrong. 似乎出了点问题"}),(0,u.jsx)("div",{className:nv.action,children:(0,u.jsx)("button",{onClick:()=>{window.location.reload()},children:"Reload 重新加载"})})]})})}var nK=n(45264),nY=n(87847);function nX(e){let{onResize:t,children:n,forwardedRef:a}=e,r=a||(0,U.useRef)(null),s=(0,er.II)(t),o=(0,U.useRef)(!0);return(0,U.useLayoutEffect)(()=>{let e=r.current;if(e){let t=new nY.do(e=>{s.current({entry:e[0],isFirst:o.current}),o.current=!1});return t.observe(e),()=>{t.unobserve(e)}}},[r.current]),n({ref:r})}var n$=n(85125),nQ=n(65545);let nJ=e=>{let{style:t,dotSize:n,dotMargin:a,className:r}=e;return(0,u.jsx)("div",{className:(0,Q.Z)(r,nQ.container),style:t,children:[0,1,2].map(e=>(0,u.jsx)("div",{className:nQ.dot,style:{width:n,height:n,marginRight:e<2?a:void 0}},e))})};var n1=n(20877);let n0=(0,U.createContext)({setShowScrollBottomButton:n1.Z,checkScrollButton:n1.Z,setCheckScrollButton:n1.Z}),n2=(0,e1.Ue)(e=>({show:!1,toggle:t=>e({show:t})})),n3=(0,U.memo)(function(e){let{children:t}=e,n=(0,U.useRef)(n1.Z),a=(0,U.useMemo)(()=>({setShowScrollBottomButton:e=>n2.getState().toggle(e),checkScrollButton:()=>n.current(),setCheckScrollButton:e=>n.current=e}),[]);return(0,u.jsx)(n0.Provider,{value:a,children:t})}),n6=()=>n2(e=>e.show),n4=()=>{let{setShowScrollBottomButton:e}=(0,U.useContext)(n0);return(0,er.$0)(t=>{n2.getState().show!==t&&e(t)})},n5=e=>{let t=(0,U.useRef)(e),n=(0,U.useRef)(n1.Z);n.current=(0,U.useContext)(n0).checkScrollButton,(0,U.useLayoutEffect)(()=>{e!==t.current&&n.current(),t.current=e},[e])},n9=e=>{(0,U.useContext)(n0).setCheckScrollButton(e)},n7=(0,U.createContext)({requireScrollToBottom:()=>{}}),n8=()=>(0,U.useContext)(n7).requireScrollToBottom;function ae(e){let{sessionId:t,messageId:n}=e,a=(0,F.XQ)(t,n).useTips("INFO");return(0,u.jsx)(u.Fragment,{children:a.map(e=>(0,u.jsx)("div",{style:{font:"var(--dsw-font-markdown-small)",color:"var(--dsw-alias-label-secondary)",margin:"6px 0"},children:e.content},e.content))})}let at=null,an=null,aa=()=>null===at?(null===an&&(an=Promise.all([n.e("945").then(n.bind(n,14993)).then(e=>at=e.default),n.e("945").then(n.bind(n,56955)),n.e("945").then(n.t.bind(n,46889,19))]).then(e=>{let[t]=e;return t})),an):at;var ar=n(42064),as=n(56846),ao=n(55177),ai=n(56292),al=n(68215),ad=n(95345);let ac={extensions:[(0,n(66905).r)()],mdastExtensions:[(0,ad.H)()]},au={extensions:[(0,ai.m)({singleDollarTextMath:!1})],mdastExtensions:[(0,al.N)()]};n(59863),n(11854);var ah=n(16161),ap=n(78002),ag=n(30093);let am=RegExp("(https?://)?((?:(?!-)[A-Za-z0-9-]{0,62}[A-Za-z0-9]\\.){1,2}(?:".concat("directory|tokyocom|company|finance|monster|network|website|design|garden|google|online|photos|report|school|social|travel|audio|bible|click|cloud|codes|media|movie|ninja|press|rocks|space|today|tools|video|watch|works|world|asia|bank|best|blog|cash|chat|city|club|fund|goog|help|host|html|info|life|link|live|maad|name|news|nico|page|sale|saxo|site|tech|town|wiki|work|zone|art|bar|biz|cat|com|dev|dog|edu|foo|fun|gle|gov|how|icu|int|men|mil|moe|net|new|one|onl|org|pro|pub|red|rip|soy|top|vip|xpi|xxx|xyz|ac|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cq|cr|cu|cv|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|eh|es|et|eu|ev|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gr|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|ml|mm|mn|mo|mp|mq|mr|ms|mt|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nt|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|pt|pw|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|va|vc|ve|vg|vn|vu|wf|ws|ye|yt|yu|za|zm|zr|zw","))([^ 	\r\n]*)"),"i"),af=e=>((0,ag.n)(e,[[am,aC]],{ignore:["link","linkReference"]}),e);function aC(e,t,n,a,r){let s="";if(!function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(void 0===e.input||void 0===e.index)return!1;let n=e.input.charCodeAt(e.index-1);return 0===e.index||(0,ap.B8)(n)||(0,ap.Xh)(n)||aE(n)&&(!t||47!==n)}(r))return!1;void 0===t&&(t="",s="https://");let o=function(e){let t=e.at(0);if(t&&!ax.includes(t))return["",e];for(let t of av){let n=e.indexOf(t);if(-1!==n)return[e.substring(0,n),e.substring(n)]}return[e,void 0]}(a),i=function(e){for(let t=0;t<e.length;t++)if(aE(e.charCodeAt(t)))return[e.substring(0,t),e.substring(t)];let t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],a=n.indexOf(")"),r=(0,ah.w)(e,"("),s=(0,ah.w)(e,")");for(;-1!==a&&r>s;)e+=n.slice(0,a+1),a=(n=n.slice(a+1)).indexOf(")"),s++;return[e,n]}(n+o[0]);if(!i[0]||!aS(o[1])||!aS(i[1]))return!1;let l={type:"link",title:null,url:s+t+i[0],children:[{type:"text",value:t+i[0]}]},d=l;return i[1]&&(d=[l,{type:"text",value:i[1]}]),o[1]&&(d=[...Array.isArray(d)?d:[d],{type:"text",value:o[1]}]),d}let av=["～","》","《","｜","？","；","、","！","】","【","）","（","’","‘","”","“","：","。","，","*","'",'"'],ax=["?","/","#"],aS=e=>!e||!e.match(/^([0-9]|[a-z])/i);function aE(e){return e>=19968&&e<=40959||e>=13312&&e<=19903||e>=63744&&e<=64255||e>=12352&&e<=12447||e>=12448&&e<=12543||e>=44032&&e<=55215}var ab=n(16446);class a_{touch(e){this.sequence.delete(e),this.sequence.add(e)}set(e,t){this.cacheMap.set(e,t),this.touch(e),this.clear()}get(e){let t=this.cacheMap.get(e);return t&&this.touch(e),t}clear(){if(this.cacheMap.size<this.config.clearAt)return;let e=this.cacheMap.size-this.config.clearTo;for(let t of this.sequence){if(e<=0)break;this.cacheMap.delete(t),this.sequence.delete(t),e--}}constructor(e){(0,ab._)(this,"config",void 0),(0,ab._)(this,"cacheMap",new Map),(0,ab._)(this,"sequence",new Set),this.config=e}}let ay=new WeakSet,aw=(e,t)=>{let n=e=>{if(!e.position||!t||ay.has(e.position))return;ay.add(e.position);let{start:n,end:a}=e.position,r=t.end;n.line+=r.line-1,void 0!==n.offset&&(n.offset+=r.offset||0),a.line+=r.line-1,void 0!==a.offset&&(a.offset+=r.offset||0)};n(e),aI(e.children,n)},aI=(e,t)=>{e.forEach(e=>{t(e),"children"in e&&aI(e.children,t)})},aT=new class{adjustPosAndSave(e,t,n){var a,r,s;if(t.children.length<=2)return;let o=n.offset,i=n.nodes,l=t.children.slice(0,-2),d=null===(r=l.at(-1))||void 0===r?void 0:null===(a=r.position)||void 0===a?void 0:a.end.offset;aw(t,null===(s=i.at(-1))||void 0===s?void 0:s.position),void 0!==d&&Number.isInteger(d)&&this.accessor.set(e,{offset:d+o,nodes:i.concat(l)})}getAstAndTrim(e,t){let n=this.accessor.get(e);return n?{cacheRes:{nodes:n.nodes,offset:n.offset},md:t.slice(n.offset)}:{cacheRes:{nodes:[],offset:0},md:t}}joinAst(e,t){return e.children=t.concat(e.children),e}constructor(e={clearAt:80,clearTo:50}){(0,ab._)(this,"accessor",void 0),this.accessor=new a_(e)}},ak=e=>{let{markdown:t,loading:n,onAstPreprocessError:a,parseMath:r,cite:s,cacheKey:o}=e,i=aj(t,n);if(!i)return{ast:null,markdown:""};let{md:l,cacheRes:d}=aM(o,n,i),c=function(e,t){let n={extensions:[],mdastExtensions:[]};return n.extensions.push(ac.extensions["0"]),n.mdastExtensions.push(ac.mdastExtensions["0"]),t.parseMath&&(n.extensions.push(au.extensions["0"]),n.mdastExtensions.push(au.mdastExtensions["0"])),t.cite&&(n.extensions.push((0,as.X)()),n.mdastExtensions.push((0,ao.V)())),af((0,ar.V)(e,n))}(l,{parseMath:r,cite:s});o&&aT.adjustPosAndSave(o,c,d);let u=aT.joinAst(c,d.nodes);return!function e(t){let{ast:n,loading:a,onError:r}=t;if(a)try{let t=n.children[n.children.length-1];if(!t)return;if("list"===t.type){let n=t.children[t.children.length-1];if(n){let t=n.children[n.children.length-1];if(t){if("paragraph"===t.type){let e=t.children[t.children.length-1];e&&"text"===e.type&&(e.value=e.value.replace(/(\d|\d\d|\*\s?|-\s?)$/,""))}else"thematicBreak"===t.type&&1===n.children.length?n.children=[]:"list"===t.type&&e({ast:n,loading:a,onError:r})}}}else if("paragraph"===t.type){let e=t.children[t.children.length-1];e&&"text"===e.type&&(e.value=e.value.replace(/(\d|\d\d)$/,""))}}catch(e){null==r||r(e)}}({ast:u,loading:n,onError:a}),{markdown:i,ast:u}},aM=(e,t,n)=>t&&e?aT.getAstAndTrim(e,n):{md:n,cacheRes:{nodes:[],offset:0}},aj=(e,t)=>aR(t?e.replace(/(\*\s*)+$/,""):e),aR=e=>e.replace(/\[citation:(\d+)\]/g,":cite[$1]"),aA=e=>e.replace(/:cite\[(\d+)\]/g,"[citation:$1]");var aN=n(93279),aL=n(96336);async function aF(e,t){try{await navigator.clipboard.writeText(e)}catch{!function(e,t){t=t||document.body;let n=document.createElement("textarea");n.value=e,n.style.position="fixed",n.style.opacity="0",t.appendChild(n),n.focus(),n.select(),document.execCommand("copy"),t.removeChild(n)}(e,t)}}n(23290);let aO=[],aP={shell:"bash",assembly:"asm6502",asm:"asm6502",vue:"markup",xml:"markup",html:"markup","c++":"cpp",cc:"cpp",cplusplus:"cpp",abap:"abap",abnf:"abnf",actionscript:"actionscript",ada:"ada",agda:"agda",al:"al",antlr4:"antlr4",apacheconf:"apacheconf",apex:"apex",apl:"apl",applescript:"applescript",aql:"aql",arduino:"arduino",arff:"arff",armasm:"armasm",arturo:"arturo",asciidoc:"asciidoc",asm6502:"asm6502",asmatmel:"asmatmel",aspnet:"aspnet",autohotkey:"autohotkey",autoit:"autoit",avisynth:"avisynth","avro-idl":"avro-idl",awk:"awk",bash:"bash",basic:"basic",batch:"batch",bbcode:"bbcode",bbj:"bbj",bicep:"bicep",birb:"birb",bison:"bison",bnf:"bnf",bqn:"bqn",brainfuck:"brainfuck",brightscript:"brightscript",bro:"bro",bsl:"bsl",c:"c",cfscript:"cfscript",chaiscript:"chaiscript",cil:"cil",cilkc:"cilkc",cilkcpp:"cilkcpp",clike:"clike",clojure:"clojure",cmake:"cmake",cobol:"cobol",coffeescript:"coffeescript",concurnas:"concurnas",cooklang:"cooklang",coq:"coq",core:"core",cpp:"cpp",crystal:"crystal",cs:"csharp","c#":"csharp",csharp:"csharp",cshtml:"cshtml",csp:"csp","css-extras":"css-extras",css:"css",csv:"csv",cue:"cue",cypher:"cypher",d:"d",dart:"dart",dataweave:"dataweave",dax:"dax",dhall:"dhall",diff:"diff",django:"django","dns-zone-file":"dns-zone-file",docker:"docker",dot:"dot",ebnf:"ebnf",editorconfig:"editorconfig",eiffel:"eiffel",ejs:"ejs",elixir:"elixir",elm:"elm",erb:"erb",erlang:"erlang",etlua:"etlua","excel-formula":"excel-formula",factor:"factor",false:"false","firestore-security-rules":"firestore-security-rules",flow:"flow",fortran:"fortran",fsharp:"fsharp",ftl:"ftl",gap:"gap",gcode:"gcode",gdscript:"gdscript",gedcom:"gedcom",gettext:"gettext",gherkin:"gherkin",git:"git",glsl:"glsl",gml:"gml",gn:"gn","go-module":"go-module",go:"go",gradle:"gradle",graphql:"graphql",groovy:"groovy",haml:"haml",handlebars:"handlebars",hs:"haskell",haskell:"haskell",haxe:"haxe",hcl:"hcl",hlsl:"hlsl",hoon:"hoon",hpkp:"hpkp",hsts:"hsts",http:"http",ichigojam:"ichigojam",icon:"icon","icu-message-format":"icu-message-format",idris:"idris",iecst:"iecst",ignore:"ignore",inform7:"inform7",ini:"ini",io:"io",j:"j",java:"java",javadoc:"javadoc",javadoclike:"javadoclike",js:"javascript",javascript:"javascript",javastacktrace:"javastacktrace",jexl:"jexl",jolie:"jolie",jq:"jq","js-extras":"js-extras","js-templates":"js-templates",jsdoc:"jsdoc",json:"json",json5:"json5",jsonp:"jsonp",jsstacktrace:"jsstacktrace",jsx:"jsx",julia:"julia",keepalived:"keepalived",keyman:"keyman",kt:"kotlin",kotlin:"kotlin",kumir:"kumir",kusto:"kusto",tex:"latex",latex:"latex",latte:"latte",less:"less",lilypond:"lilypond","linker-script":"linker-script",liquid:"liquid",lisp:"lisp",livescript:"livescript",llvm:"llvm",log:"log",lolcode:"lolcode",lua:"lua",magma:"magma",mk:"makefile",makefile:"makefile",md:"markdown",markdown:"markdown","markup-templating":"markup-templating",markup:"markup",mata:"mata",matlab:"matlab",maxscript:"maxscript",mel:"mel",mermaid:"mermaid",metafont:"metafont",mizar:"mizar",mongodb:"mongodb",monkey:"monkey",moonscript:"moonscript",n1ql:"n1ql",n4js:"n4js","nand2tetris-hdl":"nand2tetris-hdl",naniscript:"naniscript",nasm:"nasm",neon:"neon",nevod:"nevod",nginx:"nginx",nim:"nim",nix:"nix",nsis:"nsis",objectivec:"objectivec",ocaml:"ocaml",odin:"odin",opencl:"opencl",openqasm:"openqasm",oz:"oz",parigp:"parigp",parser:"parser",pascal:"pascal",pascaligo:"pascaligo",pcaxis:"pcaxis",peoplecode:"peoplecode",perl:"perl","php-extras":"php-extras",php:"php",phpdoc:"phpdoc","plant-uml":"plant-uml",plsql:"plsql",powerquery:"powerquery",powershell:"powershell",processing:"processing",prolog:"prolog",promql:"promql",properties:"properties",protobuf:"protobuf",psl:"psl",pug:"pug",puppet:"puppet",pure:"pure",purebasic:"purebasic",purescript:"purescript",py:"python",python:"python",q:"q",qml:"qml",qore:"qore",qsharp:"qsharp",r:"r",racket:"racket",reason:"reason",regex:"regex",rego:"rego",renpy:"renpy",rescript:"rescript",rest:"rest",rip:"rip",roboconf:"roboconf",robotframework:"robotframework",ruby:"ruby",rust:"rust",sas:"sas",sass:"sass",scala:"scala",scheme:"scheme",scss:"scss","shell-session":"shell-session",smali:"smali",smalltalk:"smalltalk",smarty:"smarty",sml:"sml",solidity:"solidity","solution-file":"solution-file",soy:"soy",sparql:"sparql","splunk-spl":"splunk-spl",sqf:"sqf",sql:"sql",squirrel:"squirrel",stan:"stan",stata:"stata",stylus:"stylus",supercollider:"supercollider",swift:"swift",systemd:"systemd","t4-cs":"t4-cs","t4-templating":"t4-templating","t4-vb":"t4-vb",tap:"tap",tcl:"tcl",textile:"textile",toml:"toml",tremor:"tremor",tsx:"tsx",tt2:"tt2",turtle:"turtle",twig:"twig",ts:"typescript",typescript:"typescript",typoscript:"typoscript",unrealscript:"unrealscript",uorazor:"uorazor",uri:"uri",v:"v",vala:"vala",vbnet:"vbnet",velocity:"velocity",verilog:"verilog",vhdl:"vhdl",vim:"vim","visual-basic":"visual-basic",warpscript:"warpscript",wasm:"wasm","web-idl":"web-idl",wgsl:"wgsl",wiki:"wiki",wolfram:"wolfram",wren:"wren",xeora:"xeora","xml-doc":"xml-doc",xojo:"xojo",xquery:"xquery",yaml:"yaml",yang:"yang",zig:"zig"},aD={},aB=(0,U.createContext)(null),aH=(0,U.createContext)({copyCodeText:"",copyCodeOkText:"",onCopyCode:void 0,citeProps:null}),aV=aH.Provider,aU=()=>(0,U.useContext)(aH),aW=(0,U.createContext)({markdown:""}),aG=aW.Provider,az=()=>(0,U.useContext)(aW).markdown,aZ=(0,U.memo)(function(e){var t,n;let{node:a,PhasingContent:r}=e,s=null===(n=a.position)||void 0===n?void 0:null===(t=n.start)||void 0===t?void 0:t.offset,o=az(),i=void 0===s?"*":o[s],l=["+","-","*","/","="],d=function e(t){let n="";switch(t.type){case"text":n+=t.value;break;case"emphasis":case"strong":n+=t.children.map(t=>e(t)).join("")}return n}(a),c=!1;if("*"===i){if(/^\d/.test(d)&&/\d$/.test(d))c=!0;else if(/^[a-z]$/.test(d))c=!0;else if(l.some(e=>d.includes(e))){if(/\d/.test(d))c=!0;else{let e=d.split("").reduce((e,t)=>l.includes(t)?e+1:e,0);c=e+1>=d.length-e}}}return c?(0,u.jsxs)(u.Fragment,{children:["*",(0,u.jsx)(r,{nodes:a.children}),"*"]}):(0,u.jsx)("em",{children:(0,u.jsx)(r,{nodes:a.children})})}),aq=e=>{e&&!e.match(/^[a-zA-Z]+:\/\//)&&(e="https://".concat(e));try{let t=new URL(e);if(["http:","https:"].includes(t.protocol))return encodeURI(e);return}catch(e){return}},aK=(0,U.memo)(function(e){let{node:t,PhasingContent:n}=e,a=aq(t.url);return(0,u.jsx)("a",{href:a,title:t.title||void 0,target:"_blank",rel:"noreferrer",children:(0,u.jsx)(n,{nodes:t.children})})});function aY(e){var t;let{node:n}=e,a=aq(n.url);return(0,u.jsx)("a",{href:a,title:null!==(t=n.title)&&void 0!==t?t:"",target:"_blank",rel:"noreferrer",children:a})}let aX=e=>{var t,n;let a=aA((0,aL.x)(e,{extensions:[(0,ao.l)()]})),r=((null===(t=e.position)||void 0===t?void 0:t.end.offset)||0)-((null===(n=e.position)||void 0===n?void 0:n.start.offset)||1);if(a.length===r)return a;let s=a.replace(/\s+$/,"");return s.length<=r?s:s.trim()},a$=(0,U.memo)(function(e){let{text:t,okText:n,onClick:a}=e,[r,s]=(0,U.useState)(!1);return(0,u.jsx)("div",{className:"ds-markdown-code-copy-button",onClick:()=>{r||(a(),s(!0),setTimeout(()=>{s(!1)},1e3))},children:r?n:t})}),aQ=e=>e.children,aJ=(0,U.memo)(function(e){let{code:t,infostring:n,offset:a}=e,r=function(e){let{markdown:t,endOffset:n}=e;return void 0!==n&&!/```\s*$/.test(t.slice(window.Math.max(0,n-24),n+1))}({markdown:az(),endOffset:a}),{onCopyCode:s,copyCodeOkText:o,copyCodeText:i}=aU(),{CodeAction:l,CodeFooterAction:d,codeTheme:c,CodeContent:h,CodeInfoRow:p,CodeContext:g=aQ,codeBottom:m}=(0,U.useContext)(aB)||{},f=(0,U.useState)(0)[1],C=function(e){if(!(e in aP))return!0;let t=aP[e];return t&&aO.includes(t)}(n);C||(function(e){let t=aP[e]||null;if(t){let e=aD[t];if(e)return e()}return Promise.resolve()})(n).then(()=>{f(e=>e+1)});let v=aP[n]||null,x=(0,U.useCallback)(()=>{var e;let t=null===(e=S.current)||void 0===e?void 0:e.textContent;t&&aF(t),null==s||s({lang:v||""})},[s,v]),S=(0,U.useRef)(null),E=(0,u.jsx)(a$,{text:i,okText:o,onClick:x}),b=(0,U.useMemo)(()=>aN.highlight(t,v&&C?aN.languages[v]:aN.languages.plaintext,v||"plaintext"),[t,v,C]),_=(0,U.useRef)(null);return(0,u.jsx)(g,{infostring:n,children:(0,u.jsxs)("div",{className:"md-code-block ".concat("dark"===c?"md-code-block-dark":"md-code-block-light"),ref:_,children:[(0,u.jsx)("div",{className:"md-code-block-banner-wrap",children:(0,u.jsx)("div",{className:"md-code-block-banner ".concat(p?"md-code-block-banner-lite":""),children:p?(0,u.jsx)(p,{isOpen:r,code:t,infostring:n,codeBlockRef:_}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"md-code-block-infostring",children:n}),(0,u.jsx)("div",{className:"md-code-block-action",children:!p&&l?(0,u.jsx)(l,{copyButton:E,code:t,infostring:n}):E})]})})}),h?(0,u.jsx)(h,{isOpen:r,code:t,infostring:n,html:b}):(0,u.jsx)("pre",{ref:S,dangerouslySetInnerHTML:{__html:b}}),d?(0,u.jsx)(d,{isOpen:r,code:t,infostring:n,renderFooter:e=>(0,u.jsx)("div",{className:"md-code-block-footer",children:e})}):null,m]})})}),a1=(0,U.memo)(function(e){let{code:t}=e;return(0,u.jsx)("code",{children:t})}),a0=(0,U.memo)(function(e){let{node:t}=e;return"cite"!==t.name?(0,u.jsx)(u.Fragment,{children:aX(t)}):(0,u.jsx)(a2,{node:t})}),a2=(0,U.memo)(function(e){var t;let{node:n}=e,{citeProps:a}=aU(),{children:r}=n,s=r[0];if(!s||"text"!==s.type)return null;let o=Number(s.value),{valid:i,text:l}=(null==a?void 0:null===(t=a.check)||void 0===t?void 0:t.call(a,o))||{valid:!0,text:""};if(!i)return(0,u.jsx)(u.Fragment,{children:aX(n)});let{CiteWrapper:d=e=>{let{renderTrigger:t}=e;return(0,u.jsx)(u.Fragment,{children:t({domRef:{current:null},domProps:void 0})})},wrapperDeps:c}=a||{},h=e=>()=>null==a?void 0:a.onOpenLink(e);return(0,u.jsx)(d,{value:o,renderTrigger:e=>{var t;let{domRef:n,domProps:r}=e,s=null==a?void 0:null===(t=a.getLink)||void 0===t?void 0:t.call(a,o),i=(0,u.jsx)("span",{className:"ds-markdown-cite",ref:n,...r,children:l});return s?(0,u.jsx)("a",{href:s,target:"_blank",rel:"noreferrer",onClick:h(s),onAuxClick:h(s),children:i}):i},...c})}),a3={inline:'<span class="katex">',inlineEnd:"</span>",displayMode:'<span class="katex-display"><span class="katex">',displayModeEnd:"</span></span>"},a6=(e,t)=>{let n=(0,U.useRef)(""),a=(0,U.useRef)(aa()),[r,s]=(0,U.useState)(a.current instanceof Promise?null:a.current);return(0,U.useEffect)(()=>{a.current instanceof Promise&&a.current.then(e=>{s(e)})},[]),(0,U.useMemo)(()=>{if(!r)return"";try{let a=r.renderToString(e,{throwOnError:!0,strict:!1,displayMode:!t}).slice(a3[t?"inline":"displayMode"].length,-a3[t?"inlineEnd":"displayModeEnd"].length);return n.current=a,a}catch(e){return n.current}},[r,e,t])},a4=(0,U.memo)(function(e){let{value:t}=e,n=a6(t,!1);return(0,u.jsx)("span",{className:(0,Q.Z)("katex-display","ds-markdown-math"),children:(0,u.jsx)("span",{className:"katex",dangerouslySetInnerHTML:{__html:n}})})}),a5=(0,U.memo)(function(e){let{value:t}=e,n=a6(t,!0);return(0,u.jsx)("span",{className:"katex",dangerouslySetInnerHTML:{__html:n}})}),a9=(0,U.memo)(function(e){let{value:t}=e;return t.match(/^<br\s*\/?>$/i)?(0,u.jsx)("br",{}):(0,u.jsx)("span",{className:"ds-markdown-html",children:t})}),a7=(0,U.memo)(function(e){let{node:t}=e;return t.ordered?(0,u.jsx)("ol",{start:t.start||void 0,children:t.children.map((e,t)=>(0,u.jsx)("li",{children:(0,u.jsx)(rc,{nodes:e.children})},t))}):(0,u.jsx)("ul",{children:t.children.map((e,t)=>(0,u.jsx)("li",{children:(0,u.jsx)(rc,{nodes:e.children})},t))})}),a8=(0,U.memo)(function(e){let{nodes:t}=e;return(0,u.jsx)("tr",{children:t.map((e,t)=>(0,u.jsx)("td",{children:(0,u.jsx)(ro,{nodes:e.children})},t))})}),re=e=>{let{children:t}=e;return(0,u.jsx)("div",{className:"markdown-table-wrapper",children:t})},rt=(0,U.memo)(function(e){var t;let{node:n}=e,{TableWrapper:a=re}=null!==(t=(0,U.useContext)(aB))&&void 0!==t?t:{};return(0,u.jsx)(a,{children:(0,u.jsxs)("table",{children:[n.children[0]?(0,u.jsx)("thead",{children:(0,u.jsx)("tr",{children:n.children[0].children.map((e,t)=>(0,u.jsx)("th",{children:(0,u.jsx)(ro,{nodes:e.children})},t))})}):null,n.children[1]?(0,u.jsx)("tbody",{children:n.children.slice(1).map((e,t)=>(0,u.jsx)("tr",{children:e.children.map((e,t)=>(0,u.jsx)("td",{children:(0,u.jsx)(ro,{nodes:e.children})},t))},t))}):null]})})}),rn=(0,U.memo)(function(e){let{nodes:t}=e;return(0,u.jsx)(u.Fragment,{children:t.map((e,t)=>{switch(e.type){case"heading":return(0,u.jsx)(rr,{depth:e.depth,nodes:e.children},t);case"break":return(0,u.jsx)("br",{},t);case"blockquote":return(0,u.jsx)("blockquote",{children:(0,u.jsx)(rc,{nodes:e.children})},t);case"code":var n;return(0,u.jsx)(aJ,{code:e.value,infostring:e.lang||"text",offset:null===(n=e.position)||void 0===n?void 0:n.end.offset},t);case"delete":return(0,u.jsx)(ra,{node:e},t);case"text":return(0,u.jsx)(rl,{children:e.value},t);case"table":return(0,u.jsx)(rt,{node:e},t);case"emphasis":return(0,u.jsx)(aZ,{node:e,PhasingContent:ro},t);case"tableRow":return(0,u.jsx)(a8,{nodes:e.children},t);case"tableCell":return(0,u.jsx)("td",{children:(0,u.jsx)(ro,{nodes:e.children})},t);case"list":return(0,u.jsx)(a7,{node:e},t);case"link":return(0,u.jsx)(aK,{node:e,PhasingContent:ro},t);case"strong":return(0,u.jsx)("strong",{children:(0,u.jsx)(ro,{nodes:e.children})},t);case"listItem":return(0,u.jsx)("li",{children:(0,u.jsx)(rc,{nodes:e.children})},t);case"paragraph":return(0,u.jsx)("p",{className:"ds-markdown-paragraph",children:(0,u.jsx)(ro,{nodes:e.children})},t);case"image":return(0,u.jsx)(aY,{node:e},t);case"inlineCode":return(0,u.jsx)(a1,{code:e.value},t);case"thematicBreak":return(0,u.jsx)("hr",{},t);case"html":return(0,u.jsx)(a9,{value:e.value},t);case"math":return(0,u.jsx)(a4,{value:e.value},t);case"inlineMath":return(0,u.jsx)(a5,{value:e.value},t);case"yaml":case"linkReference":case"imageReference":case"footnoteDefinition":case"footnoteReference":case"mdxJsxFlowElement":case"mdxJsxTextElement":return null;case"definition":return(0,u.jsxs)(U.Fragment,{children:[(0,aL.x)(e),(0,u.jsx)("br",{})]},t);case"textDirective":case"leafDirective":case"containerDirective":return(0,u.jsx)(a0,{node:e},t);default:return rs(e)}})})}),ra=(0,U.memo)(function(e){let{node:t}=e;return(0,u.jsxs)(u.Fragment,{children:[rh(t),(0,u.jsx)(ro,{nodes:t.children}),rp(t)]})}),rr=(0,U.memo)(function(e){let{depth:t,nodes:n}=e;return(0,u.jsx)(u.Fragment,{children:(0,U.createElement)("h".concat(t),null,(0,u.jsx)(ro,{nodes:n}))})}),rs=e=>null,ro=(0,U.memo)(function e(t){let{nodes:n}=t;return(0,u.jsx)(u.Fragment,{children:n.map((t,n)=>{switch(t.type){case"inlineMath":return(0,u.jsx)(a5,{value:t.value},n);case"break":return(0,u.jsx)("br",{},n);case"delete":return(0,u.jsx)(ra,{node:t},n);case"emphasis":return(0,u.jsx)(aZ,{node:t,PhasingContent:e},n);case"image":return(0,u.jsx)(aY,{node:t},n);case"html":return(0,u.jsx)(a9,{value:t.value},n);case"inlineCode":return(0,u.jsx)(a1,{code:t.value},n);case"link":return(0,u.jsx)(aK,{node:t,PhasingContent:e},n);case"strong":return(0,u.jsx)("strong",{children:(0,u.jsx)(e,{nodes:t.children})},n);case"text":return(0,u.jsx)(rl,{children:t.value},n);case"footnoteReference":case"imageReference":case"linkReference":case"mdxJsxTextElement":return null;case"textDirective":return(0,u.jsx)(a0,{node:t},n);default:return rs(t)}})})}),ri=/\\boxed\{[^}]+\}/,rl=(0,U.memo)(function(e){let{children:t}=e,n=[];return t.split("\n").forEach((e,t)=>{e.match(ri)?n.push((0,u.jsx)(rd,{text:e},t+"tbm"),(0,u.jsx)("br",{},t)):n.push((0,u.jsx)("span",{children:e},t+"s"),(0,u.jsx)("br",{},t+"br"))}),n.pop(),n}),rd=(0,U.memo)(function(e){let{text:t}=e,n="\\boxed{",a=n.length,r=t.indexOf(n),s=1,o=-1;for(let e=r+a;e<t.length;e++)if("}"===t[e]&&(s-=1),"{"===t[e]&&(s+=1),0===s){o=e;break}if(-1===o)return t;let i=t.slice(r+a,o);return(0,u.jsxs)(u.Fragment,{children:[t.slice(0,r),(0,u.jsx)(a5,{value:i}),t.slice(o+1)]})}),rc=(0,U.memo)(function e(t){let{nodes:n}=t;return n.map((t,n)=>{switch(t.type){case"math":return(0,u.jsx)(a4,{value:t.value},n);case"footnoteDefinition":case"definition":case"mdxJsxFlowElement":return null;case"thematicBreak":return(0,u.jsx)("hr",{},n);case"blockquote":return(0,u.jsx)("blockquote",{children:(0,u.jsx)(e,{nodes:t.children})},n);case"html":return(0,u.jsx)(a9,{value:t.value},n);case"heading":return(0,U.createElement)("h".concat(t.depth),{key:n},(0,u.jsx)(ro,{nodes:t.children}));case"paragraph":return(0,u.jsx)("p",{className:"ds-markdown-paragraph",children:(0,u.jsx)(ro,{nodes:t.children})},n);case"code":var a;return(0,u.jsx)(aJ,{code:t.value,infostring:t.lang||"text",offset:null===(a=t.position)||void 0===a?void 0:a.end.offset},n);case"table":return(0,u.jsx)(rt,{node:t},n);case"list":return(0,u.jsx)(a7,{node:t},n);case"leafDirective":case"containerDirective":return(0,u.jsx)(a0,{node:t},n);default:return rs(t)}})}),ru=(0,U.memo)(function(e){let{ast:t,markdown:n,copyCodeText:a,copyCodeOkText:r,zoom:s=1,onCopyCode:o,citeProps:i,onUpdate:l,className:d}=e,c=(0,U.useMemo)(()=>({copyCodeOkText:r,copyCodeText:a,onCopyCode:o,citeProps:i}),[i,r,a,o]),h=(0,U.useRef)(()=>0);h.current=l,(0,U.useLayoutEffect)(()=>h.current(),[t.children]);let p=(0,U.useMemo)(()=>({markdown:n}),[n]);return(0,U.useMemo)(()=>(0,u.jsx)(aV,{value:c,children:(0,u.jsx)(aG,{value:p,children:(0,u.jsx)("div",{className:(0,Q.Z)("ds-markdown",d),style:{"--ds-md-zoom":s},children:(0,u.jsx)(rn,{nodes:t.children})})})}),[c,p,d,s,t.children])}),rh=e=>{var t,n,a,r;let s=e.children[0],o=null!==(a=null===(t=e.position)||void 0===t?void 0:t.start.offset)&&void 0!==a?a:NaN,i=null!==(r=null===(n=s.position)||void 0===n?void 0:n.start.offset)&&void 0!==r?r:NaN;return Number.isInteger(o)&&Number.isInteger(i)?"~".repeat(i-o):""},rp=e=>{var t,n,a,r;let s=e.children.at(-1),o=null!==(a=null===(t=e.position)||void 0===t?void 0:t.end.offset)&&void 0!==a?a:NaN,i=null!==(r=null==s?void 0:null===(n=s.position)||void 0===n?void 0:n.end.offset)&&void 0!==r?r:NaN;return Number.isInteger(o)&&Number.isInteger(i)?"~".repeat(o-i):""};function rg(e){return(0,u.jsx)(aB.Provider,{value:e,children:e.children})}let rm=(0,U.memo)(function(e){let{citeProps:t,cacheKey:n,loading:a,content:r}=e,s=n8(),o=(0,er.$0)(()=>{a&&s()}),i=t2.a.useTranslate(),{ast:l,processedMarkdown:d}=function(e){let{ast:t,markdown:n}=(0,U.useMemo)(()=>ak(e),[e]);return{ast:t,processedMarkdown:n}}({markdown:(0,er.uX)({content:r,maxWait:2e3,timeConsumingRate:2,enable:a,getNow:()=>performance.now()}),loading:a,onAstPreprocessError:null,parseMath:!0,cite:!0,cacheKey:n}),c=F.aD.useIsShareSelecting();return(0,u.jsx)(u.Fragment,{children:l?(0,u.jsx)(ru,{className:c?"pointer-events-none":"",markdown:d,ast:l,copyCodeText:i("copyCode"),copyCodeOkText:i("copyCodeOk"),zoom:1.143,onCopyCode:rf,citeProps:t,onUpdate:o},n):null})}),rf=e=>{let{lang:t}=e;t2.l.tracker.info({name:"copyCodeBlock",message:"复制代码块",payload:{lang:t}})},rC=(e,t,n)=>"S".concat(e,"_M").concat(t,"_F").concat(null===n?"[Nil]":n);var rv=n(78828),rx=n(3697),rS=n.n(rx),rE=n(12206);n(68830);let rb=(0,U.memo)(function(e){let{url:t,className:n,style:a}=e,[r,s]=(0,U.useState)("loading");return(0,u.jsxs)("div",{className:(0,Q.Z)(n,"site_logo_back"),style:a,children:[(0,u.jsx)("img",{src:t,onLoad:()=>s("loaded"),onError:()=>s("error"),style:{display:"loaded"===r?"block":"none"},className:"site_logo_img"}),"error"===r&&(0,u.jsx)("div",{className:"site_logo_loading site_logo_fallback",children:(0,u.jsx)(rE.U5,{})}),"loading"===r&&(0,u.jsx)("div",{className:"site_logo_loading"})]})});var r_=n(26382);let ry=(0,U.memo)(function(e){let{searchResult:t,className:n,clickable:a=!0,index:r,messageIndex:s}=e,o=rI(t.siteName,t.url),i=o&&t.publishedAt;return(0,u.jsx)(rw,{link:t.url&&a?t.url:null,onOpen:()=>rk(t.url,s),children:(0,u.jsxs)("div",{className:(0,Q.Z)(r_.wrap,n,a&&r_.clickable),children:[(0,u.jsxs)("div",{className:r_.meta,children:[(0,u.jsx)(rb,{url:t.siteIcon,className:r_.siteIcon}),o?(0,u.jsx)("span",{className:r_.siteName,children:o}):null,i?(0,u.jsx)("div",{className:r_.divider}):null,(0,u.jsx)("span",{className:r_.date,children:rT(t.publishedAt)}),void 0!==r?(0,u.jsx)("span",{className:(0,Q.Z)("ds-markdown-cite",r_.index),children:r}):null]}),(0,u.jsx)("div",{className:(0,Q.Z)(r_.title,"search-view-card__title"),children:t.title}),(0,u.jsx)("div",{className:(0,Q.Z)(r_.snippet,"search-view-card__snippet"),children:t.snippet})]})})}),rw=e=>{let{link:t,onOpen:n,children:a}=e;return t?(0,u.jsx)("a",{href:t,target:"_blank",rel:"noreferrer",onClick:n,onAuxClick:n,className:r_.cardAnchorWrap,children:a}):a},rI=(e,t)=>{if(e)return e;if(!t)return"";try{return new URL(t).hostname.replace(/^www\./,"")}catch(e){return""}},rT=e=>e?rS()(1e3*e).format("YYYY/MM/DD"):"",rk=(e,t)=>{(0,F.MQ)({name:"search_result_click",start_time:Date.now(),end_time:Date.now(),attributes:{url:e,message_id:(null==t?void 0:t.messageId)||-1,chat_session_id:(null==t?void 0:t.sessionId)||""}}),t2.l.tracker.info({name:"openSearchResult",message:"打开搜索条目",payload:{url:e}})};var rM=n(81367);let rj=(0,U.memo)(function(e){let{searchResult:t,index:n}=e;return(0,u.jsx)("div",{className:rM.floatCard,children:(0,u.jsx)(ry,{searchResult:t,messageIndex:n})})}),rR=e=>{let{renderTrigger:t,value:n,sessionId:a,messageId:r}=e,s=(0,F.uF)().hooks.useCiteSearchResult({sessionId:a||"",messageId:r||-1},n);return(0,u.jsx)(rv.u,{renderTrigger:t,floatingAnimated:!0,size:"m",hoverable:!0,theme:{padding:"0",backgroundColor:"transparent"},children:s?(0,u.jsx)(rj,{searchResult:s,index:{sessionId:a||"",messageId:r||-1}}):null})},rA=e=>{let{sessionId:t,messageId:n}=e,a=(0,F.uF)();return(0,U.useMemo)(()=>({check:e=>a.convertCiteIndexToListIndex({sessionId:t,messageId:n},e),CiteWrapper:rR,getLink:e=>{let r=a.getSearchResult({sessionId:t||"",messageId:n||0},e);return(null==r?void 0:r.url)||null},onOpenLink:e=>rk(e,{sessionId:t,messageId:n}),wrapperDeps:{sessionId:t,messageId:n}}),[n,a,t])};function rN(e){let{children:t,justifyContent:n,alignItems:a,gap:r=12,columnGap:s=r,rowGap:o=r,flexDirection:i,flexWrap:l,style:d,className:c,domRef:h,domProps:p}=e;return(0,u.jsx)("div",{...p,ref:h,className:(0,Q.Z)("".concat(Z.F,"-flex"),c,null==p?void 0:p.className),style:{...null==p?void 0:p.style,...d,justifyContent:n,alignItems:a,gap:r,rowGap:o,columnGap:s,flexDirection:i,flexWrap:l},children:t})}n(61930);var rL=n(97463),rF=n(34754);let rO=e=>{let{onClick:t,children:n,style:a,className:r,disabled:s}=e,[o,i]=(0,U.useState)(!1);return(0,u.jsx)(nU,{disabled:s,style:a,onClick:()=>{o||(t(),i(!0),setTimeout(()=>{i(!1)},1e3))},className:r,icon:o?(0,u.jsx)(rE.nU,{}):(0,u.jsx)(rE.p3,{}),children:n})};function rP(e){let{onClick:t}=e,[n,a]=(0,U.useState)(!1),r=t2.a.useTranslate(),s=()=>n?(0,u.jsx)(rE.nU,{}):(0,u.jsx)(rE.p3,{});return(0,u.jsx)(rv.u,{placement:"bottom",renderTrigger:e=>{let{domProps:r,domRef:o}=e;return(0,u.jsx)(rL.h,{className:rF.copyButton,domProps:r,domRef:o,onClick:()=>{n||(t(),a(!0),setTimeout(()=>{a(!1)},1e3))},size:"md",children:s()})},children:r("copyCode")})}var rD=n(50341);let rB=(0,U.createContext)({searchEnabled:!1,thinkingEnabled:!1,setSearchEnabled:rD.Z,setThinkingEnabled:rD.Z}),rH=()=>(0,U.useContext)(rB),rV=e=>{let{children:t}=e,[n,a]=t2.l.storageHandles.thinkingEnabledStorageHandle.useState(),[r,s]=t2.l.storageHandles.searchEnabledStorageHandle.useState(),o=(0,U.useMemo)(()=>({thinkingEnabled:n,searchEnabled:r,setThinkingEnabled:a,setSearchEnabled:s}),[r,s,a,n]);return(0,u.jsx)(rB.Provider,{value:o,children:t})};var rU=n(52640);let rW=(0,rU.EP)({getChallengeByScene:async e=>{let t=rG(e);return await (0,F.Hr)({targetPath:t})},getTracker:()=>t2.l.tracker}),rG=e=>{switch(e){case"completion_like":return F.ty;case"upload_file":return F.ZQ;default:(0,F.y0)(e)}},rz=async e=>{let{t,setIsSolvingChallenge:n,scene:a}=e;n(!0);let r=t("r1PowComputeFail");try{let e=await rW.retrieveAnswer(a),t=null==e?void 0:e.res;if(t)return{success:!0,res:t};return{success:!1,msg:r}}catch(e){return t2.l.tracker.error({name:"fetchPowBroken",message:"POW获取异常",payload:t2.l.tracker.withError(e,{scene:a})}),{success:!1,msg:r}}finally{n(!1)}},rZ=(0,U.createContext)(void 0),rq=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let a=(0,U.useContext)(rZ);if(!a)throw Error("useHtmlRuntime must be used within HtmlRuntimeProvider");return a(t[0])},rK=e=>{let{children:t}=e,n=(0,F.uF)(),a=(0,F.cm)(),r=(0,U.useRef)();r.current||(r.current=(0,e1.Ue)(e=>({visible:!1,code:"",title:"",setCode:t=>{e({code:t,title:function(e){try{var t;let n=new DOMParser().parseFromString(e,"text/html");return(null===(t=n.querySelector("title"))||void 0===t?void 0:t.textContent)||null}catch(e){return null}}(t)||"HTML"})},open:()=>{n.closeSearchView(),a.closePreview(),e({visible:!0})},close:()=>{e({visible:!1})}})));let s=r.current,o=s(e=>e.close),i=s(e=>e.setCode);(0,U.useEffect)(()=>{let e=[n.listenOpenView(o),a.listenPreview(o)];return()=>{e.forEach(e=>e())}},[a,n,o]);let l=(0,Y.TH)();return(0,U.useEffect)(()=>{o(),i("")},[o,l,i]),(0,u.jsx)(rZ.Provider,{value:s,children:t})};function rY(){let[e]=t2.l.useFgByKey("enableShare"),{isMuted:t}=(0,F.aK)(e=>({isMuted:e.isMuted}));return e&&!t}let rX="data-escape-transition",r$=(0,U.memo)(function(e){let{sessionId:t,messageId:n,style:a,className:r,feedback:s,showFeedbackModal:o,onFeedbackChange:i,onDislikeClick:l,onCopy:d}=e,c=t2.a.useTranslate(),h=(0,U.useRef)(null);return((0,U.useEffect)(()=>{requestAnimationFrame(()=>{h.current&&h.current.removeAttribute(rX)})},[]),nr())?(0,u.jsx)(rN,{className:r,style:a,gap:10,alignItems:"center",children:(0,u.jsx)(rP,{onClick:d})}):(0,u.jsxs)(rN,{className:r,style:a,gap:10,alignItems:"center",domRef:h,domProps:{[rX]:!0},children:[(0,u.jsx)(rP,{onClick:d}),(0,u.jsx)(rQ,{sessionId:t,messageId:n}),(0,u.jsx)(r0,{sessionId:t,messageId:n}),(0,u.jsx)(rJ,{active:s===F.HL.MessageFeedback.LIKE,onClick:()=>{s===F.HL.MessageFeedback.LIKE?null==i||i(null):null==i||i(F.HL.MessageFeedback.LIKE)},children:c("messageLikeButtonTooltip")}),(0,u.jsx)(r1,{active:s===F.HL.MessageFeedback.DISLIKE||!0===o,onClick:()=>{s===F.HL.MessageFeedback.DISLIKE?null==i||i(null):null==l||l()},children:c("messageDislikeButtonTooltip")})]})});function rQ(e){let{sessionId:t,messageId:n}=e,a=t2.a.useTranslate(),{thinkingEnabled:r,searchEnabled:s}=rH(),o=(0,F.XQ)(t,n),i=F.FW.useSessionChatStatus(t),{regenerateMessage:l}=(0,F.RJ)(),d=(0,F.uF)(),c=rq(e=>e.close),h=o.useMessageStatus(),p=o.useBanRegenerate(),g=i!==F.uT.idle,m=[F.HL.MessageStatus.CONTENT_FILTER,F.HL.MessageStatus.CONTEXT_LENGTH_EXCEEDED].includes(h)||p,f=g||m,C=m?a("regenerateNotAvailable"):g?a("generatingDisableTooltip"):a("regenerate"),v=async()=>{c(),d.closeSearchView(),l({chatSessionId:t,childMessageId:n,searchEnabled:s,getPowRes:()=>rz({t:a,setIsSolvingChallenge:n1.Z,scene:"completion_like"}),thinkingEnabled:r})};return(0,u.jsx)(rv.u,{placement:"bottom",renderTrigger:e=>{let{domProps:t,domRef:n}=e;return(0,u.jsx)(rL.h,{domProps:t,domRef:n,onClick:f?void 0:v,size:"md",disabled:f,className:rF.copyButton,children:(0,u.jsx)(rE.aY,{})})},children:C})}function rJ(e){let{onClick:t,active:n,children:a}=e;return(0,u.jsx)(rv.u,{placement:"bottom",renderTrigger:e=>{let{domProps:a,domRef:r}=e;return(0,u.jsx)(rL.h,{domProps:a,domRef:r,onClick:t,size:"md",className:rF.copyButton,children:n?(0,u.jsx)(rE.b8,{}):(0,u.jsx)(rE.aZ,{})})},children:a})}function r1(e){let{onClick:t,active:n,children:a}=e;return(0,u.jsx)(rv.u,{placement:"bottom",renderTrigger:e=>{let{domProps:a,domRef:r}=e;return(0,u.jsx)(rL.h,{domProps:a,domRef:r,onClick:t,size:"md",className:rF.copyButton,children:n?(0,u.jsx)(rE.uh,{}):(0,u.jsx)(rE.G4,{})})},children:a})}function r0(e){let{sessionId:t,messageId:n}=e,a=rY(),r=(0,F.lD)(),{selectable:s}=F.aD.useMessageSelectStatus(t,n),o=()=>{r.toggleShareSelection(t,!0),r.toggleMessageSelection(n,!0)},i=t2.a.useTranslate();return a?(0,u.jsx)(rv.u,{placement:"bottom",renderTrigger:e=>{let{domProps:t,domRef:n}=e;return(0,u.jsx)(rL.h,{domProps:t,domRef:n,onClick:o,size:"md",className:rF.copyButton,disabled:!s,children:(0,u.jsx)(rE.nO,{})})},children:s?i.share:i.shareButtonDisabledTooltip}):null}function r2(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t){if(!t.contains(e))return}else t=function(e){let t=e;for(;t&&t!==document.body;){let e=window.getComputedStyle(t);if(("auto"===e.overflow||"scroll"===e.overflow||"auto"===e.overflowX||"scroll"===e.overflowX||"auto"===e.overflowY||"scroll"===e.overflowY)&&t.scrollHeight>t.clientHeight)return t;t=t.parentElement}return document.documentElement}(e);let a=function(e,t,n){let a=n.topOcclusion||0,r=n.bottomOcclusion||0,s=e.getBoundingClientRect(),o=t.getBoundingClientRect(),i=o.top+a,l=o.bottom-r,d=l-i,c=s.top-i,u=l-s.bottom,h=Math.max(s.top,i),p=Math.max(0,Math.min(s.bottom,l)-h),g=s.height;return{isFullyVisible:p===g,isOverflowing:g>d,isTopClipped:c<0,isBottomClipped:u<0,isPartiallyVisible:p>0,visibleHeight:p,visibleRatio:g>0?p/g:0,topDistance:c,bottomDistance:u,containerVisibleHeight:d,elementHeight:g}}(e,t,n);if(a.isFullyVisible)return;let r=t.scrollTop,s=r+a.topDistance,o=r-a.bottomDistance;if(a.elementHeight<=a.containerVisibleHeight){if(a.isPartiallyVisible&&("either-visible"===n.allowPartial||"top-visible"===n.allowPartial&&!a.isTopClipped||"bottom-visible"===n.allowPartial&&!a.isBottomClipped))return;if(a.isTopClipped&&a.isBottomClipped){let e=Math.abs(r-s),n=Math.abs(r-o);t.scrollTo({top:e<=n?s:o})}else a.isTopClipped?t.scrollTo({top:s}):a.isBottomClipped&&t.scrollTo({top:o})}else if(a.isTopClipped)t.scrollTo({top:s});else if(a.isBottomClipped&&a.isPartiallyVisible){let e=Math.min(r+Math.min(Math.abs(a.bottomDistance),100),s);e>s&&t.scrollTo({top:e})}}let r3=(0,U.createContext)({setScrollEl:()=>{throw Error("useMessageListScroll called outside of MessageListScrollProvider")},getScrollEl:()=>null,getScrollElRef:()=>{throw Error("useMessageListScroll called outside of MessageListScrollProvider")}}),r6=(0,U.memo)(function(e){let{children:t}=e,n=(0,U.useRef)(null),a=(0,U.useMemo)(()=>({setScrollEl:e=>{n.current=e},getScrollEl:()=>n.current,getScrollElRef:()=>n}),[]);return(0,u.jsx)(r3.Provider,{value:a,children:t})}),r4=e=>{let{setScrollEl:t}=(0,U.useContext)(r3);(0,U.useEffect)(()=>{t(e.current)},[e,t])},r5=()=>(0,U.useContext)(r3).getScrollElRef(),r9=()=>{let e=(0,U.useContext)(r3).getScrollEl();return(0,U.useCallback)((t,n)=>{if(e){if(!e.contains(t))throw Error("el is not in scrollEl");r2(t,e,n)}},[e])},r7=new Map,r8=(e,t,n)=>{let a=(0,U.useCallback)(()=>{r7.delete(e)},[e]);return{recordPos:(0,U.useCallback)(()=>{if(!t.current||!n.current)return;let r=t.current.getBoundingClientRect().top;r7.set(e,r),setTimeout(()=>{a()},0)},[n,a,e,t]),restorePos:(0,U.useCallback)(()=>{if(!t.current||!n.current)return;let r=r7.get(e);if(void 0===r)return;let s=t.current.getBoundingClientRect().top;n.current.scrollTo({top:n.current.scrollTop+(s-r)}),a()},[n,a,e,t])}};var se=n(37719);let st=(0,U.memo)(function(e){let{style:t,count:n,index:a,onIndexChange:r,sessionId:s,messageId:o}=e,i=a<=0,l=a>=n-1,d=(0,U.useRef)(null),c=r5(),{recordPos:h,restorePos:p}=r8((0,F.XQ)(s,o).useBranchRestoreScrollPosKey(),d,c);return(0,U.useLayoutEffect)(()=>{p()},[]),(0,u.jsxs)("div",{className:se.wrap,style:t,ref:d,children:[(0,u.jsx)(rL.h,{size:"sm",className:se.icon,disabled:i,onClick:()=>{!i&&(h(),r(-1))},children:(0,u.jsx)(rE.PC,{})}),(0,u.jsxs)("div",{className:se.branch,children:[a+1," / ",n]}),(0,u.jsx)(rL.h,{size:"sm",className:se.icon,disabled:l,onClick:()=>{!l&&(h(),r(1))},children:(0,u.jsx)(rE._k,{})})]})});var sn=n(64486);function sa(e){let{options:t,onChange:n,name:a,value:r,defaultValue:s=null,variant:o="filled",disabled:i=!1,tail:l}=e,[d,c]=(0,U.useState)(s),h=void 0===r?d:r,[p,g]=(0,U.useState)(!1);return(0,u.jsxs)("div",{className:(0,Q.Z)("".concat(Z.F,"-radio-button-group"),i&&"".concat(Z.F,"-radio-button-group--disabled"),"".concat(Z.F,"-radio-button-group--").concat("bordered"===o?"bordered1":"filled"===o?"filled1":o)),role:"radiogroup",children:[t.map(e=>(0,u.jsx)(sr,{disabled:i,label:e.label,value:e.value,inputDomProps:e.inputDomProps,active:h===e.value,name:a,inputFocused:p,setInputFocused:g,onClick:()=>{c(e.value),null==n||n(e.value)}},e.value)),l?(0,u.jsx)("div",{className:"".concat(Z.F,"-radio-button-group-tail"),children:l}):null]})}function sr(e){let{label:t,value:n,active:a,name:r,inputDomProps:s,disabled:o,inputFocused:i,setInputFocused:l,onClick:d}=e,[c,h]=(0,U.useState)(!1),p=(0,U.useRef)(null);return(0,u.jsxs)("label",{className:(0,Q.Z)("".concat(Z.F,"-radio-button"),a&&"".concat(Z.F,"-radio-button--active"),c&&"".concat(Z.F,"-radio-button--focus")),onClick:o?void 0:d,children:[sn.G?(0,u.jsx)("div",{tabIndex:!i&&a?0:-1,style:{outline:"none"},onFocus:()=>{var e;null===(e=p.current)||void 0===e||e.focus()},"aria-hidden":"true"}):null,(0,u.jsx)("input",{...s,disabled:o,type:"radio",name:r,value:n,ref:p,className:"".concat(Z.F,"-radio-button__input"),onFocus:()=>{h(!0),l(!0)},onBlur:()=>{h(!1),l(!1)}}),t]},n)}function ss(e){let{rows:t,onChange:n,placeholder:a,textareaDomProps:r,autoHeight:s,autoWidth:o,variant:i="filled",value:l,defaultValue:d="",footer:c,theme:h,className:p,style:g,defaultFocused:m=!1,componentRef:f,addMidLayer:C=!1,midLayerClassName:v,elRef:x}=e,[S,E]=(0,U.useState)(d),b=void 0===l?S:l,[_,y]=(0,U.useState)(b),w=(0,U.useRef)(null);(0,U.useLayoutEffect)(()=>{if(s||o){let e=I.current;e&&(e.style.overflow="hidden",e.offsetWidth,e.style.overflow="")}},[s,o,_]);let I=(0,U.useRef)(null),[T,k]=(0,U.useState)(m);(0,U.useImperativeHandle)(f,()=>({focus:()=>{var e;null===(e=I.current)||void 0===e||e.focus()},blur:()=>{var e;null===(e=I.current)||void 0===e||e.blur()},setSelectionRange:(e,t)=>{var n;null===(n=I.current)||void 0===n||n.setSelectionRange(e,t)}}));let M=(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("textarea",{...r,onFocus:e=>{var t;k(!0),null==r||null===(t=r.onFocus)||void 0===t||t.call(r,e)},onBlur:e=>{var t;k(!1),null==r||null===(t=r.onBlur)||void 0===t||t.call(r,e)},ref:(0,n$.l)(I,x),placeholder:a,rows:t,className:(0,Q.Z)("".concat(Z.F,"-textarea__textarea"),null==r?void 0:r.className),value:b,onChange:e=>{y(e.currentTarget.value),E(e.currentTarget.value),null==n||n(e)}}),s||o?(0,u.jsxs)("div",{className:"".concat(Z.F,"-textarea__mirror"),ref:w,children:[_,(0,u.jsx)("br",{})]}):null]});return(0,u.jsxs)("div",{className:(0,Q.Z)("".concat(Z.F,"-textarea"),"".concat(Z.F,"-textarea--").concat(i),T&&"".concat(Z.F,"-textarea--focused"),s&&"".concat(Z.F,"-textarea--auto-height"),o&&"".concat(Z.F,"-textarea--auto-width"),p),style:{...g,"--ds-textarea-text-color":null==h?void 0:h.textColor,"--ds-textarea-color":null==h?void 0:h.color,"--ds-textarea-border-radius":null==h?void 0:h.borderRadius,"--ds-textarea-font-size":null==h?void 0:h.fontSize,"--ds-textarea-line-height":null==h?void 0:h.lineHeight,"--ds-textarea-padding":null==h?void 0:h.padding,"--ds-textarea-focus-color":null==h?void 0:h.focusColor,"--ds-textarea-focus-border-color":null==h?void 0:h.focusBorderColor},children:[C?(0,u.jsx)("div",{className:v,children:M}):M,c]})}n(84317),n(66744);var so=n(57645);let si=()=>so.A.next({method:"routerNavigate",args:{to:t8.ROOT}}),sl=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.pathname,n=(0,t7.LX)(t8.AGENT_SESSION,t2.l.resolvePathRelativeToPublicPath(t));return n&&n.params.sessionId===e},sd=(e,t)=>{sl(e)&&(si(),t2.l.tracker.info({name:"goHomepageWhenSessionInvalid",message:"session不可用回首页",payload:{invalidSessionId:e,source:t}}))};var sc=n(46688);let su=(e,t)=>{if(e.sessionInvalid){var n;null===(n=e.toastFn)||void 0===n||n.call(e),sd(t,"feedback")}};function sh(e){let{chatSessionId:t,messageId:n,show:a,onShowChange:r}=e,s=t2.a.useTranslate(),o=(0,U.useRef)(""),i=(0,U.useRef)(null),l=(0,eJ.pm)(),{feedbackMessage:d}=(0,F.RJ)();return(0,u.jsx)(nf,{children:(0,u.jsx)(eo,{appear:!0,show:a,onShowChange:e=>{r(e)},returnFocus:!1,children:(0,u.jsx)(el,{variant:"dialog",title:s("feedbackModalTitle"),style:{color:"var(--dsw-alias-label-primary)"},closeButtonNode:(0,u.jsx)(u.Fragment,{children:" "}),footer:(0,u.jsxs)(ed,{children:[(0,u.jsx)(nH,{variant:"outlined",onClick:()=>{r(!1)},children:s("cancel")}),(0,u.jsx)(nH,{variant:"primary",onClick:async()=>{r(!1);try{let e=await d(t,n,{feedbackType:F.HL.MessageFeedback.DISLIKE,feedbackTag:i.current,description:o.current});su(e,t)}catch(e){l.error({node:(0,U.createElement)(t2.a.ensureTranslateComponent("feedbackFailedToast")),description:s("feedbackFailedToast")})}},children:s("submit")})]}),onClose:()=>{r(!1)},children:(0,u.jsxs)("div",{className:sc.content,children:[(0,u.jsx)(sa,{name:"feedbackType",onChange:e=>{i.current=e},options:[{label:s("harmful"),value:"harmful"},{label:s("fake"),value:"fake"},{label:s("nonsense"),value:"nonsense"},{label:s("other"),value:"other"}]}),(0,u.jsx)(ss,{rows:4,onChange:e=>{o.current=e.currentTarget.value},placeholder:s("feedbackPlaceholder"),textareaDomProps:{"data-autofocus":!0,style:{resize:"vertical"}}})]})})})})}let sp=(0,U.memo)(function(e){let{disabled:t,onClick:n}=e,a=t2.a.useTranslate(),r=t?a("generatingDisableTooltip"):void 0;return(0,u.jsx)(rv.u,{isOpen:!!t&&void 0,placement:"bottom",renderTrigger:e=>{let{domProps:r,domRef:s}=e;return(0,u.jsx)(nH,{size:"sm",onClick:n,domRef:s,domProps:r,variant:"outlined",disabled:t,children:a("continueGenerationButton")})},children:r})});var sg=n(72132);let sm=e=>{let{results:t}=e;return(0,u.jsx)("div",{className:sg.siteLogoGroup,children:t.slice(0,4).map((e,t)=>(0,u.jsx)(rb,{url:e.siteIcon,className:sg.siteLogo,style:{"--site-icon-index":t,pointerEvents:"none"}},t))})};var sf=n(61718);let sC=e=>{let{sessionId:t,messageId:n}=e,a=(0,F.XQ)(t,n),r=a.deepSearch.useShowSearchSitesSummary(),s=a.deepSearch.useSearchResults("composed"),o=a.deepSearch.useSearchSitesText(s.length),i=(0,F.uF)(),l=F.aD.useIsShareSelecting(),d={sessionId:t,messageId:n,fragmentId:"composed"};return r&&s.length?(0,u.jsxs)("div",{className:sf.sites,onClick:l?void 0:()=>{i.autoToggleView(d)},children:[(0,u.jsx)(sm,{results:s}),(0,u.jsx)("span",{className:sf.text,children:o})]}):null};var sv=n(99630);let sx=(0,U.memo)(function(e){let{sessionId:t,messageId:n}=e,a=(0,F.XQ)(t,n),r=a.useTips("WARNING"),s=a.useIsWIP(),o=n8();return((0,U.useLayoutEffect)(()=>{!s&&r.length&&o()},[s,o,r.length]),s)?null:(0,u.jsx)(u.Fragment,{children:r.map(e=>(0,u.jsx)("div",{className:sv.messageRiskWarn,children:e.content},e.content))})});var sS=n(39721),sE=n(49741),sb=n(84063);let s_=(0,U.memo)(function(e){let{sessionId:t,messageId:n,isFromLastMessage:a}=e,r=(0,F.XQ)(t,n),s=(0,F.aK)(e=>{let a=e.getMessage(t,n);return a?a.feedback:null}),o=r.useBranchCount(),i=r.useBranchIndex(),{continueCompletion:l,feedbackMessage:d}=(0,F.RJ)(),c=(0,F.uF)(),h=r.useIsWIP(),p=!!r.useShowLoading(),g=r.useShowContinue()&&!p,m=sy({branchCount:o,isWIP:h,showLoading:p}),f=!h,C=r.useContinueButtonDisabled(),v=(0,F.cm)(),x=rq(e=>e.close),[S,E]=(0,U.useState)(!1),b=(0,U.useCallback)(e=>{v.closePreview(),c.closeSearchView(),x(),F.aK.getState().navigateMessageBranch(t,n,e)},[x,n,v,c,t]),_=a||S,y=F.aD.useIsShareSelecting();return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(sx,{messageId:n,sessionId:t}),(0,u.jsx)(sh,{chatSessionId:t,messageId:n,show:S,onShowChange:E}),(0,u.jsx)(sC,{sessionId:t,messageId:n}),(0,u.jsxs)(rN,{alignItems:"center",className:(0,Q.Z)(sE.wrap,y&&sb.hide),gap:10,children:[m?(0,u.jsx)(st,{onIndexChange:b,count:o,index:i,sessionId:t,messageId:n}):null,f?(0,u.jsx)(r$,{className:(0,Q.Z)(sS.actions,_&&sS.alwaysShowActions),sessionId:t,messageId:n,feedback:s,showFeedbackModal:S,onFeedbackChange:async e=>{su(await d(t,n,{feedbackType:e,feedbackTag:null,description:null}),t)},onDislikeClick:()=>{E(!0)},onCopy:()=>{aF(r.getCopyContent(c)),t2.l.tracker.info({name:"copyBotResponse",message:"复制机器人回复",payload:{}})}}):null,(0,u.jsx)("div",{style:{flex:1}}),g?(0,u.jsx)(sp,{disabled:C,onClick:()=>{l({chatSessionId:t,messageId:n})}}):null]})]})}),sy=e=>{let{branchCount:t,isWIP:n,showLoading:a}=e;return!a&&!n&&t>1};function sw(e){var t;let{size:n="m",status:a="none",children:r,defaultValue:o,checked:i,halfChecked:l,disabled:d,block:c,onChange:h,className:p,style:g}=e,m=ey(),f=null!==(t=null==m?void 0:m.status)&&void 0!==t?t:a,[C,v]=(0,U.useState)(o),x=void 0!==i?i:C,S=()=>{if(d)return;let e=!x;void 0===i&&v(e),null==h||h(e)},E=(0,U.useRef)(null);return(0,u.jsxs)("div",{className:(0,Q.Z)("".concat(Z.F,"-checkbox-wrapper"),d&&"".concat(Z.F,"-checkbox-wrapper--disabled"),c&&"".concat(Z.F,"-checkbox-wrapper--block"),"".concat(Z.F,"-checkbox-wrapper--").concat(n),p),style:g,children:[(0,u.jsx)("div",{className:"".concat(Z.F,"-checkbox-align-wrapper"),children:(0,u.jsx)("div",{ref:E,className:(0,Q.Z)("".concat(Z.F,"-checkbox"),"".concat(Z.F,"-checkbox--").concat(n),(x||l)&&"".concat(Z.F,"-checkbox--active"),d&&"".concat(Z.F,"-checkbox--disabled"),"".concat(Z.F,"-checkbox--").concat(f)),onClick:S,tabIndex:d?void 0:0,onKeyDown:e=>{"Enter"===e.key&&S()},children:x?s||(s=(0,u.jsx)("svg",{width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{d:"M11.5625 4.49518L7.61331 8.98248C7.35059 9.28094 7.11252 9.55346 6.89359 9.75201C6.66498 9.95932 6.38424 10.1559 6.0137 10.2217C5.81985 10.2561 5.62112 10.2582 5.42679 10.2266C5.05515 10.1662 4.77171 9.97269 4.54007 9.76862C4.31832 9.57324 4.07657 9.30444 3.8096 9.00983L2.44437 7.50397L3.55569 6.49615L4.92093 8.00299C5.21161 8.32377 5.38783 8.51724 5.53128 8.64362C5.60927 8.71232 5.65159 8.73725 5.668 8.74518C5.69553 8.74962 5.72354 8.75 5.75101 8.74518C5.72562 8.74984 5.75469 8.75955 5.88577 8.64069C6.02738 8.51225 6.20131 8.31621 6.48734 7.99127L10.4375 3.50494L11.5625 4.49518Z",fill:"currentColor"})})):l?(0,u.jsx)("svg",{width:"8",height:"2",viewBox:"0 0 8 2",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{d:"M0 0V2H8V0H0Z",fill:"white"})}):null})}),(0,u.jsx)("div",{className:"".concat(Z.F,"-checkbox-label"),onClick:S,onMouseDown:e=>{var t;d||(e.preventDefault(),null===(t=E.current)||void 0===t||t.focus())},children:r})]})}n(31409);var sI=n(19654);let sT=e=>{let{sessionId:t,messageId:n}=e,a=(0,F.lD)(),r=F.aD.useIsShareSelecting(),{selected:s,selectable:o}=F.aD.useMessageSelectStatus(t,n);return r?(0,u.jsx)("div",{className:sI.checkboxWrap,children:(0,u.jsx)(sw,{className:sI.checkbox,checked:s,disabled:!o,onChange:e=>{o&&a.toggleMessageSelection(n,e)}})}):null},sk=e=>{let{sessionId:t,messageId:n,children:a,className:r,onClick:s,style:o,domRef:i}=e,l=(0,F.lD)(),d=F.aD.useIsShareSelecting(),{selected:c,selectable:h}=F.aD.useMessageSelectStatus(t,n);return(0,u.jsxs)("div",{style:o,ref:i,className:(0,Q.Z)("ds-message",sb.wrapForShare,r,d&&sb.waitingSelection,c&&sb.selectedForShare,d&&!h&&sb.unselectable),onClickCapture:e=>{d&&h&&(e.stopPropagation(),l.toggleMessageSelection(n,!c)),null==s||s()},children:[(0,u.jsx)(sT,{messageId:n,sessionId:t}),a]})},sM=e=>new Promise((t,n)=>{let a=new Image;a.onload=t,a.onerror=n,a.src=e}),sj=e=>e.map(sM),sR=n.p+"static/thinkIconLight.200a7943a0.png",sA=n.p+"static/thinkIconDark.e31b2b1fcf.png";var sN=n(902),sL=n(68578);n(33096);let sF=(0,U.memo)(function(e){let{loading:t,style:n,sessionId:a,messageId:r,fragmentId:s}=e,o=(0,F.XQ)(a,r).fragment.useIsWIPThinking(s);return t?(0,u.jsx)(sP,{style:n,icon:(0,u.jsx)(sB,{})}):(0,u.jsx)(sP,{style:n,icon:o?(0,u.jsx)(sB,{}):sD,children:(0,u.jsx)(sO,{sessionId:a,messageId:r,fragmentId:s})})}),sO=(0,U.memo)(function(e){let{messageId:t,sessionId:n,fragmentId:a}=e,r=(0,F.XQ)(n,t),s=r.useMessageStatus(),o=[F.HL.MessageStatus.CONTENT_FILTER].includes(s),i=r.fragment.useFragment(a),l=null==i?void 0:i.content,d=r.useIsWIP(),c=sH({thinkingContent:l,isDangerous:o}),h=(0,er.of)({text:l||"",finished:!0}),p=rC(n,t,a),g=rA({sessionId:n,messageId:t});return c?(0,u.jsx)(rm,{citeProps:g,cacheKey:p,loading:d,content:h}):null}),sP=e=>{let{children:t,style:n,icon:a}=e;return(0,u.jsx)("div",{className:sN.thinkingWrap,style:n,children:(0,u.jsxs)("div",{className:(0,Q.Z)(sN.contentWrap,"ds-think-content"),children:[a,(0,u.jsx)("div",{className:sN.contentLine}),t]})})},sD=(0,u.jsx)(ej.J,{size:16,className:sN.contentIcon,children:(0,u.jsx)(rE.zz,{})}),sB=()=>{let e=(0,nm.F)();return(0,u.jsx)("img",{className:(0,Q.Z)(sL.loadingIcon,sN.contentIcon),src:e?sA:sR})},sH=e=>{let{thinkingContent:t,isDangerous:n}=e;return!n&&"string"==typeof t},sV=()=>{(0,U.useEffect)(()=>{sj([sR,sA])},[])};var sU=n(5478);let sW=(0,U.memo)(function(e){let{text:t,shimmerWidth:n=120,className:a,style:r,onAnimationEnd:s,onAnimationStart:o,paused:i,disabled:l}=e,d=(0,U.useRef)(null);return(0,u.jsxs)("span",{ref:d,className:(0,Q.Z)(sU.shimmer,a),style:r,onAnimationEnd:s,onAnimationStart:o,children:[t,l?null:(0,u.jsxs)("span",{className:sU.overlay,style:{animationPlayState:i?"paused":"running"},children:[(0,u.jsx)("span",{className:sU.moveBlock,style:{width:n}}),(0,u.jsx)("span",{className:sU.mirrorText,children:t})]})]})});var sG=n(10212);let sz=(0,U.forwardRef)(function(e,t){let{sessionId:n,messageId:a,isShowDetail:r,domRef:s,onToggle:o}=e,i=(0,F.XQ)(n,a),l=i.deepSearch.useShowDeepSearchGroup(),d=i.deepSearch.useDeepSearchGroupTitle(),c=i.deepSearch.useIsDeepSearching(),{selected:h}=F.aD.useMessageSelectStatus(n,a),p=(0,U.useRef)(null);return((0,U.useImperativeHandle)(t,()=>({onCoveringContent:e=>{p.current&&(p.current.style.opacity=e&&r?"1":"0")}})),l)?(0,u.jsxs)("div",{ref:s,className:(0,Q.Z)(sG.titleWrap,h&&sG.selected),onClick:e=>{e.stopPropagation(),o()},children:[(0,u.jsxs)("div",{className:sG.clickArea,children:[(0,u.jsx)(sW,{className:sG.titleText,text:d,disabled:!c}),(0,u.jsx)(ej.J,{size:14,children:r?(0,u.jsx)(rE.Er,{}):(0,u.jsx)(rE._k,{})})]}),(0,u.jsx)("div",{ref:p,className:(0,Q.Z)(sG.mask),onClick:e=>e.stopPropagation()})]}):null});var sZ=n(61949);let sq="search-query-item",sK=e=>{let{queries:t}=e,n=(0,U.useRef)(null);return(0,u.jsx)(nX,{onResize:()=>{if(!n.current)return;let e=Array.from(n.current.querySelectorAll(".".concat(sq))).filter(e=>e instanceof HTMLElement);e.forEach(e=>{e.style.setProperty("display",null),e.style.setProperty("width",null)});let t=n.current.getBoundingClientRect().width;e.forEach(e=>{if(0===t){e.style.display="none";return}let n=e.getBoundingClientRect().width+6;if(t>n){t-=n;return}e.style.display=t<30?"none":"inline-block",e.style.width="".concat(t-6,"px"),t=0})},forwardedRef:n,children:e=>{let{ref:n}=e;return(0,u.jsx)("div",{className:sZ.queryGroup,ref:n,children:t.map((e,t)=>(0,u.jsx)("span",{className:(0,Q.Z)(sZ.query,sq),style:{marginLeft:6},children:e},t))})}})},sY=n.p+"static/searchIconLight.052e93e4ea.png",sX=n.p+"static/searchIconDark.f0eb3f29b6.png";var s$=n(4553);let sQ=(0,U.memo)(function(e){let{loading:t,style:n,sessionId:a,messageId:r,fragmentId:s}=e,o=(0,F.XQ)(a,r).useIsWIP(),i=F.aD.useIsShareSelecting(),l=t2.a.useTranslate(),d=(0,F.uF)(),c=d.hooks.useSearchTitle(t?null:{sessionId:a,messageId:r,fragmentId:s}),h=(0,U.useMemo)(()=>(0,u.jsx)(s0,{}),[]),p=(null==c?void 0:c.phase)!=="read_results"||i?void 0:s$.clickable;if(t)return(0,u.jsx)(s1,{className:p,style:n,icon:h,children:(0,u.jsx)("span",{className:s$.content,children:l("messageSearching")})});if(!c)return null;let g="read_results"!==c.phase||i?void 0:()=>d.autoToggleView({sessionId:a,messageId:r,fragmentId:s}),m=("wait_query"===c.phase||"querying"===c.phase)&&o;return(0,u.jsx)(s1,{className:p,style:n,onClick:g,icon:m?h:null,children:(0,u.jsx)(sJ,{sessionId:a,messageId:r,fragmentId:s})})}),sJ=e=>{let{sessionId:t,messageId:n,fragmentId:a}=e,r=(0,F.uF)(),s=(0,F.XQ)(t,n),o=s.useIsWIP(),i=r.hooks.useSearchTitle({sessionId:t,messageId:n,fragmentId:a}),l=s.deepSearch.useSearchQueries(a),d=s.deepSearch.useSearchResults(a);return i?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(s3,{phase:i.phase,isWIP:o}),(0,u.jsx)("div",{className:s$.content,children:i.text}),"querying"===i.phase?(0,u.jsx)(sK,{queries:l.map(e=>e.query)}):null,"read_results"===i.phase?(0,u.jsx)(sm,{results:d}):null]}):null},s1=e=>{let{children:t,style:n,onClick:a,className:r,icon:s}=e;return(0,u.jsxs)("div",{className:(0,Q.Z)(s$.searchRow,r),style:n,onClick:a,children:[s,t]})},s0=()=>{let e=(0,nm.F)();return(0,u.jsx)("img",{className:sL.loadingIcon,src:e?sX:sY})},s2=["failed","interrupted","found_nothing"],s3=e=>{let{phase:t,isWIP:n}=e;switch(t){case"wait_query":case"querying":if(n)return null;return(0,u.jsx)(s6,{phase:t,children:(0,u.jsx)(rE.gK,{})});case"read_results":return(0,u.jsx)(s6,{phase:t,children:(0,u.jsx)(rE.SH,{})});case"found_nothing":case"failed":case"interrupted":return(0,u.jsx)(s6,{phase:t,children:(0,u.jsx)(rE.Db,{})});default:return(0,F.vv)(t),null}},s6=e=>{let{phase:t,children:n}=e;return(0,u.jsx)(ej.J,{size:16,className:(0,Q.Z)(s$.icon,s2.includes(t)&&s$.sadly),children:n})},s4=()=>{(0,U.useEffect)(()=>{sj([sY,sX])},[])};var s5=n(36807);let s9=e=>{let{sessionId:t,messageId:n,fragmentId:a}=e,r=(0,F.XQ)(t,n).fragment.useFragment(a),s=t2.a.useTranslate();return(0,u.jsxs)("div",{className:s5.wrap,children:[(0,u.jsx)(ej.J,{size:16,className:s5.icon,children:(0,u.jsx)(rE.od,{})}),(0,u.jsx)("span",{children:(null==r?void 0:r.content)||s("unsupportedFragment")})]})},s7=new Set,s8=e=>{(0,U.useEffect)(()=>(s7.add(e),()=>{s7.delete(e)}),[e])},oe=()=>s7.forEach(e=>e());var ot=n(64399);let on={marginTop:4,marginBottom:"var(--assistant-last-margin-bottom)"},oa={marginTop:4},or=e=>{let{sessionId:t,messageId:n,smartScrollRef:a}=e,r=(0,F.XQ)(t,n),s=r.useIsWIPRef(),o=r.deepSearch.useFragmentsInfoInDeepSearch(),[i,l]=(0,U.useState)(!0),d=(0,U.useRef)(null),{topRef:c,bottomRef:h}=os(d),p=n8(),g=r.useShowLoading(),m=6*!!nr(),f=r9();(0,U.useLayoutEffect)(()=>{a.current&&f(a.current,{topOcclusion:m})},[m,i,f,a]),(0,U.useLayoutEffect)(()=>{s.current&&p()},[o.length,s,p]),(0,U.useLayoutEffect)(()=>{g&&"dot"!==g&&p()},[g,p]);let C=!i||!o.length,v=i&&"search"===g,x=i&&"think"===g;return(0,u.jsxs)("div",{className:(0,Q.Z)(ot.deepSearch,C&&ot.noDetail),style:{"--deep-search-title-height":"38px","--group-title-sticky-top":m+"px"},children:[(0,u.jsx)(sz,{messageId:n,sessionId:t,isShowDetail:i,ref:d,onToggle:()=>{l(e=>{let t=!e;if(t){var n;null===(n=d.current)||void 0===n||n.onCoveringContent(!1)}return t})}}),(0,u.jsx)("div",{ref:c,className:ot.topCoverDetect}),...(i?o:[]).map((e,a)=>{let{type:r,id:s}=e;switch(r){case"SEARCH":return(0,u.jsx)(sQ,{loading:!1,messageId:n,sessionId:t,fragmentId:s,style:a?oa:void 0},a);case"THINK":return(0,u.jsx)(sF,{messageId:n,sessionId:t,fragmentId:s,loading:!1,style:a?oa:void 0},a);default:return(0,u.jsx)(s9,{sessionId:t,messageId:n,fragmentId:s},a)}}),v?(0,u.jsx)(sQ,{style:on,sessionId:t,messageId:n,fragmentId:"loading",loading:!0},o.length):null,x?(0,u.jsx)(sF,{style:on,loading:!0,fragmentId:"loading",sessionId:t,messageId:n},o.length):null,(0,u.jsx)("div",{ref:h,className:ot.bottomCoverDetect})]})},os=e=>{let t=r5(),n=(0,er.$0)(()=>{let e=a.current,n=r.current,s=t.current;if(!e||!n||!s)return!1;let o=e.getBoundingClientRect(),i=n.getBoundingClientRect(),l=s.getBoundingClientRect();return o.top<l.top&&i.bottom>=l.top}),a=(0,U.useRef)(null),r=(0,U.useRef)(null),s=(0,er.$0)(()=>{var t;let a=n();null===(t=e.current)||void 0===t||t.onCoveringContent(a)});return(0,U.useLayoutEffect)(()=>{s()},[s]),s8(s),{topRef:a,bottomRef:r}},oo=(0,U.createContext)({wip:!1}),oi=oo.Provider,ol=()=>(0,U.useContext)(oo);var od=n(21045);let oc=e=>{let{messageId:t}=e;return t2.l.useIsDebug()?(0,u.jsxs)("div",{className:od.id,children:["(debug) message_id: ",t]}):null},ou=(0,U.memo)(function(e){let{messageId:t,sessionId:n,isLast:a}=e,r=(0,F.XQ)(n,t);n5(r.useBranchIndex());let s=r.useMessageContent()||"",o=r.useIsWIP(),i=(0,er.of)({text:s,finished:!0}),l=(0,U.useRef)(null),d=rC(n,t,null),c=r.useShowLoading(),h=!r.fragment.useIsAnyInfoExistInMessage(),p=rA({sessionId:n,messageId:t}),g=r.useShowAssistantBottomThings(),m=(0,U.useMemo)(()=>({wip:o}),[o]),f=nr();return(0,u.jsxs)("div",{style:{"--assistant-last-margin-bottom":"32px"},className:(0,Q.Z)(sS.assistantMessage,a&&sS.isLast,g&&sS.showActions,f&&sS.shareView,c&&sS.showLoading),ref:l,children:[(0,u.jsxs)(sk,{sessionId:n,messageId:t,children:[(0,u.jsx)(oc,{messageId:t}),(0,u.jsx)(ae,{messageId:t,sessionId:n}),(0,u.jsxs)(oi,{value:m,children:[(0,u.jsx)(or,{sessionId:n,messageId:t,smartScrollRef:l}),(0,u.jsx)(rm,{citeProps:p,cacheKey:d,loading:o,content:i})]}),"dot"===c?(0,u.jsx)(nJ,{className:sS.loading}):null,h?(0,u.jsx)("div",{className:sS.blank}):null]}),g?(0,u.jsx)(s_,{sessionId:n,messageId:t,isFromLastMessage:a}):null]})}),oh={default:"解析失败",error40000:"未提取到文字",error40001:"未提取到文字",error40002:"未提取到文字",error40003:"解析失败",error40004:"解析失败",error40006:"解析失败",error40007:"解析失败",error40008:"解析失败",error40009:"未提取到文字",error50200:"服务器繁忙",error50201:"服务器繁忙",error50202:"服务器繁忙",error50300:"服务器繁忙",error50400:"服务器繁忙",error50401:"服务器繁忙",error50402:"服务器繁忙",error50403:"服务器繁忙"},op={zh_CN:oh,en_US:{default:"Parsing failed",error40000:"No text extracted",error40001:"No text extracted",error40002:"No text extracted",error40003:"Parsing failed",error40004:"Parsing failed",error40006:"Parsing failed",error40007:"Parsing failed",error40008:"Parsing failed",error40009:"No text extracted",error50200:"Server busy",error50201:"Server busy",error50202:"Server busy",error50300:"Server busy",error50400:"Server busy",error50401:"Server busy",error50402:"Server busy",error50403:"Server busy"}};var og=n(49393);let om=()=>document.body.clientWidth,of=(0,U.createContext)({width:om()}),oC=e=>{let{getWrap:t,children:n}=e,[a,r]=(0,U.useState)(om);(0,U.useEffect)(()=>{let e=new og.H(()=>{let e=t();e?r(ov(e)):r(om())}),n=t();return n&&e.observe(n),()=>e.disconnect()},[t]);let s=(0,U.useMemo)(()=>({width:a}),[a]);return(0,u.jsx)(of.Provider,{value:s,children:n})},ov=e=>{let t=getComputedStyle(e);return e.clientWidth-parseFloat(t.paddingLeft)-parseFloat(t.paddingRight)},ox=()=>(0,U.useContext)(of).width,oS=()=>616>ox()?2:3;function oE(e){let{type:t}=e;return F.Qs.getIsImageExt(t)?(0,u.jsx)(o_,{}):F.Qs.getIsPdfExt(t)?(0,u.jsx)(oy,{}):F.Qs.getIsTableExt(t)?(0,u.jsx)(ow,{}):(0,u.jsx)(ob,{})}function ob(){return(0,u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"28",viewBox:"0 0 24 28",fill:"none",children:[(0,u.jsx)("path",{d:"M16.5 0l7 7v15.6c0 2.25 0 3.375-.573 4.164a3 3 0 0 1-.663.663C21.475 28 20.349 28 18.1 28H5.9c-2.25 0-3.375 0-4.164-.573a3 3 0 0 1-.663-.663C.5 25.975.5 24.849.5 22.6V5.4c0-2.25 0-3.375.573-4.164a3 3 0 0 1 .663-.663C2.525 0 3.651 0 5.9 0h10.6z",fill:"url(#paint0_linear_4691_45251)"}),(0,u.jsx)("path",{d:"M16.5 0l7 7h-3.8c-1.12 0-1.68 0-2.108-.218a2 2 0 0 1-.874-.874C16.5 5.48 16.5 4.92 16.5 3.8V0z",fill:"#fff",fillOpacity:".55"}),(0,u.jsx)("path",{d:"M6 11.784c0-.433.351-.784.784-.784h10.432a.784.784 0 1 1 0 1.568H6.784A.784.784 0 0 1 6 11.784zM6 15.784c0-.433.351-.784.784-.784h10.432a.784.784 0 1 1 0 1.568H6.784A.784.784 0 0 1 6 15.784zM6.114 19.817c0-.433.35-.784.784-.784h6.318a.784.784 0 1 1 0 1.568H6.898a.784.784 0 0 1-.784-.784z",fill:"#fff"}),(0,u.jsx)("defs",{children:(0,u.jsxs)("linearGradient",{id:"paint0_linear_4691_45251",x1:"1.5",y1:"-1",x2:"23.5",y2:"28",gradientUnits:"userSpaceOnUse",children:[(0,u.jsx)("stop",{stopColor:"#6D93FF"}),(0,u.jsx)("stop",{offset:"1",stopColor:"#5A71F0"})]})})]})}let o_=()=>(0,u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"28",viewBox:"0 0 24 28",fill:"none",children:[(0,u.jsx)("path",{d:"M16.5 0l7 7v15.6c0 2.25 0 3.375-.573 4.164a3 3 0 0 1-.663.663C21.475 28 20.349 28 18.1 28H5.9c-2.25 0-3.375 0-4.164-.573a3 3 0 0 1-.663-.663C.5 25.975.5 24.849.5 22.6V5.4c0-2.25 0-3.375.573-4.164a3 3 0 0 1 .663-.663C2.525 0 3.651 0 5.9 0h10.6z",fill:"url(#paint0_linear_1707_59235)"}),(0,u.jsx)("path",{d:"M16.5 0l7 7h-3.8c-1.12 0-1.68 0-2.108-.218a2 2 0 0 1-.874-.874C16.5 5.48 16.5 4.92 16.5 3.8V0z",fill:"#fff",fillOpacity:".55"}),(0,u.jsx)("path",{d:"M8.654 16.592a.4.4 0 0 1 .692 0l2.803 4.806a.4.4 0 0 1-.345.602H6.196a.4.4 0 0 1-.345-.602l2.803-4.806z",fill:"#fff"}),(0,u.jsx)("path",{d:"M14.15 13.63a.4.4 0 0 1 .7 0l4.32 7.776a.4.4 0 0 1-.35.594h-8.64a.4.4 0 0 1-.35-.594l4.32-7.777z",fill:"#fff"}),(0,u.jsx)("circle",{cx:"7.3",cy:"11.8",r:"1.8",fill:"#fff"}),(0,u.jsx)("defs",{children:(0,u.jsxs)("linearGradient",{id:"paint0_linear_1707_59235",x1:"1.5",y1:"-1",x2:"23.5",y2:"28",gradientUnits:"userSpaceOnUse",children:[(0,u.jsx)("stop",{stopColor:"#84C4FF"}),(0,u.jsx)("stop",{offset:"1",stopColor:"#2DA5DC"})]})})]}),oy=()=>(0,u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"28",viewBox:"0 0 24 28",fill:"none",children:[(0,u.jsx)("path",{d:"M16.5 0l7 7v15.6c0 2.25 0 3.375-.573 4.164a3 3 0 0 1-.663.663C21.475 28 20.349 28 18.1 28H5.9c-2.25 0-3.375 0-4.164-.573a3 3 0 0 1-.663-.663C.5 25.975.5 24.849.5 22.6V5.4c0-2.25 0-3.375.573-4.164a3 3 0 0 1 .663-.663C2.525 0 3.651 0 5.9 0h10.6z",fill:"url(#paint0_linear_4691_18172)"}),(0,u.jsx)("path",{d:"M16.5 0l7 7h-3.8c-1.12 0-1.68 0-2.108-.218a2 2 0 0 1-.874-.874C16.5 5.48 16.5 4.92 16.5 3.8V0z",fill:"#fff",fillOpacity:".55"}),(0,u.jsx)("path",{d:"M16.72 18.7a4.618 4.618 0 0 1-2.678-1.086c-1.484.326-2.896.796-4.307 1.375-1.122 1.99-2.172 3.004-3.077 3.004-.18 0-.398-.036-.543-.145a1.067 1.067 0 0 1-.615-.977c0-.325.072-1.23 3.51-2.714a25.767 25.767 0 0 0 1.919-4.488c-.434-.869-1.375-3.004-.724-4.09.217-.398.652-.615 1.122-.579a1.2 1.2 0 0 1 .941.47c.47.652.434 2.027-.18 4.054a10.916 10.916 0 0 0 2.243 2.896c.76-.145 1.52-.254 2.28-.254 1.701.036 1.955.833 1.918 1.303 0 1.23-1.194 1.23-1.81 1.23zM6.586 20.944l.108-.037c.507-.18.905-.543 1.195-1.013a2.86 2.86 0 0 0-1.303 1.05zm4.813-10.858h-.108c-.036 0-.109 0-.145.036-.145.615-.036 1.267.217 1.846a3.041 3.041 0 0 0 .036-1.882zm.254 5.248l-.036.072-.037-.036a29.881 29.881 0 0 1-1.085 2.461l.072-.036v.072c.796-.29 1.665-.543 2.461-.724l-.036-.036h.108a11.088 11.088 0 0 1-1.447-1.773zm4.922 1.918c-.326 0-.615 0-.941.072.362.181.724.254 1.086.29a1.6 1.6 0 0 0 .724-.073c0-.108-.145-.29-.869-.29z",fill:"#fff"}),(0,u.jsx)("defs",{children:(0,u.jsxs)("linearGradient",{id:"paint0_linear_4691_18172",x1:"1.5",y1:"-1",x2:"23.5",y2:"28",gradientUnits:"userSpaceOnUse",children:[(0,u.jsx)("stop",{stopColor:"#FD6D3A"}),(0,u.jsx)("stop",{offset:"1",stopColor:"#F05A6B"})]})})]}),ow=()=>(0,u.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"28",viewBox:"0 0 24 28",fill:"none",children:[(0,u.jsx)("path",{d:"M16.5 0l7 7v15.6c0 2.25 0 3.375-.573 4.164a3 3 0 0 1-.663.663C21.475 28 20.349 28 18.1 28H5.9c-2.25 0-3.375 0-4.164-.573a3 3 0 0 1-.663-.663C.5 25.975.5 24.849.5 22.6V5.4c0-2.25 0-3.375.573-4.164a3 3 0 0 1 .663-.663C2.525 0 3.651 0 5.9 0h10.6z",fill:"url(#paint0_linear_4691_45180)"}),(0,u.jsx)("path",{d:"M16.5 0l7 7h-3.8c-1.12 0-1.68 0-2.108-.218a2 2 0 0 1-.874-.874C16.5 5.48 16.5 4.92 16.5 3.8V0z",fill:"#fff",fillOpacity:".55"}),(0,u.jsx)("path",{d:"M8.203 11a.455.455 0 0 0-.37.717l2.986 4.224-3.236 4.592a.454.454 0 0 0 .372.716h1.25c.15 0 .29-.073.374-.197l2.415-3.507 2.428 3.508a.455.455 0 0 0 .374.196h1.25a.455.455 0 0 0 .37-.718l-3.26-4.59 3.01-4.222a.455.455 0 0 0-.37-.719h-1.249a.455.455 0 0 0-.374.196l-2.178 3.14-2.168-3.14A.455.455 0 0 0 9.453 11h-1.25z",fill:"#fff"}),(0,u.jsx)("defs",{children:(0,u.jsxs)("linearGradient",{id:"paint0_linear_4691_45180",x1:"1.5",y1:"-1",x2:"23.5",y2:"28",gradientUnits:"userSpaceOnUse",children:[(0,u.jsx)("stop",{stopColor:"#84C768"}),(0,u.jsx)("stop",{offset:"1",stopColor:"#4BB477"})]})})]});var oI=n(73330);let oT=e=>{let{children:t,className:n,wrapperClassName:a,style:r}=e,{showLeftArrow:s,showRightArrow:o,beginRef:i,endRef:l,scroll:d,containerRef:c,onWheel:h}=function(){let[e,t]=(0,U.useState)(!1),[n,a]=(0,U.useState)(!1),r=(0,U.useRef)(null),s=(0,er.$z)(e=>{t(!e)});return{showLeftArrow:e,showRightArrow:n,beginRef:s,endRef:(0,er.$z)(e=>{a(!e)}),scroll:function(e){var t,n;null===(t=r.current)||void 0===t||t.focus(),null===(n=r.current)||void 0===n||n.scrollBy({left:"left"===e?-200:200,behavior:"instant"})},containerRef:r,onWheel:e=>{0===e.deltaX&&0!==e.deltaY&&e.currentTarget.scrollBy({left:Math.min(e.deltaY,60),behavior:"instant"})}}}();return(0,u.jsx)("div",{className:a,style:{position:"relative"},children:(0,u.jsxs)("div",{className:oI.container,ref:c,tabIndex:-1,onWheel:h,children:[s&&(0,u.jsx)("div",{className:(0,Q.W)(oI.navMask,oI.left),children:(0,u.jsx)(rL.h,{className:oI.button,onClick:()=>d("left"),children:(0,u.jsx)(rE._k,{})})}),o&&(0,u.jsx)("div",{className:(0,Q.W)(oI.navMask,oI.right),style:r,children:(0,u.jsx)(rL.h,{className:oI.button,onClick:()=>d("right"),children:(0,u.jsx)(rE._k,{})})}),(0,u.jsx)("div",{style:{position:"relative",zIndex:100,left:"1px"},ref:i}),(0,u.jsx)("div",{className:n,children:t}),(0,u.jsx)("div",{style:{position:"relative",zIndex:100,right:"5px"},ref:l})]})})};oT.displayName="ScrollArrows";var ok=n(27267);function oM(e){let{fileList:t,readOnly:n,onFileDelete:a,closeButtonOffset:r,style:s,lastLineLeft:o}=e,i=nr(),l=t2.a.useTranslate();i&&(t=t.slice(0,1).map(e=>({...e,fileName:l.shareFile,status:F.dV.FileParseStatus._CUSTOM_FROM_SHARE})));let d=(0,U.useRef)(null);return(0,u.jsx)(oC,{getWrap:()=>d.current||null,children:(0,u.jsx)("div",{ref:d,className:ok.inMessage,style:{...s,marginTop:-(r||0),paddingTop:r},children:(0,u.jsx)(oR,{fileList:t,readOnly:n,onFileDelete:a,lastLineLeft:o})})})}function oj(e){let{fileList:t,readOnly:n,onFileDelete:a,closeButtonOffset:r,style:s}=e;return(0,u.jsx)(oT,{className:(0,Q.Z)(ok.inInput),style:{...s,marginTop:-(r||0),paddingTop:r},children:(0,u.jsx)(oR,{fileList:t,readOnly:n,onFileDelete:a})})}let oR=(0,U.memo)(function(e){let{fileList:t,readOnly:n,onFileDelete:a,lastLineLeft:r}=e;return(0,u.jsx)(u.Fragment,{children:t.map((e,s)=>(0,u.jsx)(oL,{file:e,readOnly:n,onDelete:n?()=>{}:()=>a(e),sideNode:(0,u.jsx)(oA,{idx:s,fileList:t,lastLineLeft:r})},e.renderKey))})}),oA=(0,U.memo)(function(e){let{idx:t,fileList:n,lastLineLeft:a}=e,r=oS();return a&&oN(t,n.length,r)?a:null}),oN=(e,t,n)=>{let a=t%n;return a?e===t-a:e===t-n};function oL(e){let{file:t,readOnly:n,onDelete:a,sideNode:r}=e,s=t.status===F.dV.FileParseStatus._CUSTOM_FROM_SHARE,o=t2.a.useTranslate(),i=t2.a.useLocale(),l=(0,eJ.pm)(),d=function(){let e=(0,U.useCallback)((e,t)=>op[t][e],[]);return(t,n)=>{let a=t?"error".concat(t):"default";return e(a in oh?a:"default",n)}}(),c=(0,F.cm)(),{isRequireDelete:h,isUploadFailed:p}=(0,F.hP)(e=>e.getIsRequireDelete(t.id)),g=(0,F.Dk)(t.fileName,"upper"),{formatStr:m}=(0,F.Hi)(t.fileSize),f=c.hooks.usePreviewType(t),C=(0,U.useCallback)(e=>{e.stopPropagation(),c.matchCurrentPreviewFile(t)&&c.closePreview(),a()},[t,a,c]),v=async e=>{e.stopPropagation(),f&&(t2.l.tracker.info({name:"previewFile",message:"点击预览文件",payload:{type:f,fileName:t.fileName,id:t.id}}),(await c.previewFile(t)).success||l.error(o("previewFileFail")))},x=!h&&[F.dV.FileParseStatus.PENDING,F.dV.FileParseStatus.PARSING].includes(t.status);return(0,u.jsxs)("div",{className:(0,Q.Z)(ok.fileItem,h&&ok.failed,!!f&&ok.couldPreview),onClick:v,children:[r,(0,u.jsxs)("div",{className:ok.fileItemBox,children:[(0,u.jsx)(ej.J,{className:(0,Q.Z)(ok.fileIcon,h&&ok.failedFile),size:28,children:x?(0,u.jsx)(tT.g,{size:20,className:ok.loadingWrapper}):(0,u.jsx)(oE,{type:g})}),(0,u.jsxs)("div",{className:ok.content,children:[(0,u.jsx)(rv.u,{hoverable:!0,checkEllipsis:!0,theme:{maxWidth:"80vw"},disabled:s,renderTrigger:e=>{let{domProps:a,domRef:r,ellipsisDomRef:o}=e;return(0,u.jsxs)("div",{className:ok.captionRow,ref:r,children:[(0,u.jsx)("div",{...a,className:(0,Q.Z)(ok.caption,s&&ok.shareCaption),ref:o,children:t.fileName}),(0,u.jsx)("div",{className:(0,Q.Z)(h&&!n&&ok.forceShow,!n&&ok.hoverToShow)})]})},children:t.fileName}),(0,u.jsx)("div",{className:ok.subCaption,children:(e=>{var t,n;if(null===(t=F.hP.getState().getFileUploadInfo(e.id))||void 0===t?void 0:t.isUploading)return o("uploadFileStatusUploading");if(p)return(null===(n=F.hP.getState().getFileUploadInfo(e.id))||void 0===n?void 0:n.failedMsg)||o("uploadFileStatusFailed");switch(e.status){case F.dV.FileParseStatus.SUCCESS:return"".concat(g," ").concat(m);case F.dV.FileParseStatus.PENDING:return o("fileParseQueuing");case F.dV.FileParseStatus.PARSING:return o("uploadFileStatusParsing");case F.dV.FileParseStatus.CONTENT_FILTER:return t2.l.isMobile?o("uploadFileStatusContentFilterForMobile"):o("uploadFileStatusContentFilter");case F.dV.FileParseStatus.CONTENT_EMPTY:return o("uploadFileStatusContentEmpty");case F.dV.FileParseStatus.CONTENT_TOO_LONG:return o("fileContentTooLong");case F.dV.FileParseStatus.FAILED:return d(e.errorCode,i);case F.dV.FileParseStatus.CANCELLED:return o("fileParseFailed");case F.dV.FileParseStatus._CUSTOM_SYSTEM_ERROR_FAIL:return o("systemServiceException");case F.dV.FileParseStatus._CUSTOM_FROM_SHARE:return o.shareFileNoPreview;default:return(0,F.vv)(e.status),""}})(t)})]}),!n&&(h?(0,u.jsx)(oO,{onClick:C}):(0,u.jsx)(oF,{onClick:C}))]})]})}function oF(e){let{onClick:t}=e;return(0,u.jsx)("div",{onClick:t,className:(0,Q.Z)(ok.closeButton,t2.l.isMobile&&ok.opaque),children:(0,u.jsx)(ej.J,{size:14,children:(0,u.jsx)(rE.lr,{})})})}function oO(e){let{onClick:t}=e;return(0,u.jsx)("div",{onClick:t,className:(0,Q.Z)(ok.closeButton,ok.failedCloseButton,t2.l.isMobile&&ok.opaque),children:(0,u.jsx)(ej.J,{size:14,children:(0,u.jsx)(rE.lr,{})})})}let oP=(0,U.memo)(function(e){let{messageId:t,sessionId:n,lastLineLeft:a}=e,r=F.aD.useIsShareSelecting(),s=(0,F.aK)(e=>e.getMessage(n,t));if(!s)return null;let o=s.files;return(null==o?void 0:o.length)?(0,u.jsx)(oM,{readOnly:!0,fileList:o.map(e=>({...e,renderKey:e.id})),onFileDelete:()=>{},style:{marginBottom:0,maxHeight:"none",position:"relative",overflow:"visible",pointerEvents:r?"none":"auto"},lastLineLeft:a}):null});var oD=n(29316);let oB=e=>{let{sessionId:t,messageId:n,mode:a}=e,{resendMessage:r}=(0,F.RJ)(),s=t2.a.useTranslate(),o=(0,U.useRef)(!1),i=F.FW.useSessionChatStatus(t)===F.uT.idle,{thinkingEnabled:l,searchEnabled:d}=rH(),c=i?s("resendButtonTooltip"):s("generatingDisableTooltip");return(0,u.jsx)(rv.u,{placement:"bottom",renderTrigger:e=>{let{domProps:c,domRef:h}=e;return(0,u.jsx)(ek.h,{forceSvgColor:!1,domProps:c,domRef:h,className:(0,Q.Z)(oD.resendButton,!i&&oD.disabled,"files"===a?oD.besideFiles:oD.besideContent),theme:{hoverColor:"transparent"},onClick:e=>{"click"===e.source&&e.evt.stopPropagation(),i&&!o.current&&r({sessionId:t,messageId:n,getPowRes:()=>rz({t:s,scene:"completion_like",setIsSolvingChallenge:e=>{o.current=e}}),thinkingEnabled:l,searchEnabled:d})},children:(0,u.jsx)(oH,{})})},children:c})},oH=()=>(0,u.jsx)("div",{className:oD.resentIcon,children:(0,u.jsx)(ej.J,{size:14,children:(0,u.jsx)(rE.Yj,{})})}),oV=()=>{let e=(0,U.useRef)(!1),t=10*!!X.G6;return{isComposingRef:e,onCompositionStart:()=>{e.current=!0},onCompositionEnd:()=>{setTimeout(()=>{e.current=!1},t)}}};var oU=n(44570);let oW=(0,U.forwardRef)(function(e,t){let{sessionId:n,messageId:a,onCancelEdit:r}=e,{editMessage:s}=(0,F.RJ)(),o=t2.a.useTranslate(),i=(0,U.useRef)(null),l=(0,F.XQ)(n,a),d=l.useFilesCount(),c=l.useMessageContent()||"",h=0===c.trim().length,[p,g]=(0,U.useState)(()=>h),m=(0,U.useRef)(""),{isComposingRef:f,onCompositionStart:C,onCompositionEnd:v}=oV(),x=(0,F.uF)(),S=(0,F.aK)(e=>{let t=e.getMessage(n,a);return!!t&&t.isEditing});(0,U.useEffect)(()=>{S&&(m.current=c)},[S,c]),(0,U.useEffect)(()=>{if(S){var e,t;null===(e=i.current)||void 0===e||e.focus(),null===(t=i.current)||void 0===t||t.setSelectionRange(c.length,c.length)}},[S]);let{thinkingEnabled:E,searchEnabled:b}=rH(),_=(0,F.aK)(e=>{if(!S)return!1;let t=e.getSession(n);return!!t&&t.state!==F.HL.SessionStateEnum.idle})||p;(0,U.useImperativeHandle)(t,()=>({setEditingPromptEmpty:g}));let y=async()=>{t2.l.tracker.info({name:"editMessageSubmited",message:"用户编辑消息",payload:{sessionId:n,messageId:String(a)}}),x.closeSearchView(),s({chatSessionId:n,messageId:a,prompt:m.current,searchEnabled:b,getPowRes:()=>rz({t:o,scene:"completion_like",setIsSolvingChallenge:e=>{F.aK.getState().updateSession(n,t=>{t.state=e?F.HL.SessionStateEnum.sending:F.HL.SessionStateEnum.idle})}}),thinkingEnabled:E},{onSent:()=>{so.A.next({method:"onStartReceiveEditMessage",args:null})}})},{ScrollAreaGutters:w,containerDomRef:I,onContainerScroll:T,className:k}=(0,nK.fu)({verticalScrollbarWidth:6,verticalScrollbarInsets:{top:22,bottom:0,leading:0,trailing:2}}),M=(0,u.jsx)(ss,{defaultFocused:!0,componentRef:i,elRef:I,defaultValue:c,onChange:e=>{m.current=e.currentTarget.value,g(!e.currentTarget.value.trim().length)},autoHeight:!0,variant:"bordered",className:(0,Q.Z)(oU.textarea,d&&oU.belowFiles),theme:{padding:"10px 16px 0 16px",borderRadius:"22px",lineHeight:"24px",fontSize:"16px",focusColor:"var(--dsw-alias-bg-layer-2)",focusBorderColor:"var(--dsw-alias-brand-primary)"},addMidLayer:!0,midLayerClassName:oU.textareaMidLayer,footer:(0,u.jsxs)(rN,{justifyContent:"flex-end",style:{margin:"6px 10px 10px 10px"},children:[(0,u.jsx)(nH,{size:"sm",variant:"outlined",onClick:r,children:o("editMessageCancelButton")}),(0,u.jsx)(rv.u,{placement:"bottom",isOpen:!!_&&void 0,renderTrigger:e=>{let{domProps:t,domRef:n}=e;return(0,u.jsx)(nH,{size:"sm",domProps:t,domRef:n,disabled:_,onClick:y,children:o("editMessageSendButton")})},children:_?o("generatingDisableTooltip"):void 0})]}),textareaDomProps:{name:"user query",className:(0,Q.Z)(k,oU.overscrollContain),onScroll:T,onKeyDown:e=>{!f.current&&("Enter"!==e.key||(e.ctrlKey||t2.l.isMobile?(e.preventDefault(),document.execCommand("insertText",!1,"\n")):e.shiftKey||!m.current.trim().length||_||(e.preventDefault(),y())))},onCompositionStart:C,onCompositionEnd:v}});return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(w,{}),M]})}),oG=(0,U.memo)(oW);var oz=n(61241);let oZ="data-escape-transition",oq=e=>{let{messageContent:t,onStartEdit:n,sessionId:a,messageId:r,style:s}=e,o=nr(),i=(0,F.q_)(r),l=(0,F.XQ)(a,r).useIsLastUserMessage(),d=F.aD.useIsShareSelecting(),c=(0,U.useRef)(null);return(0,U.useEffect)(()=>{requestAnimationFrame(()=>{c.current&&c.current.removeAttribute(oZ)})},[]),(0,u.jsxs)("div",{className:(0,Q.Z)(oz.actionsWithBranch,d&&sb.hide),style:s,children:[(0,u.jsxs)(rN,{alignItems:"flex-end",className:(0,Q.Z)(oz.userMessageActions,l&&oz.alwaysShow),gap:0,domRef:c,domProps:{[oZ]:!0},children:[(0,u.jsx)(rP,{onClick:()=>{aF(t),t2.l.tracker.info({name:"copyUserMessage",message:"复制用户prompt",payload:{}})}}),!o&&(0,u.jsx)(oX,{disabled:i,onStartEdit:i?void 0:n})]}),(0,u.jsx)(oK,{messageId:r,sessionId:a})]})},oK=e=>{let{sessionId:t,messageId:n}=e,a=(0,F.uF)(),r=(0,F.cm)(),s=(0,F.XQ)(t,n),o=s.useBranchCount(),i=s.useBranchIndex(),l=rq(e=>e.close);n5(i);let d=(0,U.useCallback)(e=>{r.closePreview(),a.closeSearchView(),l(),F.aK.getState().navigateMessageBranch(t,n,e)},[l,n,r,a,t]);return o<=1?null:(0,u.jsx)(st,{onIndexChange:d,count:o,index:i,style:oY,sessionId:t,messageId:n})},oY={marginLeft:10,top:1,position:"relative"},oX=e=>{let{onStartEdit:t,disabled:n}=e,a=t2.a.useTranslate();return(0,u.jsx)(rv.u,{placement:"bottom",renderTrigger:e=>{let{domProps:a,domRef:r}=e;return(0,u.jsx)(rL.h,{style:{marginLeft:10},className:oz.editButton,disabled:n,onClick:t,domRef:r,domProps:{...a,onKeyDown:e=>{"Enter"===e.key&&e.preventDefault()}},children:(0,u.jsx)(rE.zv,{})})},children:a(n?"editDisableTooltip":"editMessageTooltip")})};var o$=n(58279);let oQ=e=>{let{messageId:t,sessionId:n}=e,a=(0,F.aK)(e=>{let a=e.getMessage(n,t);return!!a&&a.isEditing}),r=(0,U.useRef)(null),s=(0,F.XQ)(n,t),o=s.useMessageHint(),i=s.useMessageContent()||"",l=0===i.trim().length,d=(0,u.jsx)(oq,{messageId:t,sessionId:n,messageContent:i,onStartEdit:()=>p(!0)}),c=(0,F.aK)(e=>e.updateMessage),h=(0,U.useRef)(()=>void 0);h.current=()=>{t2.l.tracker.info({name:"clickEditMessageButton",message:"用户点击消息编辑按钮",payload:{}})};let p=(0,U.useCallback)(e=>{if(c(n,t,t=>{t.isEditing=e}),e)h.current();else{var a;null===(a=r.current)||void 0===a||a.setEditingPromptEmpty(l)}},[c,n,t,l]);return(0,u.jsxs)(u.Fragment,{children:[a?(0,u.jsx)(oG,{messageId:t,sessionId:n,onCancelEdit:()=>p(!1),ref:r}):null,a?null:(0,u.jsx)("div",{className:o$.bottomWrap,children:o?(0,u.jsxs)("div",{className:o$.hintWithBranch,children:[o.content?(0,u.jsx)("span",{className:o$.hint,children:o.content}):null,d]}):d})]})},oJ=(0,U.memo)(function(e){let{messageId:t,sessionId:n}=e,a=(0,F.XQ)(n,t),r=a.useMessageContent()||"",s=a.useMessageHint(),o=(0,F.aK)(e=>{let a=e.getMessage(n,t);return!!a&&a.isEditing}),i=0===r.trim().length,l=a.useFilesCount(),d=(null==s?void 0:s.clickBehavior)===F.FT.CloseClickBehavior.retry,c=!(o||i),h=!o&&d&&i,p=e=>(0,u.jsx)(oB,{messageId:t,sessionId:n,mode:e});return(0,u.jsxs)("div",{className:(0,Q.Z)(oz.userMessageContainer,o&&oz.editing),children:[(0,u.jsxs)(sk,{sessionId:n,messageId:t,className:oz.wrapForShare,children:[(0,u.jsx)(oc,{messageId:t}),(0,u.jsx)(oP,{messageId:t,sessionId:n,lastLineLeft:h?p("files"):void 0}),c?(0,u.jsxs)("div",{className:(0,Q.Z)(oz.userMessage,l&&oz.belowFiles),children:[r,d?p("content"):null]}):null]}),(0,u.jsx)(oQ,{sessionId:n,messageId:t})]})}),o1=e=>{let t=ns(),n=nn(t8.ROOT);return{onClick:()=>{t2.l.tracker.info({name:"createSessionClicked",message:"点击了开启新对话按钮",payload:{position:e}}),n||t(t8.ROOT)},isInNewChat:null!=n}};var o0=n(15495);let o2=(0,U.memo)(function(){let e=t2.a.useTranslate(),{onClick:t,isInNewChat:n}=o1("bottom");return n?null:(0,u.jsx)(nN,{variant:"secondary",icon:(0,u.jsx)(rE.TI,{}),onClick:t,className:o0.newChatButton,children:e("agentSelectionCreateSessionTooltip")})}),o3=(0,U.createContext)({historyMessageCache:null}),o6=()=>{let e=(0,U.useContext)(o3).historyMessageCache;if(!e)throw Error("historyMessageCache not provided");return e},o4=async(e,t)=>{try{return new Promise(n=>window.collectEvent("getVar",e,t,n))}catch{return t}},o5=new class{onLogout(){this.promiseCache={},this.valueCache.clear()}constructor(){(0,ab._)(this,"promiseCache",{}),(0,ab._)(this,"valueCache",new Map),(0,ab._)(this,"getAbTestResult",async(e,t)=>{let n=this.promiseCache[e];return n||(n=o4(e,t).then(t=>(this.valueCache.set(e,t),t)),this.promiseCache[e]=n),n}),(0,ab._)(this,"prefetchAbTest",e=>{for(let t of e)this.getAbTestResult(t,null)}),(0,ab._)(this,"getAbTestInstantResult",(e,t)=>{if(!this.valueCache.has(e))return this.getAbTestResult(e,t),t;{let n=this.valueCache.get(e);return null===n?t:n}})}};var o9=n(3183);let o7=e=>{let{show:t,onShowChange:n,onConfirm:a}=e,[r,s]=(0,U.useState)(!1),o=t2.a.useTranslate(),i=async()=>{s(!0);try{await a(),n(!1),s(!1)}catch{s(!1)}};return(0,u.jsx)(eo,{appear:!0,show:t,onShowChange:n,children:(0,u.jsx)(el,{variant:"dialog",title:o.shareCreateLink,closeButtonNode:(0,u.jsx)(rL.h,{onClick:()=>n(!1),children:(0,u.jsx)(rE.xM,{})}),footer:(0,u.jsx)(nH,{variant:"primary",size:"xl",onClick:i,loading:r,disabled:r,style:{width:"100%"},children:o.shareCreateLinkButton}),onClose:()=>n(!1),children:(0,u.jsx)("div",{style:{padding:"16px 0"},children:o.shareCreateLinkInform})})})},o8={sm:"(min-width: 640px)",md:"(min-width: 768px)",lg:"(min-width: 1024px)",xl:"(min-width: 1280px)","2xl":"(min-width: 1536px)","3xl":"(min-width: 1920px)"},ie=(0,e1.Ue)(e=>({screenWidthBreakpointMap:{sm:!1,md:!1,lg:!1,xl:!1,"2xl":!1,"3xl":!1},setScreenWidthBreakpointMap:(t,n)=>e(e=>({screenWidthBreakpointMap:{...e.screenWidthBreakpointMap,[t]:n}}))})),it=(e,t)=>{let n=window.matchMedia(e);t(n.matches);let a=e=>{let{matches:n}=e;t(n)};return n.addListener(a),()=>n.removeListener(a)},ia=!1,ir=()=>{if(ia)return;ia=!0;let e=new Set;for(let[t,n]of Object.entries(o8)){let a=it(n,e=>{ie.getState().setScreenWidthBreakpointMap(t,e)});e.add(a)}return()=>{ia=!1,e.forEach(e=>e()),e.clear()}},is=()=>ie(e=>!e.screenWidthBreakpointMap.md),io=()=>ie(e=>!e.screenWidthBreakpointMap.lg),ii=()=>ie(e=>!e.screenWidthBreakpointMap.sm),il=()=>ie(e=>e.screenWidthBreakpointMap["3xl"]),id=()=>{let e=na(),t=F.aD.useSessionIsWaitingSelection(e),n=(0,F.lD)(),a=(0,eJ.pm)(),[r,s]=(0,U.useState)(!1),o=t2.a.useTranslate(),i=F.aD.useSelectedMessagesCount(e),l=F.aD.useSelectedMessages(e),d=F.aD.useSelectableMessageIds(e),c=async()=>{e&&i>0&&s(!0)},h=async()=>{if(e&&i>0)try{let t=await n.createShare(e,l),r=no(t);await navigator.clipboard.writeText(r),a.success({node:o.shareCreateLinkCopiedToast,description:"分享链接已复制"}),t2.l.tracker.info({name:"createShare",message:"创建分享链接",payload:{shareId:t,messageCount:i}}),n.toggleShareSelection(e,!1)}catch(t){throw t2.l.tracker.error({name:"createShareError",message:"创建分享链接失败",payload:t2.l.tracker.withError(t,{sessionId:e})}),a.error(o.shareCreateLinkFailedToast),t}},p=ii();if(!t)return null;let g=i===d.length&&i>0,m=i>0&&!g,f=Math.floor(i/2);return(0,u.jsx)("div",{className:o9.panel,children:(0,u.jsxs)("div",{className:o9.content,children:[(0,u.jsx)(sw,{variant:"bordered",checked:g,halfChecked:m,onChange:()=>{e&&(i===d.length?d.forEach(e=>{n.toggleMessageSelection(e,!1)}):d.forEach(e=>{n.toggleMessageSelection(e,!0)}))},children:o.shareSelectAll}),!p&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"2",height:"15",viewBox:"0 0 2 15",fill:"none",style:{color:"var(--dsw-alias-border-l3)"},children:(0,u.jsx)("path",{d:"M1 0.5V14.5",stroke:"currentColor"})}),(0,u.jsx)("span",{className:o9.count,children:o(1===f?"shareSingularMessageSelected":"sharePluralMessageSelected")(f)})]}),(0,u.jsxs)("div",{className:o9.actions,children:[(0,u.jsx)(nH,{variant:"outlined",onClick:()=>{e&&n.toggleShareSelection(e,!1)},children:o.cancel}),(0,u.jsx)(nH,{variant:"primary",onClick:c,disabled:0===i,icon:(0,u.jsx)(rE.U5,{}),children:o.shareCreateLink})]}),(0,u.jsx)(o7,{show:r,onShowChange:s,onConfirm:h})]})})};var ic=n(4749);function iu(){let e=t2.a.useTranslate();return(0,u.jsxs)("div",{className:(0,Q.Z)(ic.warning),children:[(0,u.jsx)(rE.GF,{}),(0,u.jsx)("span",{children:e.shareContentWarning})]})}var ih=n(27329);let ip=e=>{let{loadHistory:t}=e,n=t2.a.useTranslate();return(0,u.jsx)("div",{className:ih.error,children:(0,u.jsx)("div",{children:n("historyLoadFailed")({renderRetryButton:e=>(0,u.jsx)(eQ.z,{theme:{textColor:"var(--dsw-alias-brand-text)"},variant:"text",onClick:t,children:e})})})})},ig=(e,t)=>"S".concat(e,"_M").concat(t),im=e=>{if(!e)return!1;let t=F.aK.getState().getSession(e);return!t||t.state===F.HL.SessionStateEnum.idleWithNoHistory},iC=(0,U.memo)(function(e){let{inputNode:t}=e,n=na(),a=nr(),r=(0,F.lD)(),s=F.aD.useShareContent(a),{fetchSessionHistory:o}=(0,F.af)(),i=o6(),l=(0,F.aK)(e=>e.getMessage),d=a?(0,F.S2)(a):n,c=F.FW.useMessagePath(d),h=null==s?void 0:s.messages.map(e=>e.id),p=null!=h?h:c,g=(0,U.useCallback)(()=>{if(!n){a&&r.fetchShareContent(a);return}o(n,{cache:i,isManual:!0}).then(e=>{let{exist:t,sessionDeleted:a,gotSession:r}=e;!t&&(a||!r)&&sd(n,"loadHistory")})},[n,o,i,a,r]);(0,U.useEffect)(()=>{im(d)&&g()},[g,d]),(0,U.useEffect)(()=>{r.exitSelection()},[n,r]);let m=(0,F.aK)(e=>{if(!d)return"loaded";let t=e.getSession(d);return t&&t.state!==F.HL.SessionStateEnum.fetchingHistory&&t.state!==F.HL.SessionStateEnum.idleWithNoHistory?t.state===F.HL.SessionStateEnum.historyError?"error":"loaded":"loading"}),f=(0,U.useMemo)(()=>p.map((e,t)=>{let n=l(d,e);if(!n)return null;switch(n.role){case F.HL.MessageRole.ASSISTANT:return(0,u.jsx)(ou,{sessionId:d,messageId:n.id,isLast:t===p.length-1},ig(d,n.id));case F.HL.MessageRole.USER:return(0,u.jsx)(oJ,{messageId:n.id,sessionId:d},ig(d,n.id));default:return(0,F.vv)(n.role),null}}),[l,p,d]),C=(0,er.mJ)("loading"===m,{showDelay:500,minDuration:200},d),v="loading"===m||C;return(0,u.jsx)(iv,{sessionLoading:v,inputNode:t,children:v?C?(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(tT.g,{className:ih.messageListLoading})}):null:"error"===m?(0,u.jsx)(ip,{loadHistory:g}):(0,u.jsx)("div",{className:ih.messageListScrollWrapper,children:f})})});function iv(e){let{sessionLoading:t,children:n,inputNode:a}=e,r=(0,U.useRef)(null),s=n4();r4(r);let o=(0,U.useCallback)(()=>{if(!r.current)return;let e=r.current;e.scrollTop+e.offsetHeight>e.scrollHeight-300?s(!1):s(!0)},[s]);(0,U.useLayoutEffect)(()=>()=>s(!1),[s]);let i=(0,U.useCallback)(e=>{r.current&&(e.slice(),r.current.scrollTop=r.current.scrollHeight)},[]),l=(0,U.useRef)(!0);(0,U.useEffect)(()=>{let e=so.A.subscribe({next:e=>{let{method:t}=e;"clickButtonToScrollToBottom"===t&&i(t)}});return()=>e.unsubscribe()},[i]);let d=(0,U.useCallback)(()=>{let e=r.current;e&&(l.current=e.scrollTop+e.offsetHeight>=e.scrollHeight-1,o())},[o]);n9(d);let c=na(),h=(0,U.useRef)(!1),p=F.FW.useScrollToBottomCounter(c),g=F.FW.useScrollToBottomCounter(c,!0);(0,U.useEffect)(()=>{so.A.subscribe({next:e=>{let{method:t}=e;"onStartReceiveEditMessage"===t&&i("onStartReceiveEditMessage")}})},[i]),(0,U.useLayoutEffect)(()=>{h.current=!0},[c]);let m=(0,U.useCallback)(()=>{!h.current&&l.current&&i("scrollToBottomTrigger")},[i]),f=!!nr();(0,U.useLayoutEffect)(()=>{f||m()},[f,m,p]),(0,U.useLayoutEffect)(()=>{!h.current&&i("forceScrollToBottomTrigger")},[g,i]),(0,U.useLayoutEffect)(()=>{t||f||(i("sessionLoading"),d())},[t,i,d,f]),(0,U.useLayoutEffect)(()=>{t||!h.current||f||(i("sessionId"),d())},[c]),(0,U.useLayoutEffect)(()=>{h.current=!1},[c]);let{containerDomRef:C,onContainerScroll:v,className:x,ScrollAreaGutters:S}=(0,nK.fu)({verticalScrollbarInsets:{leading:0,trailing:0,top:0,bottom:2}}),E=(0,F.od)().triggerScrollToBottom,b=(0,U.useMemo)(()=>({requireScrollToBottom:()=>E(c)}),[c,E]),_=nr(),y=(0,t3.he)(),w=(0,u.jsx)(nX,{onResize:d,children:e=>{let{ref:s}=e;return(0,u.jsx)("div",{className:ih.messageListContainer,ref:s,children:(0,u.jsx)(nX,{onResize:o,forwardedRef:r,children:e=>{let{ref:r}=e;return(0,u.jsxs)("div",{className:ih.messageListScrollContainer,children:[(0,u.jsx)(S,{}),(0,u.jsxs)("div",{ref:(0,n$.l)(r,C),onScroll:()=>{d(),v(),oe()},className:(0,Q.Z)(ih.scrollContentWrapper,x),children:[_&&!t&&(0,u.jsx)(iu,{}),n,"pending"!==y&&(0,u.jsxs)(u.Fragment,{children:["yes"===y&&(0,u.jsxs)(u.Fragment,{children:[!t&&(0,u.jsx)(ix,{}),a]}),"no"===y&&_&&!t&&(0,u.jsx)(iS,{})]})]}),(0,u.jsx)(id,{})]})}})})}});return(0,u.jsx)(n7.Provider,{value:b,children:w})}let ix=()=>{let[e]=(0,U.useState)(o5.getAbTestInstantResult("show_new_chat_button_above_input",!0)),t=F.aD.useIsShareSelecting();return e?(0,u.jsx)("div",{className:(0,Q.Z)(ih.newChatButtonContainer,t&&sb.hide),children:(0,u.jsx)(o2,{})}):null},iS=()=>{let e=(0,Y.s0)(),t=(0,Y.TH)(),n=t2.a.useTranslate();return(0,u.jsx)("div",{className:ih.loginButtonContainer,children:(0,u.jsx)(nN,{icon:(0,u.jsx)(rE._k,{}),iconAlign:"right",variant:"primary",onClick:()=>{let n=new URLSearchParams;n.set("redirect",t.pathname),e("".concat(t8.SIGN_IN,"?").concat(n.toString()))},size:"lg",children:n.shareContinueChat})})};function iE(e){let[t,n]=e.split("@"),a=[],r=Math.floor(t.length/2),s=Math.max(r-2,0),o=Math.min(r+2,t.length);for(let e=0;e<t.length;e++)e<s||e>=o?a.push(t[e]):a.push("*");return"".concat(a.join(""),"@").concat(n)}function ib(e){return"".concat(e.slice(0,3),"****").concat(e.slice(7,11))}n(84849);let i_=e=>{let{children:t}=e;return t()},iy=[];function iw(e){let{options:t=iy,onSelect:n,componentRef:a,domProps:r,domRef:s,theme:o,onExit:i}=e,[l,d]=(0,U.useState)(null),c=e=>{let a=t.filter(e=>"divider"!==e.type);if(null===l)d(a[0].key);else{let t=a.findIndex(e=>e.key===l);"ArrowDown"===e.key?d(a[(t+1)%a.length].key):"ArrowUp"===e.key?d(a[(t-1+a.length)%a.length].key):"Enter"===e.key?null==n||n(l,{option:a[t]}):"Escape"===e.key&&(d(null),null==i||i())}};return(0,U.useImperativeHandle)(a,()=>({handleKeyboardEvent:c})),(0,u.jsx)("div",{className:(0,Q.Z)("".concat(Z.F,"-dropdown-menu"),"".concat(Z.F,"-elevated"),null==r?void 0:r.className),style:{...null==r?void 0:r.style,"--ds-dropdown-menu-font-size":null==o?void 0:o.fontSize,"--ds-dropdown-menu-color":null==o?void 0:o.color,"--ds-dropdown-menu-option-text-color":null==o?void 0:o.optionTextColor,"--ds-dropdown-menu-option-height":null==o?void 0:o.optionHeight,"--ds-dropdown-menu-option-color-hover":null==o?void 0:o.optionColorHover,"--ds-dropdown-menu-option-error-color-hover":null==o?void 0:o.optionErrorColorHover,"--ds-dropdown-menu-padding":null==o?void 0:o.padding,"--ds-dropdown-menu-option-padding":null==o?void 0:o.optionPadding,"--ds-dropdown-menu-option-line-height":null==o?void 0:o.optionLineHeight,"--ds-dropdown-menu-border-radius":null==o?void 0:o.borderRadius,"--ds-dropdown-menu-option-border-radius":null==o?void 0:o.optionBorderRadius,"--ds-dropdown-menu-option-icon-size":null==o?void 0:o.optionIconSize,"--ds-dropdown-menu-option-icon-color":null==o?void 0:o.optionIconColor,"--ds-dropdown-menu-option-icon-margin":null==o?void 0:o.optionIconMargin,"--ds-dropdown-menu-option-label-margin":null==o?void 0:o.optionLabelMargin,"--ds-dropdown-menu-width":null==o?void 0:o.width},role:"menu",ref:s,...r,children:t.map(e=>{var t;if("divider"===e.type)return(0,u.jsx)("div",{className:(0,Q.Z)("".concat(Z.F,"-dropdown-menu-option"),"".concat(Z.F,"-dropdown-menu-option-divider"))});let a=null!==(t=e.wrapper)&&void 0!==t?t:i_;return(0,u.jsx)(a,{children:(t,a)=>{var r,s;return(0,U.createElement)("div",{...e.domProps,...a,ref:t,style:{...null===(r=e.domProps)||void 0===r?void 0:r.style,...e.style},className:(0,Q.Z)("".concat(Z.F,"-dropdown-menu-option"),"".concat(Z.F,"-dropdown-menu-option--").concat(e.type||"none"),l===e.key&&"".concat(Z.F,"-dropdown-menu-option--pending"),e.className,null===(s=e.domProps)||void 0===s?void 0:s.className),onClick:t=>{var r,s,o;null===(s=e.domProps)||void 0===s||null===(r=s.onClick)||void 0===r||r.call(s,t),null==a||null===(o=a.onClick)||void 0===o||o.call(a,t),null==n||n(e.key,{option:e})},onMouseEnter:t=>{var n;d(e.key),null==a||null===(n=a.onMouseEnter)||void 0===n||n.call(a,t)},key:e.key},e.icon?(0,u.jsx)("div",{className:"".concat(Z.F,"-dropdown-menu-option__icon"),children:e.icon}):null,(0,u.jsx)("div",{className:"".concat(Z.F,"-dropdown-menu-option__label"),children:e.label}))}},e.key)})})}var iI=n(24232);function iT(e){let{renderTrigger:t,disabled:n,leaveDelay:a,enterDelay:r,wrapperStyle:s,onSelect:o,options:i,menuTheme:l,placement:d="bottom-start",trigger:c="hover",componentRef:h,dropdownMenuComponentRef:p,menuDomProps:g,menuDomRef:m,...f}=e,C=(0,U.useRef)(null),v=(e,t)=>{let n=null==o?void 0:o(e,t);if(!n||"close"===n.action){var a;null===(a=C.current)||void 0===a||a.setIsOpen(!1)}};return(0,U.useImperativeHandle)(h,()=>({setIsOpen(e){var t;null===(t=C.current)||void 0===t||t.setIsOpen(e)},getIsOpen(){var e,t;return null!==(t=null===(e=C.current)||void 0===e?void 0:e.getIsOpen())&&void 0!==t&&t}})),(0,u.jsx)(iI.f,{disabled:n,leaveDelay:a,enterDelay:r,wrapperStyle:s,renderTrigger:t,renderFloating:e=>{let{nodeRef:t,onMouseDown:n,onMouseEnter:a,onMouseLeave:r}=e;return(0,u.jsx)(iw,{componentRef:p,theme:l,onSelect:v,onExit:()=>{var e;return null===(e=C.current)||void 0===e?void 0:e.setIsOpen(!1)},options:i,domRef:(0,n$.l)(m,t),domProps:{...g,onMouseDown:e=>{var t;null==g||null===(t=g.onMouseDown)||void 0===t||t.call(g,e),n(e)},onMouseEnter:e=>{var t;null==g||null===(t=g.onMouseEnter)||void 0===t||t.call(g,e),a(e)},onMouseLeave:e=>{var t;null==g||null===(t=g.onMouseLeave)||void 0===t||t.call(g,e),r(e)}}})},placement:d,trigger:c,componentRef:C,...f})}let ik=e=>{let{sessionId:t,deleteSession:n}=e,a=eu();return(0,U.useCallback)(()=>{t2.l.tracker.info({name:"openDeleteSessionModal",message:"打开删除session modal",payload:{}});let e=a.open({modalProps:{children:(0,u.jsx)(iM,{sessionId:t,deleteSession:n,onClose:()=>{t2.l.tracker.info({name:"closeDeleteSessionModal",message:"关闭删除session modal",payload:{}}),e.close()}})}})},[n,a,t])};function iM(e){let{sessionId:t,onClose:n,deleteSession:a}=e,r=t2.a.useTranslate(),[s,o]=(0,U.useState)(!1);return(0,u.jsx)(el,{onClose:n,title:r("deleteSessionModalContentTitle"),variant:"dialog",closeButtonNode:(0,u.jsx)(u.Fragment,{children:" "}),footer:(0,u.jsxs)(ed,{children:[(0,u.jsx)(nH,{variant:"outlined",onClick:()=>{n()},children:r("deleteSessionModalContentCancelButton")}),(0,u.jsx)(nH,{variant:"danger",loading:s,onClick:()=>{o(!0),a(t),n(),o(!1)},children:r("deleteSessionModalContentConfirmButton")})]}),children:r("deleteSessionModalContentDescription")})}var ij=n(34552);let iR=e=>(0,F.aK)((0,ij.N)(t=>{if(!e)return null;let n=t.getSession(e);return{title:(null==n?void 0:n.title)||"",titleType:(null==n?void 0:n.titleType)||"WIP"}})),iA=(0,U.memo)(function(e){let{sessionId:t}=e,n=t2.a.useTranslate(),a=iR(t),r=(0,U.useRef)(a||{}),s=(0,U.useRef)(t),o=t!==s.current,[i,l]=(0,U.useState)(null==a?void 0:a.title),d=n("untitledChat");return(0,U.useEffect)(()=>{var e,n;if(s.current!==t)return s.current=t,r.current.title=null==a?void 0:a.title,r.current.titleType=null==a?void 0:a.titleType,l(null==a?void 0:a.title),rD.Z;if((null===(e=r.current)||void 0===e?void 0:e.titleType)===(null==a?void 0:a.titleType)||(null===(n=r.current)||void 0===n?void 0:n.title)===(null==a?void 0:a.title)||(null==a?void 0:a.titleType)==="USER")return l(null==a?void 0:a.title),rD.Z;let{play:o,abort:i}=iN(e=>{let t=(null==a?void 0:a.title)||"";l(t.slice(0,Math.ceil(t.length*e)))},400);return r.current.title=null==a?void 0:a.title,r.current.titleType=null==a?void 0:a.titleType,o(),i},[null==a?void 0:a.title,null==a?void 0:a.titleType,t]),(0,u.jsx)(u.Fragment,{children:(o?null==a?void 0:a.title:i)||d})}),iN=(e,t)=>{let n=performance.now(),a=!1,r=null,s=()=>{if(a)return;let o=Math.min((performance.now()-n)/t,1);e(o),o<1&&(r=requestAnimationFrame(s))};return{play:s,abort:()=>{a=!0,null!==r&&cancelAnimationFrame(r)}}};var iL=n(24663);let iF=(0,U.memo)(function(e){let{id:t,title:n,isActive:a,agentId:r,onDeleteSession:s,onSelectSession:o}=e,i=t2.a.useTranslate(),l=ns(),d=ik({sessionId:t,deleteSession:s}),c=rY()&&a,h=(0,F.lD)(),p=(0,U.useRef)(null),g=(0,U.useRef)(null),m=(0,U.useRef)(null),f=(0,U.useRef)(null),[C,v]=(0,U.useState)(!1),{renameSession:x}=(0,F.af)();(0,U.useEffect)(()=>{if(C){var e;null==m||null===(e=m.current)||void 0===e||e.focus()}},[C]);let S=()=>{var e,n;(null===(e=m.current)||void 0===e?void 0:e.value)?x(t,null===(n=m.current)||void 0===n?void 0:n.value).then(e=>{let{deleted:n}=e;v(!1),n&&sd(t,"rename")}):v(!1)},E=()=>{h.toggleShareSelection(t,!0)};return C?(0,u.jsx)(eM,{theme:{height:"40px",padding:"0 10px",color:"#fff",borderRadius:"12px",focusBorderColor:"var(--dsw-alias-brand-text)"},className:iL.input,variant:"bordered",onBlur:()=>S(),defaultValue:n||i("untitledChat"),onKeyDown:e=>{var t;(null===(t=f.current)||void 0===t||!t.isComposingRef.current)&&"Enter"===e.key&&S()},componentRef:f,inputDomRef:m}):(0,u.jsx)(iT,{placement:"bottom-start",offsetOptions:{mainAxis:4,crossAxis:-5},trigger:"click",componentRef:p,dropdownMenuComponentRef:g,menuDomProps:{onMouseDown(e){e.preventDefault()}},onSelect:e=>{"rename"===e?v(!0):"delete"===e?d():"share"===e&&E()},options:[{icon:(0,u.jsx)(rE.zv,{}),label:i("sessionItemMenuRenameOption"),key:"rename"},...c?[{icon:(0,u.jsx)(rE.nO,{}),label:i.share,key:"share"}]:[],{icon:(0,u.jsx)(rE.WC,{}),label:i("sessionItemMenuDeleteOption"),key:"delete",type:"error"}],renderTrigger:e=>{let{domRef:s,domProps:i}=e;return(0,u.jsxs)("a",{className:(0,Q.Z)(iL.sessionItem,a&&iL.active),href:(0,t7.Gn)(t8.AGENT_SESSION,{agentId:r,sessionId:t}),onClick:e=>{var n;if(!e.metaKey&&!e.ctrlKey)e.preventDefault(),r2(e.currentTarget,void 0,{topOcclusion:26,bottomOcclusion:48}),(null===(n=s.current)||void 0===n||!n.contains(e.target))&&(o(t),l(t8.AGENT_SESSION,{agentId:r,sessionId:t}))},tabIndex:0,children:[(0,u.jsx)(rv.u,{wrapperStyle:{maxWidth:"50%"},checkEllipsis:!0,placement:"bottom",hoverable:!0,renderTrigger:e=>{let{domProps:n,domRef:a,ellipsisDomRef:r}=e;return(0,u.jsx)("div",{...n,ref:(0,n$.l)(a,r),className:iL.content,children:(0,u.jsx)(iA,{sessionId:t})})},children:n}),(0,u.jsx)("div",{className:iL.actionButtonMask,children:(0,u.jsx)(rL.h,{...i,size:"md",className:iL.actionButton,focusable:!0,domRef:s,onFocus:()=>{var e;null===(e=i.onFocus)||void 0===e||e.call(i)},onBlur:()=>{var e,t;null===(e=i.onBlur)||void 0===e||e.call(i),null===(t=p.current)||void 0===t||t.setIsOpen(!1)},onKeyDown:e=>{var t,n,a;(null===(t=p.current)||void 0===t?void 0:t.getIsOpen())?(e.preventDefault(),null===(n=g.current)||void 0===n||n.handleKeyboardEvent(e)):("ArrowDown"===e.key||"Enter"===e.key)&&(e.preventDefault(),null===(a=p.current)||void 0===a||a.setIsOpen(!0))},children:(0,u.jsx)(ej.J,{size:16,style:{color:"var(--dsw-alias-label-tertiary)"},children:(0,u.jsx)(rE.od,{})})})})]})}})});var iO=n(5420);let iP=e=>{let{showLoading:t}=e,n=(0,U.useRef)(null);return(0,u.jsx)(ee.Z,{in:t,timeout:150,classNames:{enterActive:iO.show,enterDone:iO.show},unmountOnExit:!0,nodeRef:n,children:(0,u.jsx)("div",{ref:n,className:(0,Q.Z)(iO.skeletonWrap),children:Array.from({length:4}).map((e,t)=>(0,u.jsx)("div",{className:iO.skeletonContainer,children:(0,u.jsx)(ta.O,{variant:"text",className:iO.skeleton})},t))})})};function iD(e){let{onSelectSession:t}=e,n=t2.a.useTranslate(),a=(0,F.aK)(e=>e.sessionsState),r=(0,F.aK)(e=>e.getSession),s=(0,F.RJ)().deleteSession,o=ns(),i=na()||null,l=(0,F.aK)(e=>e.noMoreSessions),d=(0,F.aK)(e=>e.firstPageSettled),c=!d,h=(0,er.mJ)(c,{showDelay:800,minDuration:500}),p=(0,F.Ax)();s4(),sV();let g=(0,er.$0)(e=>{s(e),i===e&&o(t8.ROOT)}),m=(0,er.$0)(e=>{let n=r(e);return n?(0,u.jsx)(iB,{isActive:i===n.id,sessionId:e,onDeleteSession:g,onSelectSession:t},e):null}),f=(0,F.aK)(e=>e.fetchSessions),[C,v]=(0,U.useState)(!0),x=(0,er.$z)(e=>{l?v(!e):e&&f()}),S=l&&p.isEmpty,{containerDomRef:E,onContainerScroll:b,onContentResize:_,className:y,ScrollAreaGutters:w}=(0,nK.fu)({verticalScrollbarInsets:{trailing:-12,leading:0,top:0,bottom:0}});return(0,U.useLayoutEffect)(()=>{_()},[p,_]),(0,U.useLayoutEffect)(()=>{let e=E.ref.current;!p.isEmpty&&e&&e.scrollHeight<=e.offsetHeight&&!l&&f()},[E.ref,f,p,l]),(0,u.jsxs)("div",{className:(0,Q.Z)(iO.scrollContainerWrap,y),children:[(0,u.jsx)(w,{}),(0,u.jsxs)("div",{className:(0,Q.Z)(iO.scrollContainer,S&&iO.empty),ref:E,onScroll:b,children:[(0,u.jsx)(iP,{showLoading:h}),(0,u.jsxs)("div",{className:(0,Q.Z)(iO.sessionList,!c&&!h&&iO.show),children:[0===p.todaySessions.length?null:(0,u.jsxs)("div",{className:iO.section,children:[(0,u.jsx)("div",{className:iO.sectionHeader,children:n("sessionHistoryTimelineLabelToday")},"header"),p.todaySessions.map(m)]}),0===p.yesterdaySessions.length?null:(0,u.jsxs)("div",{className:iO.section,children:[(0,u.jsx)("div",{className:iO.sectionHeader,children:n("sessionHistoryTimelineLabelYesterday")},"header"),p.yesterdaySessions.map(m)]}),0===p.days7Sessions.length?null:(0,u.jsxs)("div",{className:iO.section,children:[(0,u.jsx)("div",{className:iO.sectionHeader,children:n("sessionHistoryTimelineLabel7days")},"header"),p.days7Sessions.map(m)]}),0===p.days30Sessions.length?null:(0,u.jsxs)("div",{className:iO.section,children:[(0,u.jsx)("div",{className:iO.sectionHeader,children:n("sessionHistoryTimelineLabel30days")},"header"),p.days30Sessions.map(m)]}),p.previousSessions.map(e=>(0,u.jsxs)("div",{className:iO.section,children:[(0,u.jsx)("div",{className:iO.sectionHeader,children:e.month},"header"),e.sessions.map(m)]},e.month))]}),S?(0,u.jsxs)("div",{className:iO.emptyContent,children:[(0,u.jsx)(rE.fO,{}),(0,u.jsx)("span",{children:n("historyIsEmpty")})]}):null,"error"!==a&&(0,u.jsx)("div",{ref:x,className:(0,Q.Z)(iO.loadmoreSentinel,l&&iO.noMore)}),"error"===a&&(0,u.jsx)("div",{className:(0,Q.Z)(iO.error,p.isEmpty&&iO.errorEmpty),children:(0,u.jsx)("div",{children:n("historyLoadFailed")({renderRetryButton:e=>(0,u.jsx)(eQ.z,{variant:"text",onClick:f,children:e})})})}),d&&"loading"===a&&(0,u.jsx)(tT.g,{className:iO.sessionLoading})]}),C&&(0,u.jsx)("div",{className:iO.gradientMask})]})}let iB=(0,U.memo)(function(e){let{sessionId:t,isActive:n,onDeleteSession:a,onSelectSession:r}=e,s=(0,F.aK)(e=>{let n=e.getSession(t);return n?n.agentId:null}),o=(0,F.aK)(e=>{let n=e.getSession(t);return n?n.title:""});return null===s||null===t?null:(0,u.jsx)(iF,{id:t,title:o,agentId:s,isActive:n,onDeleteSession:a,onSelectSession:r})});function iH(e){let{className:t,collapsed:n,size:a,sizing:r,onCollapsedChange:s,tooltipPlacement:o}=e,i=t2.a.useTranslate();return(0,u.jsx)(rv.u,{placement:o,renderTrigger:e=>{let{domProps:o,domRef:i}=e;return(0,u.jsx)(rL.h,{size:a,sizing:r,domProps:o,domRef:i,className:t,onClick:()=>s(!n),children:(0,u.jsx)(rE.$x,{})})},children:i(n?"expandSiderbarButton":"collapseSiderbarButton")})}var iV=n(94505);function iU(e){let{collapsed:t,onCollapsedChange:n}=e,a=ns();return(0,u.jsxs)("div",{className:iV.topContainer,children:[(0,u.jsx)("div",{className:iV.deepseekIconContainer,onClick:()=>{a(t8.ROOT)},children:(0,u.jsx)(np,{})}),!t&&(0,u.jsx)(iH,{className:iV.collapsedDrawerButton,tooltipPlacement:"bottom",size:"lg",sizing:"icon",collapsed:!1,onCollapsedChange:n})]})}var iW=n(1839);function iG(e){let{onClick:t}=e,n=t2.a.useTranslate(),{onClick:a}=o1("top"),r=(0,U.useMemo)(()=>navigator.userAgent.toLowerCase().includes("windows"),[]);return(0,u.jsxs)("div",{className:(0,Q.Z)(iW.button,r&&iW.windows),onClick:()=>{a(),t()},children:[(0,u.jsx)(ej.J,{size:16,className:iW.icon,children:(0,u.jsx)(nh,{})}),(0,u.jsx)("span",{children:n("agentSelectionCreateSessionTooltip")})]})}var iz=n(41946);function iZ(e){let{onClose:t}=e,n=t2.a.useTranslate(),a=(0,eJ.pm)(),[r,s]=(0,U.useState)(!1),o=(0,F.aK)(e=>e.clearSessions);return(0,u.jsx)(el,{variant:"dialog",title:n("deleteAllHistoryModalTitle"),onClose:t,closeButtonNode:(0,u.jsx)(u.Fragment,{children:" "}),footer:(0,u.jsxs)(ed,{children:[(0,u.jsx)(nH,{variant:"outlined",onClick:()=>{t()},children:n("deleteAllHistoryModalCancel")}),(0,u.jsx)(nH,{variant:"danger",loading:r,onClick:()=>{s(!0),(0,F.mf)().then(()=>{s(!1),a.success({node:(0,U.createElement)(t2.a.ensureTranslateComponent("deleteAllHistoryOkToast")),description:n("deleteAllHistoryOkToast")}),t2.l.tracker.info({name:"deleteAllHistoryOk",message:"删除所有历史成功",payload:{}}),t(),o()}).catch(e=>{a.error({node:(0,U.createElement)(t2.a.ensureTranslateComponent("deletAllHistoryFailedToast")),description:n("deletAllHistoryFailedToast")}),t2.l.tracker.error({name:"deleteAllHistoryFailed",message:"删除所有历史出错",payload:t2.l.withError(e,{})}),s(!1)})},children:n("deleteAllHistoryModalConfirm")})]}),children:(0,u.jsx)(tU.C,{splitParagraph:!0,showMarkdownBold:!0,showEmailLink:!0,children:n("deleteAllHistoryModalContent")})})}function iq(e){let{value:t,defaultValue:n=!1,disabled:a=!1,size:r="m",domProps:s,domRef:o,onChange:i}=e,[l,d]=(0,U.useState)(n),c=tl(l,t),h=(0,U.useCallback)(e=>{null==i||i(e),void 0===t&&d(e)},[i,t]),{className:p,...g}=null!=s?s:{},m=(0,Q.Z)("".concat(Z.F,"-switch"),c&&"".concat(Z.F,"-switch--checked"),a&&"".concat(Z.F,"-switch--disabled"),"".concat(Z.F,"-switch--size-").concat(r),p);return(0,u.jsx)("button",{className:m,style:null==g?void 0:g.style,role:"switch","aria-checked":c,onClick:e=>{var t;null==s||null===(t=s.onClick)||void 0===t||t.call(s,e),a||h(!c)},tabIndex:0,ref:o,...g,children:(0,u.jsx)("div",{className:"".concat(Z.F,"-switch-thumb"),"aria-hidden":"true"})})}n(46339);var iK=n(56495),iY=n(39386),iX=n(78140),i$=n(41515);function iQ(){return(0,iX.ZP)(F.Yu.users_settings,F.nH)}function iJ(){let e=t2.a.useTranslate(),t=(0,eJ.pm)(),{data:n,isLoading:a,error:r,mutate:s}=iQ(),[o,i]=(0,U.useState)(!1),l=(0,er.Vb)({value:o,delay:200,defaultValue:!1,shouldDelay:()=>!0}),d=null==n?void 0:n.data.training_allowed;async function c(a){i(!0);try{t2.l.tracker.info({name:"switchAllowTraining",payload:{to:a},message:"切换允许训练开关"}),await (0,F.uk)({training_allowed:a}),n&&s((0,i$.Uy)(e=>{e.data.training_allowed=a},n),{revalidate:!1})}catch(n){t.error(e("allowTrainingSwitchNetworkError")),t2.l.tracker.error({name:"switchAllowTrainingFailed",payload:t2.l.tracker.withError(n,{to:a}),message:"切换允许训练开关"})}finally{i(!1)}}return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:iY.labelContainer,children:[(0,u.jsx)("span",{children:e("allowTrainingSwitchLabel")}),(0,u.jsx)("div",{className:iY.description,children:e("allowTrainingDescription")})]}),(0,u.jsx)("div",{className:iK.switchContainer,children:a||r||l?(0,u.jsx)(tT.g,{}):(0,u.jsx)(iq,{value:d,onChange:c,domProps:{className:iK.customSwitch}})})]})}let i1="/api/v0/users",i0=()=>{let e=(0,eJ.pm)(),t=t2.a.useTranslate(),{beUnauthenticated:n}=t0();return async()=>{let{tracker:a}=t2.l;a.info({name:"logout",message:"开始登出"});try{let e=t2.l.httpWithCoreType;await (0,e6.H$)(void 0,{http:e,baseUrl:i1}),n({navigateToSignIn:!0,isBanned:!1})}catch(n){t2.l.tracker.error({name:"logoutFailed",message:"登出失败",payload:t2.l.withError(n,{})}),e.error({node:t("logoutFail"),description:"退出登录失败"})}}},i2=()=>{let{beUnauthenticated:e}=t0(),{http:t}=t2.l;return async()=>{let n=await t.http.post("/api/v0/users/logout_all_sessions",{context:t.withDefaultHttpContext({withToken:!0})});if(0!==n.json.data.biz_code)throw n.json.data;return{clear:()=>e({navigateToSignIn:!0,isBanned:!1})}}},i3=e=>{let{onSuccess:t}=e,n=t2.a.useTranslate(),a=eu(),{tracker:r}=t2.l;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("span",{children:n("logoutAllDevicesTitle")}),(0,u.jsx)(nH,{variant:"danger",onClick:()=>{r.info({name:"openLogoutAllDevicesModal",message:"打开登出所有设备对话框",payload:{}});let e=a.open({modalProps:{children:(0,u.jsx)(i6,{onSuccess:t,onClose:()=>{e.close()}})}})},children:n("logoutAllDevicesButton")})]})},i6=e=>{let{onClose:t,onSuccess:n}=e,a=t2.a.useTranslate(),[r,s]=(0,U.useState)(!1),o=(0,eJ.pm)(),i=i2(),{tracker:l}=t2.l;return(0,u.jsx)(el,{variant:"dialog",onClose:t,domProps:{"data-autofocus":!0},title:a("logoutAllDevices"),closeButtonNode:(0,u.jsx)(u.Fragment,{children:" "}),footer:(0,u.jsxs)(ed,{children:[(0,u.jsx)(nH,{variant:"outlined",onClick:()=>{l.info({name:"cancelLogoutAllDevicesModal",message:"关闭登出所有设备对话框",payload:{}}),t()},children:a("logoutAllDevicesCancel")}),(0,u.jsx)(nH,{variant:"danger",loading:r,onClick:()=>{s(!0),l.info({name:"confirmLogoutAllDevices",message:"开始登出所有设备",payload:{}}),i().then(e=>{let{clear:a}=e;t2.l.tracker.info({name:"logoutAllDevicesSuccess",message:"登出所有设备成功",payload:{}}),t(),a(),n()}).catch(e=>{o.error({node:(0,U.createElement)(t2.a.ensureTranslateComponent("logoutAllDevicesFail")),description:a("logoutAllDevicesFail")}),t2.l.tracker.error({name:"logoutAllDevicesFail",message:"登出所有设备失败",payload:t2.l.withError(e,{})})}).finally(()=>{s(!1)})},children:a("logoutAllDevicesConfirm")})]}),children:a("logoutAllDevicesDesc")(a("logoutAllDevicesConfirm"))})},i4=e=>({rgbHover:e?"255 255 255 / 8%":"0 0 0 / 4%"});var i5=n(5996);function i9(e,t){if(!e)return;let n=document.createElement("a");n.href=e,t&&(n.download=t),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}function i7(){let{data:e,isLoading:t,error:n,mutate:a}=(0,iX.ZP)(F.Yu.download_export_history,F.RZ,{refreshInterval:e=>5e3*((null==e?void 0:e.data.status)==="PENDING"),revalidateOnFocus:!1}),r=(0,eJ.pm)(),s=t2.a.useTranslate(),o=null==e?void 0:e.data,i=(null==o?void 0:o.status)==="PENDING",l=(null==o?void 0:o.status)==="FINISHED",d=(null==o?void 0:o.status)==="EMPTY",c=(0,U.useCallback)(()=>{t2.l.tracker.info({name:"exportAllData",payload:{},message:"导出所有历史数据"}),(0,F.UK)().then(e=>{e.data.code===F.dV.ExportAllDataErrorCode.RATE_LIMIT&&(r.error(s.exportAllRateLimit),t2.l.tracker.error({name:"exportAllDataFailed",message:"导出所有历史数据失败-频控",payload:{}}))}).catch(e=>{r.error(s.exportAllFailed),t2.l.tracker.error({name:"exportAllDataFailed",payload:t2.l.tracker.withError(e,{}),message:"导出所有历史数据失败-其他错误"})}).finally(a)},[a,s,r]),h=(0,U.useCallback)(()=>{d?c():(null==o?void 0:o.status)==="FINISHED"&&(i9(o.historyDownloadUrl),setTimeout(()=>{i9(o.legacyHistoryDownloadUrl)},1e3))},[o,c,d]);function p(e){return rS()(1e3*e).format("YYYY-MM-DD HH:mm")}return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:iY.labelContainer,children:[(0,u.jsx)("span",{children:s.exportAllLabel}),(0,u.jsx)("div",{className:iY.description,children:l?s.exportAllExpiryNoticeDesc((0,u.jsx)(eQ.z,{variant:"text",onClick:c,style:{fontSize:"unset"},children:s.exportAllReexportBtn}),p(o.exportAt),p(o.expireAt)):s.exportAllDesc})]}),t||n?(0,u.jsx)(tT.g,{}):(0,u.jsx)(nH,{className:i5.button,variant:"outlined",loading:i,style:i?{pointerEvents:"none"}:{},onClick:h,icon:l?(0,u.jsx)(rE.Ok,{}):null,children:l?(0,u.jsx)(u.Fragment,{children:s.exportAllDownload}):s.exportAllButton})]})}var i8=n(42095);let le=e=>{let{selected:t,children:n,link:a,icon:r,iconColor:s,onClick:o,disabled:i=!1,domRef:l,domProps:d,loading:c=!1,className:h}=e;return(0,u.jsx)(nI,{style:{},link:a,icon:r,iconColor:null!=s?s:"var(--dsw-alias-label-primary)",disabled:i,onClick:i?void 0:o,domRef:l,domProps:{tabIndex:0,...d},loading:c,className:(0,Q.Z)(h,i8.blockSelector,t&&i8.selected),iconSize:16,iconAlign:"left",iconMargin:0,children:n})},lt=e=>{let{options:t,value:n,onChange:a,disabled:r=!1,className:s}=e;return(0,u.jsx)("div",{className:(0,Q.Z)(i8.blockSelectorGroup,s),children:t.map(e=>(0,u.jsx)(le,{selected:n===e.value,onClick:()=>a(e.value),disabled:r||e.disabled,icon:e.icon,children:e.label},e.value))})};var ln=n(38523),la=n.n(ln),lr=n(93621),ls=n(83095);function lo(e){let{onClose:t,onConfirm:n}=e,a=t2.a.useTranslate(),[r,s]=(0,U.useState)(!1),o=async()=>{s(!0);try{await n(),t()}catch{}finally{s(!1)}};return(0,u.jsx)(el,{onClose:t,title:a.shareLinksManageDeleteConfirmTitle,variant:"dialog",closeButtonNode:(0,u.jsx)(u.Fragment,{children:" "}),footer:(0,u.jsxs)(ed,{children:[(0,u.jsx)(nH,{variant:"outlined",onClick:t,children:a.cancel}),(0,u.jsx)(nH,{variant:"danger",loading:r,onClick:o,children:a.shareLinksManageDelete})]}),children:a.shareLinksManageDeleteConfirmDesc})}rS().extend(la());let li=()=>{let[e,t]=(0,U.useState)(!1),[n,a]=(0,U.useState)(),[r,s]=(0,U.useState)(!0),o=(0,F.lD)(),i=(0,eJ.pm)(),l=eu(),d=t2.a.useTranslate(),{containerDomRef:c,onContainerScroll:h,ScrollAreaGutters:p,className:g}=(0,nK.fu)({verticalScrollbarInsets:{leading:0,trailing:-16,top:0,bottom:4}}),m=(0,er.$0)(async()=>{try{var e;t(!0);let r=null!=n?n:[],i=null===(e=r.at(-1))||void 0===e?void 0:e.createdAt,l=await o.listShares(20,i),d=(0,lr.Z)(r,l,e=>e.shareId);a(d),s(d.length-r.length!=0)}catch(e){i.error(d.shareNetworkError)}finally{t(!1)}}),f=(0,er.$z)(t=>{t&&!e&&r&&m()}),C=async e=>{try{await o.deleteShare(e),a(n.filter(t=>t.shareId!==e)),i.success(d.shareLinksManageDeleteOkToast)}catch(e){throw i.error(d.shareLinksManageDeleteFailedToast),e}},v=e=>{let t=l.open({modalProps:{children:(0,u.jsx)(lo,{onClose:()=>t.close(),onConfirm:()=>C(e)})}})},x=e=>rS()(1e3*e).format("LL");return(0,u.jsxs)("div",{className:ls.content,children:[(0,u.jsx)(p,{}),(0,u.jsx)("div",{ref:c,onScroll:h,className:(0,Q.Z)(g,ls.scrollContainer),children:(null==n?void 0:n.length)===0?(0,u.jsxs)("div",{className:ls.empty,children:[(0,u.jsx)(ej.J,{size:20,children:(0,u.jsx)(rE.Db,{})}),(0,u.jsx)("p",{children:d.shareLinksManagementEmpty})]}):(0,u.jsxs)("div",{className:ls.sharesList,children:[null==n?void 0:n.map(e=>(0,u.jsxs)("div",{className:ls.shareItem,children:[(0,u.jsx)(rE.U5,{}),(0,u.jsxs)("div",{className:ls.shareTitleAndDate,children:[(0,u.jsx)("div",{className:ls.shareTitle,children:(0,u.jsx)(rv.u,{checkEllipsis:!0,placement:"top",renderTrigger:t=>{let{domProps:n,domRef:a,ellipsisDomRef:r}=t;return(0,u.jsx)("a",{...n,ref:(0,n$.l)(a,r),href:no(e.shareId),className:ls.shareLink,target:"_blank",rel:"noopener noreferrer",title:"点击在新窗口打开",children:e.hint||no(e.shareId)})},children:e.hint||no(e.shareId)})}),(0,u.jsxs)("div",{className:ls.shareDate,children:[d.shareLinksManageSharedAt," ",x(e.createdAt)]})]}),(0,u.jsx)(rv.u,{trigger:"hover",renderTrigger:t=>(0,u.jsx)(rL.h,{...t,size:"lg",className:ls.deleteButton,onClick:()=>v(e.shareId),children:(0,u.jsx)(rE.WC,{})}),children:d.shareLinksManageDelete})]},e.shareId)),r&&!e&&(0,u.jsx)("div",{ref:f,className:ls.loadingSentinel})]})})]})},ll=()=>(0,u.jsx)(F.YE,{children:(0,u.jsx)(li,{})});var ld=n(60613);let lc=(0,U.createContext)({DatePicker:{startDay:0,parseInput:e=>{let{input:t,dayjs:n}=e;return n(t,"YYYY/MM/DD")},formatInput:e=>{let{day:t}=e;return t.format("YYYY/MM/DD")},formatDay:e=>{let{day:t}=e;switch(t.day()){case 0:case 6:return"S";case 1:return"M";case 2:case 4:return"T";case 3:return"W";case 5:return"F";default:throw Error("Invalid day")}},formatTitle:e=>{let{day:t}=e;return"".concat(t.format("MMMM")," ").concat(t.year())}},Select:{notFound:"Not found",empty:"No data"}});n(99066);let lu=[];function lh(e){let{status:t,variant:n="filled",disabled:a=!1,options:r=lu,optionLoading:s=!1,size:o="m",style:i,className:l,placeholder:d,defaultValue:c,value:h,filter:p,filterable:g,renderSelectedOption:m,renderOptionLabel:f,onChange:C,onBlur:v,onFilterChange:x,inputDomProps:S,menuWidthPolicy:E,menuClassName:b,menuFloatingWrapperClassName:_}=e,y=ey(),w=(null!=t?t:null==y?void 0:y.status)||"none",[I,T]=(0,U.useState)(!1),[,k]=(0,U.useState)(!1),[M,j]=(0,U.useState)(c),R=tl(M,h),A=(e,t)=>{C&&C(e,{option:t}),j(e)},N=(0,U.useMemo)(()=>r.find(e=>e.value===R)||null,[r,R]),L=(0,U.useRef)(null),[F,O]=(0,U.useState)(0),P=(0,er.$0)(e=>{if(g&&e){var t;B(""),null===(t=L.current)||void 0===t||t.focus()}e&&(N&&W(N),O(e=>e+1)),T(e)}),[D,B]=(0,U.useState)(""),H=(0,U.useMemo)(()=>{if(!g||!D.length)return r;if(p)return r.filter(e=>p(D,e));let e=D.toLowerCase();return r.filter(t=>t.label.toLowerCase().includes(e))},[p,g,r,D]),[V,W]=(0,U.useState)(H[0]||null),G=(0,U.useRef)(null),z=(0,er.$0)(e=>{let t=-1,n=null;switch(e.key){case"ArrowDown":case"ArrowUp":if("ArrowDown"===e.key&&!I){P(!0);break}if(!I)break;-1===(t=V?H.findIndex(e=>e.value===V.value):-1)&&(n="ArrowUp"===e.key?H[H.length-1]||null:H[0]||null),(n="ArrowUp"===e.key?H[t-1]||H[H.length-1]||null:H[t+1]||H[0]||null)?(W(n),O(e=>e+1)):W(null);break;case"Enter":I&&V&&(A(V.value,V),P(!1))}});return(0,U.useLayoutEffect)(()=>{var e;null===(e=G.current)||void 0===e||e.scrollIntoView({block:"nearest"})},[F]),(0,U.useLayoutEffect)(()=>{H.length?W(H[0]):W(null)},[D]),(0,u.jsx)(iI.f,{trigger:"none",isOpen:I,onIsOpenChange:P,wrapperStyle:{},wrapperDisplayPolicy:"keepAfterFirstOpen",widthPolicy:E||"minConsistent",placement:"bottom-start",flipOptions:{fallbackPlacements:["bottom-end","top-start"]},floatingWrapperClassName:_,renderTrigger:e=>{let{domRef:t}=e;return(0,u.jsxs)("div",{className:(0,Q.Z)(l,"".concat(Z.F,"-select"),"".concat(Z.F,"-select--").concat(n),"".concat(Z.F,"-select--").concat(w),"".concat(Z.F,"-select--").concat(o),I&&"".concat(Z.F,"-select--open"),a&&"".concat(Z.F,"-select--disabled")),tabIndex:a?void 0:g?-1:0,style:i,ref:t,onKeyDown:z,onMouseDown:()=>{I||P(!0)},onFocus:g?void 0:()=>{k(!0)},onBlur:g?void 0:e=>{k(!1),null==v||v(e),I&&P(!1)},children:[I&&g&&D.length?null:N?(0,u.jsx)("div",{className:(0,Q.Z)("".concat(Z.F,"-select__select"),I&&g&&!D.length&&"".concat(Z.F,"-select__select--placeholder")),children:m?m(N):N.label},"selectedOption"):(0,u.jsx)("div",{className:"".concat(Z.F,"-select__placeholder"),children:d},"placeholder"),g?(0,u.jsx)("input",{disabled:a,...S,onFocus:e=>{var t;null==S||null===(t=S.onFocus)||void 0===t||t.call(S,e),k(!0)},onBlur:e=>{var t;null==S||null===(t=S.onBlur)||void 0===t||t.call(S,e),k(!1),null==v||v(e),I&&P(!1)},ref:L,className:(0,Q.Z)("".concat(Z.F,"-select__input"),null==S?void 0:S.className),value:I?D:"",onChange:e=>{var t;null==S||null===(t=S.onChange)||void 0===t||t.call(S,e),I?(B(e.currentTarget.value),null==x||x(e.currentTarget.value)):(P(!0),e.currentTarget.value&&" "!==e.currentTarget.value&&(B(e.currentTarget.value),null==x||x(e.currentTarget.value)))}}):null,(0,u.jsx)("div",{className:"".concat(Z.F,"-select__arrow"),"aria-hidden":!0,children:(0,u.jsx)(lg,{})})]})},renderFloating:e=>{let{nodeRef:t}=e;return(0,u.jsx)(lp,{optionLoading:s,onMouseEnterOption:e=>{W(e)},showNotFound:!!(g&&r.length&&!H.length),options:H,selectedOption:N,pendingOption:V,domRef:t,pendingOptionDomRef:G,renderOptionLabel:f,onSelect:e=>{A(e.value,e),W(e),P(!1)},className:b})}})}function lp(e){let{options:t,showNotFound:n,pendingOption:a,selectedOption:r,domRef:s,pendingOptionDomRef:o,onMouseEnterOption:i,onSelect:l,optionLoading:d,className:c,renderOptionLabel:h}=e,p=(0,U.useContext)(lc),{containerDomRef:g,className:m,onContainerScroll:f,ScrollAreaGutters:C}=(0,nK.fu)({verticalScrollbarWidth:6,verticalScrollbarInsets:{top:4,bottom:12,leading:0,trailing:-4},horizontalScrollbarInsets:{top:0,bottom:12,leading:0,trailing:0}});return(0,u.jsxs)("div",{className:(0,Q.Z)("".concat(Z.F,"-select-menu"),"".concat(Z.F,"-elevated"),c,m),ref:(0,n$.l)(s,g),onMouseDown:e=>e.preventDefault(),onScroll:f,children:[(0,u.jsx)(C,{}),d?(0,u.jsxs)("div",{className:"".concat(Z.F,"-select-menu__skeleton"),children:[(0,u.jsx)(ta.O,{className:"".concat(Z.F,"-select-menu__skeleton-item"),variant:"text",size:"xs",style:{width:250}}),(0,u.jsx)(ta.O,{className:"".concat(Z.F,"-select-menu__skeleton-item"),variant:"text",size:"xs",style:{width:220}}),(0,u.jsx)(ta.O,{className:"".concat(Z.F,"-select-menu__skeleton-item"),variant:"text",size:"xs",style:{width:200}})]}):n?(0,u.jsx)("div",{className:"".concat(Z.F,"-select-menu__not-found"),children:p.Select.notFound}):t.length?(0,u.jsx)(u.Fragment,{children:t.map(e=>{let t=a&&e.value===a.value;return(0,u.jsx)("div",{className:(0,Q.Z)("".concat(Z.F,"-select-option"),r&&e.value===r.value&&"".concat(Z.F,"-select-option--selected"),t&&"".concat(Z.F,"-select-option--pending")),onMouseEnter:()=>{i(e)},ref:t?o:void 0,onClick:()=>l(e),children:(null==h?void 0:h(e,(null==r?void 0:r.value)===e.value))||e.label},e.value)})}):(0,u.jsx)("div",{className:"".concat(Z.F,"-select-menu__not-found"),children:p.Select.empty})]})}function lg(){return(0,u.jsx)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512",enableBackground:"new 0 0 512 512",xmlSpace:"preserve",children:(0,u.jsx)("path",{d:"M256,294.1L383,167c9.4-9.4,24.6-9.4,33.9,0s9.3,24.6,0,34L273,345c-9.1,9.1-23.7,9.3-33.1,0.7L95,201.1\n	c-4.7-4.7-7-10.9-7-17c0-6.1,2.3-12.3,7-17c9.4-9.4,24.6-9.4,33.9,0L256,294.1z",fill:"currentColor"})})}var lm=n(2101);let lf=e=>{let{menuClassName:t,renderOptionLabel:n,...a}=e;return n=null!=n?n:(e,t)=>(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("span",{children:e.label}),t&&(0,u.jsx)(rE.nU,{})]}),(0,u.jsx)(lh,{...a,className:(0,Q.Z)(lm.selectOverride,a.className),menuClassName:(0,Q.Z)(lm.selectMenuOverride,t),renderOptionLabel:n})};function lC(e){let{children:t}=e;return(0,u.jsx)(rN,{className:ld.settingsItem,justifyContent:"space-between",alignItems:"center",style:{padding:"12px 0"},children:t})}function lv(e){let{children:t}=e;return(0,u.jsx)("div",{style:{display:"flex",alignItems:"center",minHeight:"var(--ds-input-height-m)"},children:t})}function lx(e){var t;let{defaultSelectedSection:n,onClose:a}=e,r=t2.a.useTranslate(),s=(0,nm.F)(),{tracker:o}=t2.l,i=(0,t3.LM)(e=>e.user),l=(null==i?void 0:i.email)||(null==i?void 0:null===(t=i.idProfile)||void 0===t?void 0:t.email),d=t2.l.useIsMainlandChina(),c=t2.l.useApp(e=>e.localePreference),h=t2.l.useApp(e=>e.setLocalePreference),p=t2.l.useApp(e=>e.themePreference),g=t2.l.useApp(e=>e.setThemePreference),{beUnauthenticated:m}=t0(),[f,C]=(0,U.useState)(n),[v,x]=(0,U.useState)("settings"),S=eY({isMainlandChina:d}),E=eu();iQ();let b=(0,U.useMemo)(()=>(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{children:[r("avatarMenuSettingsDialogThemeItemLabel"),(0,u.jsx)(lt,{className:ld.themeSelect,value:p,onChange:e=>{g(e),o.info({name:"changeAppTheme",message:"修改颜色主题",payload:{appTheme:e}})},options:[{label:r("avatarMenuSettingsDialogThemeSelectLightOption"),value:"light",icon:(0,u.jsx)(rE.Hq,{})},{label:r("avatarMenuSettingsDialogThemeSelectDarkOption"),value:"dark",icon:(0,u.jsx)(rE.cZ,{})},{label:r("avatarMenuSettingsDialogThemeSelectSystemOption"),value:"system",icon:(0,u.jsx)(rE.WA,{})}]})]}),(0,u.jsxs)(lC,{children:[r("settingsLocalePreference"),(0,u.jsx)(lf,{value:c,onChange:e=>{h(e)},options:[{label:"English",value:"en_US"},{label:"中文",value:"zh_CN"},{label:r("settingsLocalePreferenceSystem"),value:"system"}]})]})]}),[c,h,g,r,p,o]),_=function(e){let{locale:t,isMainlandChina:n}=e,a=eN(),{termsOfUse:r,termsOfUseFile:s}=eP(),o=eY({isMainlandChina:n});return{termsOfUse:{link:s||o.termsOfUse,label:r||a("termsOfUse",t)},privacyPolicy:{link:o.privacyPolicy,label:a("privacyPolicy",t)}}}({locale:t2.a.useLocale(),isMainlandChina:d}),y=(0,U.useMemo)(()=>(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(lC,{children:[_.termsOfUse.label,(0,u.jsx)(nH,{variant:"outlined",link:{target:"_blank",url:S.termsOfUse},children:r("viewPolicyButton")})]}),(0,u.jsxs)(lC,{children:[_.privacyPolicy.label,(0,u.jsx)(nH,{variant:"outlined",link:{target:"_blank",url:S.privacyPolicy},children:r("viewPolicyButton")})]})]}),[_,S,r]),w=rY(),I=(0,U.useMemo)(()=>(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(lC,{children:(0,u.jsx)(iJ,{})}),w&&(0,u.jsxs)(lC,{children:[r.shareLinksManageDescription,(0,u.jsx)(nH,{variant:"outlined",onClick:()=>{x("shareManagement")},children:r.shareLinksManageButton})]}),(0,u.jsx)(lC,{children:(0,u.jsx)(i7,{})}),(0,u.jsxs)(lC,{children:[r("avatarMenuSettingsDialogDeleteAllHistoryLabel"),(0,u.jsx)(nH,{variant:"danger",onClick:()=>{let e=E.open({modalProps:{children:(0,u.jsx)(iZ,{onClose:()=>{e.close(),t2.l.tracker.info({name:"closeDeleteAllHistoryModal",message:"关闭删除所有历史 modal",payload:{}})}})}});o.info({name:"openDeleteAllHistoryModal",message:"打开删除所有历史 modal",payload:{}})},children:r("avatarMenuSettingsDialogDeleteAllHistoryButton")})]})]}),[E,r,o,w]),T=(0,U.useMemo)(()=>{var e;return(0,u.jsxs)(u.Fragment,{children:[(null==i?void 0:null===(e=i.idProfile)||void 0===e?void 0:e.name)?(0,u.jsxs)(lC,{children:[(0,u.jsx)("span",{children:r("profileUserName")}),(0,u.jsxs)(lv,{children:[i.idProfile.name,"GOOGLE"===i.idProfile.provider&&(0,u.jsxs)(u.Fragment,{children:["\xa0",(0,u.jsx)(ef,{})]}),"WECHAT"===i.idProfile.provider&&(0,u.jsxs)(u.Fragment,{children:["\xa0",(0,u.jsx)(lS,{})]})]})]}):null,l?(0,u.jsxs)(lC,{children:[(0,u.jsx)("span",{children:r("profileEmailTitle")}),(0,u.jsx)(lv,{children:iE(l)})]}):d||i?null:(0,u.jsxs)(lC,{children:[(0,u.jsx)(ta.O,{variant:"text",children:r("profileEmailTitle")}),(0,u.jsx)(lv,{children:(0,u.jsx)(ta.O,{variant:"text",children:"********@*****.***"})})]}),(0,u.jsxs)(lC,{children:[r("profilePhoneNumberTitle"),i?(0,u.jsx)(lv,{children:i.mobile?ib(i.mobile):"-"}):(0,u.jsx)(lv,{children:(0,u.jsx)(ta.O,{variant:"text",children:"**************"})})]}),(0,u.jsx)(lC,{children:(0,u.jsx)(i3,{onSuccess:a})}),(0,u.jsxs)(lC,{children:[r("avatarMenuSettingsDialogDeleteAccountItemLabel"),(0,u.jsx)(tW,{size:"m",variant:"filled",afterDeleteAccountOk:()=>{a(),m({navigateToSignIn:!0,isBanned:!1})},email:r("supportEmail"),buttonComp:lb})]})]})},[i,r,l,d,a,m]),k=(e,t)=>(0,u.jsx)(q,{...i4(s),children:(0,u.jsx)(el,{onClose:a,domProps:{"data-autofocus":!0},title:e,className:ld.settingDialogModalContent,headerWrapperStyle:{marginBottom:"8px"},contentDomProps:{className:ld.main},closeButtonNode:(0,u.jsx)(rL.h,{style:{marginRight:"-3px"},sizing:"icon",onClick:a,children:(0,u.jsx)(rE.xM,{})}),children:t})});return"settings"===v?k(r.avartarMenuSettingsDialogTitle,(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(lE,{value:f,onChange:e=>C(e),items:[{label:r("settingDialogAsideGeneralOptionLabel"),value:"general",icon:(0,u.jsx)(rE.Gx,{})},{label:r("settingDialogAsideAccountOptionLabel"),value:"account",icon:(0,u.jsx)(rE.yN,{})},{label:r("settingDialogAsideDataOptionLabel"),value:"data",icon:(0,u.jsx)(rE.Rj,{})},{label:r("settingDialogAsidePolicyOptionLabel"),value:"policy",icon:(0,u.jsx)(rE.MQ,{})}]}),(0,u.jsxs)("div",{className:ld.content,children:["general"===f&&b,"account"===f&&T,"data"===f&&I,"policy"===f&&y]})]})):k((0,u.jsxs)("div",{className:ld.shareLinksManageHeader,children:[(0,u.jsx)(rL.h,{size:"sm",onClick:()=>x("settings"),sizing:"icon",children:(0,u.jsx)(rE.PC,{})}),r.shareLinksManageDescription]}),(0,u.jsx)(ll,{}))}let lS=()=>(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",children:(0,u.jsx)("path",{fill:"#00c70a",d:"M9.5 4C5.36 4 2 6.69 2 10c0 1.89 1.08 3.56 2.78 4.66L4 17l2.5-1.5c.89.31 1.87.5 2.91.5A5.22 5.22 0 0 1 9 14c0-3.31 3.13-6 7-6c.19 0 .38 0 .56.03C15.54 5.69 12.78 4 9.5 4m-3 2.5a1 1 0 0 1 1 1a1 1 0 0 1-1 1a1 1 0 0 1-1-1a1 1 0 0 1 1-1m5 0a1 1 0 0 1 1 1a1 1 0 0 1-1 1a1 1 0 0 1-1-1a1 1 0 0 1 1-1M16 9c-3.31 0-6 2.24-6 5s2.69 5 6 5c.67 0 1.31-.08 1.91-.25L20 20l-.62-1.87C20.95 17.22 22 15.71 22 14c0-2.76-2.69-5-6-5m-2 2.5a1 1 0 0 1 1 1a1 1 0 0 1-1 1a1 1 0 0 1-1-1a1 1 0 0 1 1-1m4 0a1 1 0 0 1 1 1a1 1 0 0 1-1 1a1 1 0 0 1-1-1a1 1 0 0 1 1-1"})}),lE=e=>{let{items:t,value:n,onChange:a}=e;return(0,u.jsx)(oT,{wrapperClassName:ld.navigationWrapper,className:ld.navigation,children:t.map(e=>(0,u.jsx)(nU,{className:(0,Q.Z)(ld.item,e.value===n&&ld.active),icon:e.icon,iconMargin:8,onClick:()=>a(e.value),children:e.label},e.value))})},lb=e=>{let{onClick:t,children:n,type:a}=e;return(0,u.jsx)(nH,{variant:"error"===a?"danger":"outlined",onClick:t,children:n})},l_=n.p+"static/qrcode.9cc32b1ee3.svg";function ly(e){let{children:t,offsetOptions:n,placement:a}=e,r=t2.a.useTranslate(),s=(0,U.useRef)(null),o=(0,U.useRef)(null),i=lk(),l=i0(),d=(0,U.useRef)(null),c=(0,U.useMemo)(()=>function(e){let{children:t}=e;return(0,u.jsx)(lw,{menuDomRef:d,children:t})},[]),h=(0,U.useCallback)(()=>{if(!t2.l.isMobile)return{action:"none"};ni()},[]);return(0,u.jsx)(iT,{trigger:"click",dropdownMenuComponentRef:s,onSelect:e=>{if("settings"===e)i(e);else if("help"===e)T()?w():y();else if("logout"===e)ng.current=!1,l();else if("download"===e)return h()},options:[{label:r.avartarMenuDownloadAppOption,icon:(0,u.jsx)(rE.F8,{}),key:"download",wrapper:c,domProps:{onMouseDownCapture:e=>{e.stopPropagation(),e.preventDefault()}}},{label:r("avartarMenuSettingsOption"),icon:(0,u.jsx)(rE.Gx,{}),key:"settings"},{label:r("report"),key:"help",icon:(0,u.jsx)(rE.pJ,{})},{label:r("logout"),key:"logout",icon:(0,u.jsx)(rE.yC,{})}],placement:a,offsetOptions:n,menuTheme:{width:"244px"},menuDomRef:d,menuDomProps:{onMouseDown(e){e.preventDefault()}},componentRef:o,renderTrigger:e=>{let{domRef:n,domProps:a,positionDomRef:r}=e;return t({domRef:n,positionDomRef:r,domProps:{...a,onBlur:()=>{var e;a.onBlur(),null===(e=o.current)||void 0===e||e.setIsOpen(!1)},onKeyDown:e=>{var t,n,a;(null===(t=o.current)||void 0===t?void 0:t.getIsOpen())?null===(a=s.current)||void 0===a||a.handleKeyboardEvent(e):("ArrowDown"===e.key||"Enter"===e.key)&&(null===(n=o.current)||void 0===n||n.setIsOpen(!0))}}})}})}let lw=e=>{let{children:t,menuDomRef:n}=e,a=t2.a.useTranslate();return(0,u.jsxs)(rv.u,{className:iz.downloadAppContainer,theme:{backgroundColor:"var(--dsw-specific-menu)",padding:"8px 8px 12px 8px"},trigger:"hover",hoverable:!0,showArrow:!1,floatingAnimated:!0,renderTrigger:e=>{let{domProps:a,domRef:r,positionDomRef:s}=e;return s.current=null==n?void 0:n.current,t(r,a)},placement:"right-start",flipOptions:{fallbackPlacements:["top-start"]},children:[(0,u.jsx)("img",{src:l_}),(0,u.jsx)("div",{className:iz.text,children:a.scanDownloadApp})]})},lI={},lT=e=>{var t;let{className:n}=e,{user:a}=(0,t3.LM)(),r=null==a?void 0:null===(t=a.idProfile)||void 0===t?void 0:t.picture,[s,o]=(0,U.useState)(r?lI[r]:null),i=(0,U.useMemo)(()=>{var e,t,n,r;return null===(n=(null==a?void 0:null===(r=a.idProfile)||void 0===r?void 0:r.name)||(null==a?void 0:a.email))||void 0===n?void 0:null===(t=n.match(/[a-zA-Z]/))||void 0===t?void 0:null===(e=t[0])||void 0===e?void 0:e.toUpperCase()},[a]);return(0,u.jsx)("div",{className:(0,Q.Z)(iz.userAvatar,n),children:r&&!s?(0,u.jsx)("img",{className:iz.picture,style:{display:!1===s?"block":"none"},src:r,alt:"","aria-hidden":"true",onLoad:()=>{o(!1)},onError:e=>{e.currentTarget.style.display="none",o(!0),lI[r]=!0}}):i||(a?(0,u.jsx)(ej.J,{children:(0,u.jsx)(rE.yN,{})}):null)})},lk=()=>{let e=eu();return(0,U.useCallback)(t=>{let n=e.open({modalProps:{wrapperClassName:iz.settingDialogModalWrapper,children:(0,u.jsx)(lx,{defaultSelectedSection:"settings"===t?"general":"account",onClose:()=>{t2.l.tracker.info({name:"closeSettingModal",message:"关闭设置 modal",payload:{}}),n.close()}})}})},[e])};var lM=n(35478);function lj(e){let{className:t,collapsed:n,setCollapsed:a}=e,r=(0,U.useMemo)(()=>(0,u.jsx)(iD,{onSelectSession:()=>{t2.l.isMobile&&a(!0)}}),[a]);return(0,u.jsxs)("div",{className:(0,Q.Z)(lM.sider,t),children:[(0,u.jsx)(iU,{collapsed:n,onCollapsedChange:a}),(0,u.jsx)(iG,{onClick:()=>{t2.l.isMobile&&a(!0)}}),r,(0,u.jsx)(lR,{})]})}function lR(){var e;let t=t2.a.useTranslate(),n=(0,t3.LM)(e=>e.user),a=(null==n?void 0:null===(e=n.idProfile)||void 0===e?void 0:e.name)||((null==n?void 0:n.email)?iE(n.email):void 0)||((null==n?void 0:n.mobile)?ib(n.mobile):void 0)||"";return(0,u.jsx)(ly,{placement:"top-start",offsetOptions:{mainAxis:4,crossAxis:-10},children:e=>{let{domRef:r,domProps:s}=e;return(0,u.jsxs)("div",{className:lM.menuContainer,tabIndex:0,...s,ref:r,children:[(0,u.jsx)(lT,{}),n&&(0,u.jsx)("div",{className:lM.username,children:a||t.siderProfile}),(0,u.jsx)(ej.J,{size:16,className:lM.actionIcon,children:(0,u.jsx)(rE.od,{})})]})}})}var lA=n(91081);function lN(e){let{className:t,setCollapsed:n}=e,a=t2.a.useTranslate(),{onClick:r}=o1("top"),[s]=t2.l.useFgByKey("enableAvatarWhenCollapse");return(0,u.jsx)(ly,{offsetOptions:{mainAxis:6},placement:"bottom-start",children:e=>{let{domRef:o,domProps:i,positionDomRef:l}=e;return(0,u.jsxs)("div",{className:(0,Q.Z)(t,lA.sider),children:[(0,u.jsx)("div",{className:lA.logo,onClick:()=>n(!1),children:(0,u.jsx)(nc,{})}),(0,u.jsxs)("div",{ref:l,className:lA.group,children:[s?(0,u.jsx)("div",{className:lA.avatarContainer,tabIndex:0,...i,ref:o,children:(0,u.jsx)(lT,{className:lA.avatar})}):(0,u.jsx)("div",{style:{width:"3px"}}),(0,u.jsx)(iH,{size:"lg",sizing:"container",className:lA.icon,collapsed:!0,onCollapsedChange:()=>{n(!1)}}),(0,u.jsx)(rv.u,{renderTrigger:e=>{let{domProps:t,domRef:n}=e;return(0,u.jsx)(rL.h,{domProps:t,domRef:n,size:"lg",sizing:"container",className:lA.icon,onClick:r,children:(0,u.jsx)(nh,{})})},children:a.agentSelectionCreateSessionTooltip})]})]})}})}var lL=n(68002);let lF=e=>()=>e||t2.l.getLastSessionValue().siderCollapsed,lO=(0,U.memo)(function(e){let{componentRef:t,toggleHeader:n}=e,a=(0,F.cm)(),r=(0,F.uF)(),s=io(),[o,i]=(0,U.useState)(lF(s)),[l,d]=(0,U.useState)(lF(s)),c=(0,U.useCallback)(e=>{t2.l.setLastSessionValue(t=>({...t,siderCollapsed:e})),i(e)},[]);lP({searchViewController:r,previewController:a,closeMenu:(0,U.useCallback)(()=>c(!0),[c]),collapsed:o,toggleHeader:n}),(0,U.useImperativeHandle)(t,()=>({setCollapsed:c}));let h=(0,U.useRef)();return(0,U.useEffect)(()=>{clearInterval(h.current),o?h.current=setTimeout(()=>{d(!0)},100):d(!1)},[o]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:(0,Q.Z)(lL.sider,o&&lL.collapsed),children:[o&&(0,u.jsx)(lN,{className:(0,Q.Z)(lL.shrinkSider,!l&&lL.hide),setCollapsed:c}),(0,u.jsx)(lj,{className:(0,Q.Z)(lL.wideSider,o&&lL.hide),collapsed:o,setCollapsed:c})]}),(0,u.jsx)("div",{className:(0,Q.Z)(lL.mask,o&&lL.transparent),onClick:()=>{c(!0)}})]})}),lP=e=>{let{searchViewController:t,previewController:n,closeMenu:a,collapsed:r,toggleHeader:s}=e,o=io(),i=!il(),l=rq(e=>e.visible),d=t.hooks.useIsShowSearchView(),c=n.hooks.useIsShowPreview(),u=rq(e=>e.close),h=(0,er.$0)(()=>{o&&(a(),s(!1))}),p=(0,er.$0)(()=>{s(!0)}),g=(0,er.$0)(()=>{i&&a(),o&&s(!1)}),m=(0,er.$0)(()=>{o&&t.closeSearchView(),i&&(n.closePreview(),u())});(0,U.useEffect)(()=>{o&&a()},[o,a]),(0,U.useEffect)(()=>{r||m()},[r,m]),(0,U.useEffect)(()=>{d?h():p()},[p,h,d]),(0,U.useEffect)(()=>{c?g():p()},[p,g,c]),(0,U.useEffect)(()=>{l?g():p()},[l,g,p])};function lD(){let e=nn(t8.ROOT),t=nn(t8.AGENT),n=nn(t8.AGENT_SESSION),a=nr(),r=(null==t?void 0:t.params.agentId)||"";return t?{type:"agent",agentId:r}:e?{type:"agent",agentId:F.HL.AgentId.CHAT}:n?{type:"session",agentId:r,sessionId:n.params.sessionId||""}:a?{type:"share",shareId:a,agentId:F.HL.AgentId.CHAT}:{type:"none"}}var lB=n(64093);let lH=(0,e1.Ue)(()=>({title:null})),lV=e=>{let t=iR(e),n=null==t?void 0:t.title;(0,U.useEffect)(()=>{lH.setState({title:n})},[n])},lU=()=>{(0,U.useEffect)(()=>{lH.setState({title:null})},[])};function lW(){let e=t2.a.useTranslate(),t=lH(e=>e.title);return(0,u.jsx)(lB.q,{children:(0,u.jsx)("title",{children:t?"".concat(t," - DeepSeek"):"DeepSeek - ".concat(e("chatHtmlTitle"))})})}var lG=n(59024);let lz={flex:1,minWidth:0,display:"flex",justifyContent:"center",alignContent:"center",zIndex:12};function lZ(){var e,t;let{renameSession:n}=(0,F.af)(),a=(0,nm.F)(),r=t2.a.useTranslate(),s=na(),o=(0,F.aK)(e=>s&&e.getSession(s)?s:null),i=null!==(t=null===(e=F.aD.useShareContent(nr()))||void 0===e?void 0:e.fakeSession.id)&&void 0!==t?t:null,l=null!=o?o:i,d=(0,F.aK)(e=>{if(!l)return!1;let t=e.getSession(l);return!!t&&(t.state===F.HL.SessionStateEnum.idleWithNoHistory||t.state===F.HL.SessionStateEnum.fetchingHistory)}),c=iR(l);lV(l);let[h,p]=(0,U.useState)(!1),g=(0,U.useRef)(null);(0,U.useEffect)(()=>{if(h){var e;null===(e=g.current)||void 0===e||e.focus()}},[h]);let m=()=>{if(l){if(g.current){var e;n(l,null===(e=g.current)||void 0===e?void 0:e.value).then(e=>{let{deleted:t}=e;p(!1),t&&sd(l,"rename")})}else p(!1)}},f=null!=o,C=()=>{o&&p(!0)};return l&&(d?(0,u.jsx)("div",{style:lz,children:(0,u.jsx)(ta.O,{className:lG.skeleton,style:{width:180,height:24},variant:"text"})}):(0,u.jsx)("div",{style:lz,children:h?(0,u.jsx)(eM,{maxLength:32,onBlur:m,onKeyDown:e=>{"Enter"===e.key&&m()},autosize:!0,defaultValue:(null==c?void 0:c.title)||r("untitledChat"),style:{maxWidth:"100%"},variant:"bordered",inputDomRef:g,className:lG.titleShared,theme:{height:"40px",fontWeight:"500",textColor:"var(--dsw-alias-label-primary)",focusBorderColor:"var(--dsw-alias-brand-primary)",focusColor:a?"#32333E":void 0,lineHeight:"22px",fontSize:"14px",padding:"0 12px",borderRadius:"22px"}}):(0,u.jsx)("div",{className:(0,Q.Z)(lG.titleText,lG.titleShared,f&&lG.editable),tabIndex:0,style:{outline:"none"},onFocus:C,onClick:C,children:(0,u.jsx)(iA,{sessionId:l})})}))}let lq=(0,U.memo)(function(){return null});var lK=n(88339);let lY=e=>{let{className:t}=e,n=rY(),a=na(),r=(0,F.lD)(),s=F.aD.useIsShareSelecting(),o=is();return n&&a&&!s?(0,u.jsx)(rL.h,{className:(0,Q.Z)(t,lK.shareButton),size:o?"xl":"lg",onClick:()=>{r.toggleShareSelection(a,!0)},children:o?(0,u.jsx)(rE.qn,{}):(0,u.jsx)(rE.nO,{})}):null};var lX=n(34947);let l$=()=>{let e=t2.a.useTranslate();return t2.l.isMobile?(0,u.jsx)(nH,{style:{marginLeft:4},variant:"outlined",icon:(0,u.jsx)(rE.cu,{}),onClick:ni,children:e.downloadAppInMobile}):null},lQ=(0,U.memo)(function(e){let{onMenuClick:t,className:n,showEmpty:a}=e,r=lD(),s=!a&&"session"===r.type,{onClick:o}=o1("mobile_top_right"),i=!!nr(),l=(0,t3.he)();if(i){if("pending"===l)return(0,u.jsx)("div",{className:(0,Q.Z)(lX.messageListHeader,lX.share,n)});if("no"===l)return(0,u.jsx)("div",{className:(0,Q.Z)(lX.messageListHeader,lX.share,lX.guest,n),children:(0,u.jsx)(np,{})})}return(0,u.jsxs)("div",{className:(0,Q.Z)(lX.messageListHeader,i&&lX.share,n),children:[(0,u.jsx)("div",{className:lX.sessionHeader,children:s?(0,u.jsx)(lZ,{}):(0,u.jsx)(lq,{})}),(0,u.jsxs)("div",{className:lX.mobileHeader,children:[(0,u.jsx)(rL.h,{size:"xl",onClick:t,children:(0,u.jsx)(rE.KP,{})}),(0,u.jsx)(l$,{}),(0,u.jsx)("div",{className:lX.sep}),(0,u.jsx)(rL.h,{size:"xl",onClick:o,children:(0,u.jsx)(rE.HK,{})})]}),(0,u.jsx)(lY,{className:lX.shareBtn})]})});var lJ=n(70423),l1=n(86236),l0=n(45668),l2=n(92563);let l3=(0,U.memo)(function(e){let{onClose:t,children:n,className:a,name:r}=e;return(0,u.jsx)(l0.rq,{onClose:t,className:(0,Q.Z)(l2.container,a),title:(0,u.jsx)(rv.u,{checkEllipsis:!0,renderTrigger:e=>{let{domProps:t,domRef:n,ellipsisDomRef:a}=e;return(0,u.jsx)("div",{role:"heading",...t,ref:(0,n$.l)(n,a),children:r})},children:r}),children:n})}),l6=()=>(0,U.lazy)(()=>Promise.all([n.e("77"),n.e("884")]).then(n.bind(n,77529)).then(e=>({default:e.PreviewAll}))),l4=(0,U.memo)(function(){let e=(0,F.cm)(),t=e.hooks.useCurrentPreviewInfo(),n=rq();return t?(0,u.jsx)(l5,{type:t.type,onClose:()=>e.closePreview(),name:t.name,url:t.url}):n.visible?(0,u.jsx)(l5,{type:"html",onClose:n.close,name:n.title||"HTML",code:n.code}):null}),l5=(0,U.memo)(function(e){let[t,n]=(0,U.useState)(0),a=(0,U.useMemo)(l6,[t]);return(0,u.jsx)(t2.l.ErrorBoundary,{renderFallback:a=>{let{error:r,reset:s}=a;return(0,u.jsx)(l9,{error:r,onReset:()=>{n(t+1),s()},onClose:()=>e.onClose()})},onError:e=>{t2.l.tracker.error({name:"previewAllFailed",message:"触发预览 Error Boundary",payload:t2.l.withError(e,{pathname:location.pathname})})},children:(0,u.jsx)(l3,{...e,children:(0,u.jsx)(U.Suspense,{fallback:null,children:(0,u.jsx)(a,{...e},t)})})})});function l9(e){let{error:t,onReset:n,onClose:a,className:r}=e,s=t2.a.useTranslate(),o=t2.l.useIsDebug();return(0,u.jsx)("div",{className:(0,Q.Z)(l1.errorContainer,r),children:(0,u.jsxs)("div",{className:l1.main,children:[(0,u.jsx)("div",{className:l1.title,children:s("errorPageTitle")}),o?(0,u.jsx)("pre",{className:l1.error,children:JSON.stringify((0,lJ.Xy)(t),null,2)}):null,(0,u.jsxs)("div",{className:l1.action,children:[(0,u.jsx)(eQ.z,{type:"primary",variant:"filled",size:"m",onClick:()=>{n()},children:s("errorPageReloadButton")}),(0,u.jsx)(eQ.z,{type:"primary",variant:"filled",size:"m",onClick:()=>{a()},children:s("cancel")})]})]})})}var l7=n(46242);let l8=(0,U.memo)(function(){let e=(0,F.uF)(),t=e.hooks.useShowingSearchResult(),n=e.hooks.useIndexOffset(),a=t2.a.useTranslate(),r=(0,U.useRef)(null),s=!!t.length,o=(0,U.useCallback)(()=>e.closeSearchView(),[e]),i=(0,U.useRef)(s);return((0,U.useEffect)(()=>{!s&&i.current&&o(),i.current=s},[o,s]),(0,U.useLayoutEffect)(()=>{r.current&&(r.current.scrollTop=0)},[t]),s)?(0,u.jsx)(l0.rq,{className:(0,Q.Z)(l7.container,"scrollable"),onClose:o,title:a.searchResult,scrollDomRef:r,children:(0,u.jsx)("div",{className:l7.content,children:t.map((t,a)=>(0,u.jsx)(ry,{searchResult:t,index:a+1+n,className:l7.item,messageIndex:e.getShowingSearchView()||{sessionId:"",messageId:-1}},t.url))})}):null});var de=n(38096);function dt(e){let t,n,{children:a,className:r,type:s,showIcon:o=!1,bordered:i=!0,style:l}=e;switch(s){case"warning":t="".concat(Z.F,"-alert__icon--warning"),n=(0,u.jsx)(eJ.aN,{});break;case"success":t="".concat(Z.F,"-alert__icon--success"),n=(0,u.jsx)(eJ.tm,{});break;case"info":t="".concat(Z.F,"-alert__icon--info");break;default:t="".concat(Z.F,"-alert__icon--error"),n=(0,u.jsx)(eJ.Pz,{})}return(0,u.jsxs)("div",{className:(0,Q.Z)("".concat(Z.F,"-alert"),"".concat(Z.F,"-alert--").concat(s),i&&"".concat(Z.F,"-alert--bordered"),r),style:l,children:[o?(0,u.jsx)("div",{className:(0,Q.Z)("".concat(Z.F,"-alert__icon"),t),children:n}):null,(0,u.jsx)("div",{className:"".concat(Z.F,"-alert__content"),children:a})]})}n(73706);let dn=e=>({zh_CN:"YYYY [年] M [月] D [日] HH:mm",en_US:"MMMM D, YYYY HH:mm"})[e];var da=n(91230);function dr(e){var t,n,a,r;return e?{token:e.token,id:e.id,email:e.email,mobile:e.mobile||e.mobile_number||"",areaCode:e.area_code||"",status:e.status,idProfile:e.id_profile?e.id_profile:null,featureGates:{},avatarUrl:(null===(t=e.id_profile)||void 0===t?void 0:t.picture)?e.id_profile.picture.replace("s96-c","s".concat(64,"-c")):null,chat:{isMuted:!!(null===(n=e.chat)||void 0===n?void 0:n.is_muted),muteUntil:e.chat?1e3*e.chat.mute_until:0},hasLegacyChatHistory:null!==(a=e.has_legacy_chat_history)&&void 0!==a&&a,needBirthday:null!==(r=e.need_birthday)&&void 0!==r&&r}:null}function ds(e){let{muteUntil:t,className:n}=e,a=t2.a.useTranslate(),r=t2.a.useLocale();return(0,iX.ZP)(F.Yu.users_current,()=>(0,e6.I3)(void 0,{http:t2.l.httpWithCoreType,baseUrl:i1},dr).then(e=>{let{data:{user:t}}=e;return t}),{onSuccess(e){F.aK.getState().setMuted(e.chat)},refreshInterval:12e5}),(0,U.useEffect)(()=>{t||(0,iX.JG)(F.Yu.users_current)},[t]),(0,u.jsx)("div",{className:(0,Q.Z)(da.input,n),style:{paddingTop:16,paddingBottom:8},children:(0,u.jsx)(dt,{type:"warning",children:a("muteAlert")({muteUntil:t?rS()(t).format(dn(r)):"...",renderContactUs(e){let{children:t}=e;return(0,u.jsx)(eQ.z,{variant:"text",theme:{textColor:"inherit",ringColor:"currentColor"},style:{textDecoration:"underline"},onClick:()=>{y()},children:t})}})})})}var di=n(55056),dl=n(43495);let dd=(0,U.createContext)({getUploadFileController:()=>{throw Error("getUploadFileController is not implemented")}});dd.displayName="ChatInputUploadUiContext";let dc=()=>{let{getUploadFileController:e}=(0,U.useContext)(dd);return e()},du=(0,U.memo)(function(e){let{fileBelongInfo:t,onFileDelete:n}=e,a=dc(),r=a.hooks.useFileList(t);return r.length?(0,u.jsx)(oj,{fileList:r.map(e=>({...e.serverInfo||e.localInfo,renderKey:e.localInfo.id})),readOnly:!1,onFileDelete:e=>{let{id:t}=e;a.deleteFile(t),n()},closeButtonOffset:5}):null}),dh=(0,U.memo)(function(e){let{disabledByChatting:t,fileBelongInfo:n,onBeforeChooseFile:a}=e,r=t2.a.useTranslate(),s=(0,eJ.pm)(),o=dc(),i=(0,U.useRef)(null),l=(0,U.useRef)(null),[d]=t2.l.storageHandles.searchEnabledStorageHandle.useState(),c=t||d,h=()=>{var e,t;a(),null===(e=i.current)||void 0===e||e.click(),null===(t=l.current)||void 0===t||t.setIsOpen(!1)};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(rv.u,{componentRef:l,renderTrigger:e=>{let{domProps:t,domRef:n}=e;return(0,u.jsx)(rL.h,{size:"lg",disabled:c,className:dl.uploadLaunchButton,focusable:!0,domRef:n,domProps:t,onClick:h,children:(0,u.jsx)(rE.Xj,{})})},children:d?r("searchNotSupportFiles"):(0,u.jsx)("span",{className:dl.uploadButtonTooltipText,children:r("uploadFileButtonTooltip")()})}),(0,u.jsx)("input",{type:"file",multiple:!0,disabled:c,ref:i,style:{display:"none"},onChange:e=>{let t=e.target.files,{validFiles:a,problem:i}=o.checkFilesCountOrSize(Array.from(t||[]),n);if(i){let e="exceedCount"===i?r("uploadMax50Files"):r("uploadMax100MBSize");s.error(e)}a.length&&Array.from(a).forEach(e=>{o.addFileAndUpload({file:e,fileBelongInfo:n,thinkingEnabled:t2.l.storageHandles.thinkingEnabledStorageHandle.get()})}),e.target.value=""},accept:F.dZ.getAcceptFileTypes()})]})}),dp=e=>{let{files:t,status:n,textEmpty:a,currentExceeded:r}=e,s=n!==F.uT.verifying&&(n===F.uT.receiving||("multi"!==t.filesCountScale||!r)&&!!t.isAllReady&&(!t.isEmpty||!a));return{couldSubmit:!!s&&(t.isEmpty?!a:t.isAllReady),submitOrStopButtonUsable:s}},dg=e=>{let{isAllFilesParsed:t,isContainFilesRequireDelete:n,tokenCountState:a,inputValue:r,chatStatus:s,isMobile:o}=e,[i,l]=(0,U.useState)("none"),d=t2.a.useTranslate(),c=!t,u=!r.trim().length&&"empty"===a.filesCountScale,h=!(c||n)&&!a.isFirstCompletion&&a.currentExceeded&&"single"===a.filesCountScale,p=(0,U.useRef)(i);p.current=i,(0,U.useEffect)(()=>{c&&"user"!==p.current&&l("none"),!c&&h&&l("system")},[h,c]);let g=()=>{if(!a.currentExceeded)return null;let{filesCountScale:e,maxTokenNewFilesAllowed:t,filesTokenCount:n}=a;return"multi"!==e?null:t<=0?d("uploadMultipleFileTokenCountExceededPrompt2"):d("uploadMultipleFileTokenCountExceededPrompt")({percent:Math.max(1,Math.floor(t/n*100))+""})},m=(()=>{if(o&&s!==F.uT.idle)return null;if(s===F.uT.receiving)return d("chatInputStopButtonTooltip");if(c)return d("uploadingFiles");if(n)return d("uploadFileDeleteInvalidFilePrompt");let e=g();return e||(h?d("chatInputNewChatButtonTooltip"):o?null:u&&s===F.uT.idle?d("chatInputEmptyPromptButtonTooltip"):null)})(),f="none"!==i&&!!m||o;return{tipText:m,isShowTip:f||void 0,shouldOpenNewChat:h,onTryToSubmit:()=>l("user"),onTriggerClear:()=>l("none")}},dm=e=>{let{filesCountScale:t,t:n}=e;return n("empty"!==t?"deleteFilesToSearchTooltip":"deactivatedSearchTooltip")},df=async e=>{let t=dC(e),n=(await dv(Array.from(e||[]).map(e=>e.webkitGetAsEntry()),!0)).map(e=>e.file);return n.length>=t.length?n:t},dC=e=>Array.from(e||[]).map(e=>e.getAsFile()).filter(e=>!!e),dv=async(e,t)=>{let n=[],{tracker:a}=t2.l,r=async e=>{for(let s of e)if(s){if(t&&s.isDirectory){let e;let t=s.createReader(),n=[];try{do e=await new Promise((e,n)=>{t.readEntries(e,n)}),n=n.concat(e);while(e.length>0)}catch(e){a.info({name:"dragFileResolveFailed",message:"拖拽文件readEntries方法未成功",payload:a.withError(e,{fileName:s.name,api:"readEntries"})})}await r(n)}else{if(s.isFile)try{let e=await new Promise((e,t)=>{s.file(e,t)});n.push({file:e,entry:s,source:"dnd"})}catch(e){a.info({name:"dragFileResolveFailed",message:"拖拽文件file方法未成功",payload:a.withError(e,{fileName:s.name,api:"file"})})}}}};return await r(e),n},dx=(e,t,n)=>{n.filteredBySize&&e.error(t("uploadMax100MBSize")),n.filteredByName&&e.error(t("dragFileErrorTip")),n.filteredByCount&&e.error(t("uploadMax50Files"))},dS=(e,t)=>{let n=dE(e),a=n.length<e.length,r=db(n),s=r.length<n.length,o=d_(r,t),i=o.length<r.length;return{files:o,filteredBySize:s,filteredByName:a,filteredByCount:i}},dE=e=>{let t=F.dZ.getAcceptFileTypeList();return e.map(e=>({file:e,ext:(0,F.Dk)(e.name,"lower")})).filter(e=>t.includes(e.ext)).map(e=>e.file)},db=e=>e.filter(e=>e.size<=F.dZ.maxFileSize),d_=(e,t)=>t+e.length>F.dZ.maxFileCount?[]:e,dy=(e,t,n)=>{let{disable:a,thinkingEnabled:r}=n,s=dc(),o=(0,eJ.pm)(),i=t2.a.useTranslate(),l=(0,U.useCallback)(async e=>{var n;if(a)return;let l=null===(n=e.clipboardData)||void 0===n?void 0:n.items;if(!l||dT(l)||!dI(l))return;e.preventDefault();let d=dS(await df(l),s.getFilesCount(t));dx(o,i,d),d.files.forEach(e=>{s.addFileAndUpload({file:e,fileBelongInfo:t,thinkingEnabled:r})})},[a,s,t,o,i,r]);(0,U.useEffect)(()=>{let t=e.current;return null==t||t.addEventListener("paste",l),()=>{null==t||t.removeEventListener("paste",l)}},[l,e])},dw=(e,t,n)=>{let{disable:a,thinkingEnabled:r}=n,s=dc(),o=(0,U.useRef)(0),i=(0,eJ.pm)(),l=t2.a.useTranslate(),d=(0,U.useCallback)(()=>t(!0),[t]),c=(0,U.useCallback)(()=>t(!1),[t]),u=(0,U.useCallback)(async t=>{var n;if(a)return;o.current=0,c(),t.preventDefault();let d=null===(n=t.dataTransfer)||void 0===n?void 0:n.items,u=dS(await df(d),s.getFilesCount(e));dx(i,l,u),u.files.forEach(t=>{s.addFileAndUpload({file:t,fileBelongInfo:e,thinkingEnabled:r})})},[e,c,l,i,s,a,r]);(0,U.useEffect)(()=>{let e=document.body;e.addEventListener("drop",u);let t=e=>{e.preventDefault()},n=e=>{var t;!dk(null===(t=e.dataTransfer)||void 0===t?void 0:t.items)&&(e.preventDefault(),a||d(),o.current++)},r=e=>{e.preventDefault(),o.current--,0===o.current&&c()};return e.addEventListener("dragover",t),e.addEventListener("dragenter",n),e.addEventListener("dragleave",r),()=>{e.removeEventListener("drop",u),e.removeEventListener("dragover",t),e.removeEventListener("dragenter",n),e.removeEventListener("dragleave",r)}},[u,d,c,a])},dI=e=>Array.from(e).some(e=>e.webkitGetAsEntry()||e.getAsFile()),dT=e=>{let t=Array.from(e),n=t.some(e=>"text/plain"===e.type),a=t.some(e=>"image/png"===e.type),r=t.some(e=>"text/rtf"===e.type);return Number(n)+Number(a)+Number(r)>1},dk=e=>!e||Array.from(e).every(e=>"string"===e.kind);var dM=n(27499);let dj=()=>{let e=t2.a.useTranslate();return(0,u.jsx)("div",{className:dM.mask,children:(0,u.jsxs)("div",{className:dM.wrap,children:[(0,u.jsx)(ej.J,{width:46,height:55,children:(0,u.jsx)(dR,{})}),(0,u.jsx)("div",{className:dM.title,children:e("dragFileToUpload")}),(0,u.jsx)("div",{className:dM.desc,children:e("dragFileDesc")})]})})},dR=()=>(0,u.jsxs)("svg",{width:"46",height:"55",viewBox:"0 0 46 55",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,u.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23 12.884V4a2 2 0 0 1 2-2h.186a2 2 0 0 1 2 2v8.884a2.93 2.93 0 0 0 2.93 2.93H39a2 2 0 0 1 2 2V18a2 2 0 0 1-2 2h-8.884A7.116 7.116 0 0 1 23 12.884zM35.5 36.535a2 2 0 0 1 2 2v14a2 2 0 0 1-4 0v-14a2 2 0 0 1 2-2z",fill:"currentColor"}),(0,u.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M33.31 34.34a3 3 0 0 1 4.381 0l7.094 7.582a1.9 1.9 0 0 1-2.774 2.596l-4.32-4.617a3 3 0 0 0-4.38 0l-4.322 4.617a1.9 1.9 0 0 1-2.774-2.596l7.096-7.582z",fill:"currentColor"}),(0,u.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.471 4.14c-3.47 0-6.282 2.78-6.282 6.21v28.982c0 3.43 2.812 6.21 6.282 6.21h9.31a2 2 0 0 1 2 2v.14a2 2 0 0 1-2 2h-9.31C4.688 49.682 0 45.048 0 39.332V10.35C0 4.635 4.688 0 10.471 0h15.301c2.763 0 5.414 1.08 7.375 3.002l7.317 7.176a10.291 10.291 0 0 1 3.097 7.348v10.283a2 2 0 0 1-2 2h-.189a2 2 0 0 1-2-2V17.526a6.174 6.174 0 0 0-1.858-4.409l-7.317-7.175a6.32 6.32 0 0 0-4.425-1.802h-15.3z",fill:"currentColor"})]});var dA=n(7632);let dN=(0,U.memo)(function(e){let{enabled:t,disabled:n,onToggle:a,tooltipText:r,icon:s,text:o,placement:i,style:l}=e,d=(0,er.Vb)({value:r,shouldDelay:e=>!e,delay:50,defaultValue:r}),c=(0,U.useRef)(null);return(0,u.jsx)(rv.u,{trigger:"hover",isOpen:!!r&&void 0,componentRef:c,placement:i,renderTrigger:e=>{let{domProps:r,domRef:i}=e;return(0,u.jsx)(nO,{style:l,selected:t,disabled:n,icon:s,onClick:()=>a(!t),domProps:r,domRef:i,className:(0,Q.Z)(dA.button),iconMargin:0,children:(0,u.jsx)("span",{className:dA.text,children:o})})},children:d})}),dL=(0,U.memo)(function(e){let{enabled:t,setEnabled:n,isFileEmpty:a}=e,r=t2.a.useTranslate();return(0,u.jsx)(dN,{placement:"top",enabled:t,disabled:!1,onToggle:()=>{let e=!t;t2.l.tracker.info({name:"thinkingSwitchToggled",message:"点击了深度思考开关",payload:{enabled:"".concat(e),fileEmpty:"".concat(a)}}),n(e)},tooltipText:r("deactivatedThinkTooltip"),icon:(0,u.jsx)(rE.RR,{}),text:r("thinkingSwitch"),style:{transform:"translateZ(0)"}})});var dF=n(26879);let dO=()=>n6()?(0,u.jsx)(nN,{className:dF.scrollToBottomButton,variant:"icon",size:"lg",onClick:()=>{so.A.next({method:"clickButtonToScrollToBottom",args:null})},icon:(0,u.jsx)(rE.Er,{})}):null,dP=(0,U.memo)(function(e){let{enabled:t,disabled:n,onToggle:a,tooltipText:r}=e,s=t2.a.useTranslate();return(0,u.jsx)(dN,{placement:"top",enabled:t,disabled:n,onToggle:a,icon:(0,u.jsx)(rE.wL,{}),tooltipText:r,text:s("search"),style:{transform:"translateZ(0)"}})}),dD=()=>{let e=(0,Y.TH)();return!!(0,t7.LX)(t8.ROOT,e.pathname)},dB=(0,U.memo)(function(e){let{placeholder:t,status:n,onChange:a,onSubmit:r,onStop:s,onRequestHistoryValue:o,value:i,textareaProps:l,componentRef:d,fileBelongInfo:c,className:h,routeType:p}=e,g=t2.l.useIsDebug(),[m,f]=(0,U.useState)(!1),[C,v]=(0,U.useState)(!1),x=(0,U.useRef)(null),S=dc(),E=(0,F.J8)(),{thinkingEnabled:b,searchEnabled:_,setThinkingEnabled:y,setSearchEnabled:w}=rH();t2.l.storageHandles.searchEnabledStorageHandle.useState();let I=S.hooks.useIsMaxCount(c),T=S.hooks.useFilesTokenCount(c),k=S.hooks.useIsAllReady(c),M=S.hooks.useIsAllSettled(c),j=S.hooks.useIsContainFilesRequireDelete(c),R=S.hooks.useFilesCountScale(c),A=dD(),N=E.hooks.useBranchAndProcessingFilesTokenCount(c),L=E.hooks.useIsProcessingTokenCountExceeded(c,{searchEnabled:_}),O=E.hooks.useIsFirstCompletion(c),P=E.hooks.useMaxTokenNewFilesAllowed(c,{searchEnabled:_}),D="empty"!==R,B=dg({isAllFilesParsed:M,isContainFilesRequireDelete:j,tokenCountState:{currentExceeded:L,filesCountScale:R,isFirstCompletion:O,maxTokenNewFilesAllowed:P,filesTokenCount:T},inputValue:i,chatStatus:n,isMobile:t2.l.isMobile}),{shouldOpenNewChat:H}=B,{isComposingRef:V,onCompositionStart:W,onCompositionEnd:G}=oV(),z=(0,U.useRef)(null),Z=n===F.uT.verifying,{couldSubmit:q,submitOrStopButtonUsable:K}=dp({status:n,textEmpty:0===i.trim().length,currentExceeded:L,files:{containFilesRequireDelete:j||"multi"===R&&L,isAllReady:k,isEmpty:"empty"===R,isMaxCount:I,filesCountScale:R}}),Y=t2.a.useTranslate(),X=(0,U.useCallback)(e=>{n===F.uT.idle&&q?r(i.trim(),{newChat:H,thinkingEnabled:b,searchEnabled:_}):"enter"===e&&B.onTryToSubmit()},[n,q,r,H,B,i,b,_]),J=n===F.uT.idle?"send":n===F.uT.verifying?"loading":"stop";(0,U.useImperativeHandle)(d,()=>({focus:()=>{var e,t,n,a;null===(e=z.current)||void 0===e||e.focus(),null===(a=z.current)||void 0===a||a.setSelectionRange((null===(t=z.current)||void 0===t?void 0:t.value.length)||0,(null===(n=z.current)||void 0===n?void 0:n.value.length)||0)}}),[]),dy(z,c,{disable:_,thinkingEnabled:b}),dw(c,f,{disable:_,thinkingEnabled:b});let ee=(0,U.useMemo)(()=>(0,u.jsx)(dh,{disabledByChatting:Z||I,fileBelongInfo:c,onBeforeChooseFile:()=>B.onTriggerClear()}),[c,I,B,Z]),et=function(){let{containerDomRef:e,onContentResize:t,onContainerScroll:n,className:a,ScrollAreaContextProvider:r}=(0,nK.fu)({verticalScrollbarInsets:{leading:0,trailing:0,top:20,bottom:0},verticalScrollbarWidth:6,guttersPosition:"absolute"}),s=(0,U.useRef)(null),o=(0,U.useCallback)(e=>{e&&(e.scrollTop+e.offsetHeight+5<e.scrollHeight?e.classList.remove(di.scrollEnd):e.classList.add(di.scrollEnd))},[]),i=(0,er.$0)(()=>{n(),o(e.ref.current)});return(0,U.useLayoutEffect)(()=>{let e=new og.H(()=>{t()});return s.current&&e.observe(s.current),()=>e.disconnect()},[s,t,o]),{containerDomRef:e,contentDomRef:s,onScroll:i,className:a,Provider:r}}(),en=(0,u.jsx)(et.Provider,{children:(0,u.jsxs)("div",{className:di.textareaAlignWrapper,children:[(0,u.jsx)(nK._P,{}),(0,u.jsx)("textarea",{...l,ref:(0,n$.l)(et.containerDomRef,z),onScroll:et.onScroll,className:(0,Q.Z)(di.textarea,et.className),onFocus:()=>v(!0),onBlur:()=>v(!1),placeholder:t,rows:2,value:i,readOnly:n===F.uT.verifying&&A,onChange:e=>{a(e.currentTarget.value)},onKeyDown:e=>{if(B.onTriggerClear(),!V.current){if("ArrowUp"===e.key&&!i.length){o(),e.preventDefault();return}if("Enter"===e.key&&!e.shiftKey){if(e.ctrlKey){e.preventDefault(),document.execCommand("insertText",!1,"\n");return}t2.l.isMobile||(e.preventDefault(),X("enter"))}}},onCompositionStart:W,onCompositionEnd:G}),(0,u.jsx)("div",{ref:et.contentDomRef,className:di.textareaMirror,children:i+"\n"})]})}),ea=dm({t:Y,filesCountScale:R,enabled:_}),es=(0,U.useMemo)(()=>(0,u.jsx)(dH,{icon:J,disabled:!K,extraTooltip:B.tipText,showNewChat:H,showTooltip:B.isShowTip,onMouseDown:e=>{var t;e.preventDefault(),null===(t=z.current)||void 0===t||t.focus()},onMouseLeave:()=>B.onTriggerClear(),onClick:()=>{var e;n===F.uT.receiving?s():X("click"),null===(e=z.current)||void 0===e||e.focus()}}),[J,n,s,H,K,B,X]);!function(e){let{containerRef:t}=e;(0,U.useEffect)(()=>{if(!t.current)return;let e=new og.H(()=>{let e=t.current;if(!e)return;let n=function(e){let t=[...e.getElementsByClassName(dA.text)];return{elements:t,hide:()=>{t.forEach(e=>e.classList.add(dA.hide))},show:()=>{t.forEach(e=>e.classList.remove(dA.hide))}}}(e);n.show(),n.elements.some(e=>e.offsetHeight>parseFloat(getComputedStyle(e).lineHeight))&&n.hide()});return e.observe(t.current),()=>e.disconnect()},[t])}({containerRef:x});let eo=(0,U.useRef)(null);return(0,u.jsxs)("div",{className:(0,Q.Z)(di.inputFullContainer,h),children:[g?(0,u.jsxs)("span",{className:di.debugTip,children:["(debug) file token: ",T,"; all token: ",N]}):null,m?(0,$.createPortal)((0,u.jsx)(dj,{}),document.body):null,(0,u.jsx)(dO,{}),(0,u.jsxs)("div",{ref:eo,className:(0,Q.Z)(di.inputWrapper,p&&di[p],C&&"focused","empty"!==R&&di.withFile),onMouseDown:e=>{var t,n,a;let r=e.target;if(!(r instanceof Node)||eo.current&&!eo.current.contains(r))return;let s=null===(t=x.current)||void 0===t?void 0:t.contains(r.parentNode);(null===(n=z.current)||void 0===n?void 0:n.contains(r))||s||(e.preventDefault(),null===(a=z.current)||void 0===a||a.focus())},children:["empty"===R?null:(0,u.jsx)("div",{className:di.ocrTip,children:Y("onlyExtractTextFromFiles")}),(0,u.jsx)(du,{fileBelongInfo:c,onFileDelete:()=>B.onTriggerClear()}),(0,u.jsxs)("div",{className:di.belowInputWrapper,children:[en,(0,u.jsxs)("div",{className:di.functionRow,ref:x,children:[(0,u.jsx)(dL,{enabled:b,setEnabled:y,isFileEmpty:"empty"===R}),(0,u.jsx)(dP,{enabled:_,disabled:D,onToggle:w,tooltipText:ea}),(0,u.jsxs)("div",{className:di.functionRowRightColumn,children:[ee,es]})]})]})]})]})});function dH(e){let{icon:t,disabled:n,extraTooltip:a,showNewChat:r,showTooltip:s,onClick:o,onMouseDown:i,onMouseLeave:l}=e,d=t2.a.useTranslate(),c=(0,U.useMemo)(()=>"send"===t&&r?d("chatInputNewChatButton"):null,[t,r,d]),h=(0,U.useMemo)(()=>"loading"===t?(0,u.jsx)(tT.g,{}):"send"===t?(0,u.jsx)(rE.Di,{}):(0,u.jsx)(rE.eT,{}),[t]);return(0,u.jsx)(G,{disabled:!a,children:(0,u.jsx)(rv.u,{isOpen:s,renderTrigger:e=>{let{domProps:t,domRef:a}=e,r=c?nH:rL.h;return(0,u.jsx)(r,{domProps:{...t,onMouseLeave:e=>{var n;null===(n=t.onMouseLeave)||void 0===n||n.call(t,e),l()},onMouseDown:i},domRef:a,disabled:n,"aria-disabled":n,className:(0,Q.Z)(di.sendButton,n&&di.disabled),onClick:n?()=>{}:o,children:c||h})},children:a})})}let dV=()=>{let{createSessionAndStartCompletion:e}=(0,F.RJ)(),t=ns(),n=dc(),{tracker:a}=t2.l,r=t2.a.useTranslate();return async s=>{let{agentId:o,prompt:i,thinkingEnabled:l,searchEnabled:d,fileBelongInfo:c,isCreateNewChat:u,setIsSolvingChallenge:h,sessionId:p}=s;if(!o)return;let g=u&&p,m=e=>{g&&F.aK.getState().updateSession(p,t=>{t.state=e?F.HL.SessionStateEnum.sending:F.HL.SessionStateEnum.idle})};m(!0),e({agentId:o,prompt:i,thinkingEnabled:l,searchEnabled:d,getPowRes:()=>rz({t:r,setIsSolvingChallenge:h,scene:"completion_like"}),refFileIds:n.getRefFileIds(c)},{onSent:e=>{let{sessionId:r}=e;a.info({name:"createSessionAndStartCompletion",message:"创建会话并开始补全",payload:{agentId:o,newSessionId:r,isCreateNewChat:"".concat(u),thinkingEnabled:"".concat(l)}}),n.removeAgentFilesAfterCreateSession(o),g&&(n.removeSessionFilesAfterCreateSession(p),F.aK.getState().clearPrompt({sessionId:p})),m(!1),t(t8.AGENT_SESSION,{agentId:o,sessionId:r})},onUnsent:()=>{m(!1)}})}},dU=()=>{let{startCompletion:e}=(0,F.RJ)(),t=ns(),n=dc(),a=(0,F.lD)(),{fetchSessionHistory:r}=(0,F.af)(),s=t2.a.useTranslate(),o=(0,eJ.pm)();return async i=>{let{shareId:l,prompt:d,thinkingEnabled:c,searchEnabled:u,fileBelongInfo:h}=i,p=(0,F.S2)(l),g=F.aK.getState();try{let o=await a.forkShare(l);await r(o),g.updateSession(o,e=>{e.prompt=d}),t(t8.AGENT_SESSION,{agentId:F.HL.AgentId.CHAT,sessionId:o}),g.clearPrompt({sessionId:p}),await e({chatSessionId:o,prompt:d,refFileIds:n.getRefFileIds(h),thinkingEnabled:c,searchEnabled:u,getPowRes:()=>rz({t:s,setIsSolvingChallenge:n1.Z,scene:"completion_like"})},{onSent(){n.moveFilesBelongingSession(p,o)}}),t2.l.tracker.info({name:"forkShareAndChat",message:"分享对话继续聊",payload:{shareId:l,newSessionId:o,thinkingEnabled:"".concat(c),searchEnabled:"".concat(u)}})}catch(n){t2.l.tracker.error({name:"forkShareAndChatError",message:"分享对话继续聊失败",payload:t2.l.tracker.withError(n,{shareId:l})});let e=null;if(n&&"object"==typeof n&&"code"in n&&(e=n.code),null!==e)switch(e){case F.dV.ForkShareErrorCode.SHARE_DOES_NOT_EXIST:t(t8.SHARE_MISSING,void 0,{replace:!0}),a.removeShareContent(l);return;case F.dV.ForkShareErrorCode.SHARE_IS_DELETED_OR_BANNED:case F.dV.ForkShareErrorCode.ORIGINAL_SESSION_DELETED:t(t8.SHARE_INVALID,void 0,{replace:!0}),a.removeShareContent(l);return;case F.dV.ForkShareErrorCode.USER_IS_MUTED:}o.error(s.shareNetworkError)}}};function dW(e){let{componentRef:t,className:n}=e,a=lD(),{startCompletion:r,abortCompletion:s}=(0,F.RJ)(),o=(0,U.useRef)({setValue:()=>{}}),i=dV(),l=dU(),d=(0,F.aK)(e=>e.updateSession),c=(0,F.aK)(e=>e.updateAgent),h="none"!==a.type?a.agentId:null,p="session"===a.type?a.sessionId:"share"===a.type?(0,F.S2)(a.shareId):void 0,g=(0,F.aK)(e=>{var t,n;return"agent"===a.type?(null===(t=e.getAgent(a.agentId))||void 0===t?void 0:t.prompt)||"":p?(null===(n=e.getSession(p))||void 0===n?void 0:n.prompt)||"":(a.type,"")}),m=t2.a.useTranslate(),f=F.FW.useChatStatus({isAgentOrSession:"none"!==a.type,sessionId:p,agentId:h}),C=dc(),v=(0,U.useMemo)(()=>({sessionId:p||null,agentId:h}),[p,h]);return(0,U.useEffect)(()=>(C.startPollingFilesInfo(v),()=>C.stopPolling()),[v,C]),(0,u.jsx)(dB,{className:n,routeType:a.type,fileBelongInfo:v,componentRef:t,value:g,textareaProps:{id:"chat-input"},onChange:e=>{switch(a.type){case"session":case"share":p&&d(p,t=>{t.prompt=e});break;case"agent":h&&c(h,t=>{t.prompt=e})}},onStop:()=>{"session"===a.type&&p&&s(p)},onSubmit:async(e,t)=>{let{newChat:n,thinkingEnabled:s,searchEnabled:o}=t;if("share"===a.type){l({shareId:a.shareId,prompt:e,thinkingEnabled:s,searchEnabled:o,fileBelongInfo:v});return}if("agent"===a.type||n){i({agentId:h||F.HL.AgentId.CHAT,prompt:e,thinkingEnabled:s,searchEnabled:o,fileBelongInfo:v,isCreateNewChat:n,sessionId:p,setIsSolvingChallenge:n1.Z});return}"session"===a.type&&p&&r({chatSessionId:p,prompt:e,refFileIds:C.getRefFileIds(v),thinkingEnabled:s,searchEnabled:o,getPowRes:()=>rz({t:m,setIsSolvingChallenge:n1.Z,scene:"completion_like"})})},onRequestHistoryValue:()=>{},placeholder:m("chatInputPlaceholderChat"),status:f,handle:o})}var dG=n(81993);let dz=(0,U.memo)(function(e){let{className:t}=e,n=t2.a.useTranslate();return(0,u.jsx)("div",{className:(0,Q.Z)(dG.contentCaveat,t),children:n("contentCaveat")})});var dZ=n(66392);let dq=(0,U.memo)(function(){let e=(0,F.aK)(e=>e.muteUntil),t=(0,F.aK)(e=>e.isMuted),n=(0,U.useRef)(null),a=na(),r=F.aD.useIsShareSelecting();return(0,U.useEffect)(()=>{var e;!t2.l.isMobile&&(null===(e=n.current)||void 0===e||e.focus())},[a]),(0,u.jsxs)("div",{className:(0,Q.Z)(dZ.messageInputContainer,r&&sb.hide),children:[(0,u.jsx)("div",{className:dZ.backgroundMask}),t?(0,u.jsx)(ds,{muteUntil:e}):(0,u.jsx)(dW,{componentRef:n}),(0,u.jsx)(dz,{})]})}),dK=e=>{let t,{count:n,interval:a,onTrigger:r}=e,s=0;return()=>{s++,clearTimeout(t),s===n?(r(),s=0):t=setTimeout(()=>{s=0},a)}};var dY=n(91228);let dX=(0,U.memo)(function(e){let{onMenuClick:t}=e;lU();let n=(0,F.aK)(e=>e.isMuted),a=t2.a.useTranslate(),r=(0,F.aK)(e=>e.muteUntil),s=(0,U.useRef)(null),o=(0,U.useMemo)(()=>dK({count:5,interval:2e3,onTrigger:t2.l.toggleDebugPanel}),[]);return(0,U.useEffect)(()=>{var e;!t2.l.isMobile&&(null===(e=s.current)||void 0===e||e.focus())},[]),(0,u.jsxs)("div",{className:dY.onboardingContainer,children:[(0,u.jsx)(lQ,{onMenuClick:t,className:dY.header}),(0,u.jsxs)("div",{className:dY.onboarding,children:[(0,u.jsx)("div",{className:(0,Q.Z)(dY.sayHi,n&&dY.muted),children:(0,u.jsxs)("div",{className:dY.sayHiMain,onClick:o,children:[(0,u.jsx)(nu,{className:dY.logo}),a.welcomeMessageChat250808]})}),n?(0,u.jsx)(ds,{muteUntil:r,className:dY.muteAlert}):(0,u.jsx)(dW,{componentRef:s})]})]})});var d$=n(86336);let dQ=(0,U.createContext)({displayType:"code",setDisplayType:()=>{throw Error("Method [setDisplayType] not implemented.")},setSmartScroll:()=>{throw Error("Method [setSmartScroll] not implemented.")}});dQ.displayName="CodeContextImpl";let dJ=(0,U.memo)(function(e){let{children:t,infostring:n}=e,a=(0,U.useRef)(null),{codeDisplayType:r,setCodeDisplayType:s}=d1(n,a),o=(0,U.useMemo)(()=>({displayType:r,setDisplayType:s,setSmartScroll:e=>{a.current=e}}),[r,s]);return(0,u.jsx)(dQ.Provider,{value:o,children:(0,u.jsx)(d$.vj,{children:t})})}),d1=(e,t)=>{let[n,a]=(0,U.useState)("code"),r=(0,U.useRef)(!1);return(0,U.useLayoutEffect)(()=>{(null==e?void 0:e.toLowerCase())==="mermaid"&&a("mermaid")},[e]),(0,U.useLayoutEffect)(()=>{var e;r.current&&(r.current=!1,null===(e=t.current)||void 0===e||e.call(t))},[n,t]),{setCodeDisplayType:e=>{r.current=!0,a(e)},codeDisplayType:n}},d0=()=>(0,U.useContext)(dQ);var d2=n(34831);let d3=()=>(0,U.lazy)(()=>Promise.all([n.e("789"),n.e("77"),n.e("531")]).then(n.bind(n,37073))),d6=e=>{let{visible:t}=e,[n,a]=(0,U.useState)(0),r=(0,U.useMemo)(d3,[n]);return(0,u.jsx)(t2.l.ErrorBoundary,{renderFallback:e=>{let{error:r,reset:s}=e;return t?(0,u.jsx)(l9,{className:d2.errorContent,error:r,onReset:()=>{a(n+1),s()},onClose:()=>void 0}):null},onError:e=>{t2.l.tracker.error({name:"mermaidRenderBroken",message:"触发mermaid渲染ErrorBoundary",payload:t2.l.withError(e,{})})},children:(0,u.jsx)(U.Suspense,{fallback:(0,u.jsx)("div",{className:d2.standIn}),children:(0,u.jsx)(r,{...e},n)})})},d4=(0,U.memo)(function(e){let{code:t,html:n,infostring:a,isOpen:r}=e,{displayType:s}=d0(),o=!ol().wip;return(0,u.jsxs)(u.Fragment,{children:["code"===s?(0,u.jsx)("pre",{dangerouslySetInnerHTML:{__html:n}}):null,"mermaid"===a?(0,u.jsx)(d6,{graphText:t,visible:"mermaid"===s,bypassErrorProtection:!r||o,isFinal:!r}):null]})});n(73883);let d5=[];function d9(e){let{options:t=d5,defaultValue:n=null,value:a,onChange:r,className:s,style:o,theme:i,focusable:l=!0}=e,[d,c]=(0,U.useState)(n),h=void 0===a?d:a,p=t.findIndex(e=>e.value===h),[g,m]=(0,U.useState)(null),[f,C]=(0,U.useState)(()=>null===h&&t.length?t[0].value:h),[v,x]=(0,U.useState)(0),S=(0,U.useRef)(null),E=(0,U.useMemo)(()=>({...o,"--ds-segmented-color":null==i?void 0:i.color,"--ds-segmented-selected-color":null==i?void 0:i.selectedColor,"--ds-segmented-button-box-shadow":null==i?void 0:i.boxShadow}),[o,i]);(0,U.useEffect)(()=>{if(v){var e;null===(e=S.current)||void 0===e||e.focus()}},[v]);let b=(0,U.useRef)(null);return(0,u.jsx)("div",{className:(0,Q.Z)("".concat(Z.F,"-segmented"),s),style:E,ref:b,onKeyDown:e=>{if("ArrowRight"===e.key||"ArrowLeft"===e.key||"ArrowDown"===e.key||"ArrowUp"===e.key){e.preventDefault();let n=t.findIndex(e=>e.value===g),a=n;if(-1===n)return;let s=0;for(;s<t.length;){switch(s+=1,e.key){case"ArrowRight":case"ArrowDown":a+=1;break;case"ArrowLeft":case"ArrowUp":a-=1}a<0?a=t.length-1:a>=t.length&&(a=0);let n=t[a];if(!n.disabled){C(n.value),x(e=>e+1),c(n.value),null==r||r(n.value);break}}}},onBlur:e=>{var t;(null===(t=b.current)||void 0===t?void 0:t.contains(e.relatedTarget))&&C(h)},role:"tablist",children:t.map((e,n)=>{let a=p===n,s=e.disabled,o=l&&!s&&f===e.value;return(0,u.jsxs)("div",{role:"tab","aria-selected":a,tabIndex:o?0:void 0,className:(0,Q.Z)("".concat(Z.F,"-segmented-button"),a&&"".concat(Z.F,"-segmented-button--selected"),s&&"".concat(Z.F,"-segmented-button--disabled")),onMouseDown:s?void 0:()=>{c(e.value),null==r||r(e.value),C(e.value)},ref:o?S:void 0,onFocus:s?void 0:()=>m(e.value),onBlur:s?void 0:()=>m(null),children:[e.label,n===t.length-1||n+1===p?null:(0,u.jsx)("div",{className:"".concat(Z.F,"-segmented-separator"),"aria-hidden":!0}),(0,u.jsx)("div",{className:"".concat(Z.F,"-segmented-button__shadow"),"aria-hidden":!0})]},e.value)})})}let d7="code-info-button-text";var d8=n(10311);let ce=e=>{let{left:t,right:n}=e,a=(0,U.useRef)(null),r=(0,U.useRef)(null),s=(0,U.useRef)(null);return(0,U.useEffect)(()=>{if(!a.current)return;let e=new og.H(()=>{if(!a.current||!r.current||!s.current)return;s.current.querySelectorAll(".".concat(d7)).forEach(e=>{e instanceof HTMLSpanElement&&(e.style.display="")});let e=a.current.clientWidth,t=e>=r.current.clientWidth+s.current.clientWidth+100;s.current.querySelectorAll(".".concat(d7)).forEach(e=>{e instanceof HTMLSpanElement&&(e.style.display=t?"":"none")})});return e.observe(a.current),()=>e.disconnect()},[]),(0,u.jsxs)("div",{ref:a,className:d8.container,children:[(0,u.jsx)("div",{ref:r,className:d8.sidePart,children:t}),(0,u.jsx)("div",{ref:s,className:(0,Q.Z)(d8.sidePart,d8.right),children:n})]})};var ct=n(52653),cn=n(84733);let ca=e=>{let{code:t,infostring:n,disabled:a,style:r}=e,s=t2.a.useTranslate();return(0,u.jsx)(rO,{style:r,disabled:a,onClick:()=>{aF(t),t2.l.tracker.info({name:"copyCodeBlock",message:"复制代码块",payload:{lang:n||""}})},children:(0,u.jsx)("span",{className:d7,children:s("copyCode")})})},cr=e=>{let{domRef:t,domProps:n,onClick:a,disabled:r}=e,s=t2.a.useTranslate();return(0,u.jsx)(nU,{disabled:r,domRef:t,domProps:n,onClick:a,icon:(0,u.jsx)(rE.Ok,{}),children:(0,u.jsx)("span",{className:d7,children:s("codeDownload")})})},cs=e=>{let{infostring:t}=e;return(0,u.jsx)("span",{className:cn.codeInfoName,children:t})},co=e=>{let{left:t,right:n}=e;return(0,u.jsx)("div",{className:cn.verticalLine,style:{marginLeft:t,marginRight:n}})},ci=e=>{let{code:t,infostring:n,codeBlockRef:a}=e,r=t2.a.useTranslate(),{displayType:s,setDisplayType:o}=d0(),i=[{label:r("mermaidDiagram"),value:"mermaid"},{label:r("mermaidCode"),value:"code"}],{zoomOut:l,zoomIn:d,downloadSvg:c,downloadPng:h}=(0,d$.JK)(),p="success"===(0,d$.zV)(),g=r9(),m=F.aD.useIsShareSelecting();return d0().setSmartScroll(()=>{a.current&&g(a.current,{topOcclusion:0,bottomOcclusion:138,allowPartial:"top-visible"})}),(0,u.jsx)(ce,{left:!m&&(0,u.jsx)(d9,{className:cn.switch,options:i,value:s,onChange:o,theme:{color:"var(--dsw-alias-markdown-code-segment-unselected)",boxShadow:"0 0 4px 0 rgba(0,0,0,0.02), 0 6px 10px 0 rgba(0,0,0,0.04)",selectedColor:"var(--dsw-alias-markdown-code-segment-selected)"}}),right:(0,u.jsxs)("div",{className:cn.buttons,children:["mermaid"===s?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(cl,{onClick:l,icon:(0,u.jsx)(rE.m,{}),tooltipText:r("mermaidZoomOut"),disabled:!p||m}),(0,u.jsx)(cl,{onClick:d,icon:(0,u.jsx)(rE.ay,{}),tooltipText:r("mermaidZoomIn"),disabled:!p||m}),(0,u.jsx)(co,{})]}):(0,u.jsx)(ca,{code:t,infostring:n}),(0,u.jsx)(iT,{trigger:"click",renderTrigger:e=>{let{domRef:t,domProps:n}=e;return(0,u.jsx)(cr,{domRef:t,domProps:n,disabled:m})},menuDomProps:{style:{minWidth:100}},placement:"bottom-end",disabled:m,options:[{label:r("mermaidDownloadSvg"),key:"download_svg",domProps:{className:p?"":cn.disableOption},style:{justifyContent:"center"}},{label:r("mermaidDownloadPng"),key:"download_png",domProps:{className:p?"":cn.disableOption},style:{justifyContent:"center"}},{label:r("mermaidDownloadCode"),key:"download_code",style:{justifyContent:"center"}}],onSelect:e=>{switch(e){case"download_code":(0,ct.Yp)(t,"mermaid");break;case"download_svg":p&&c();break;case"download_png":p&&h();break;default:(0,tF.vv)(e)}}})]})})},cl=e=>{let{onClick:t,icon:n,tooltipText:a,disabled:r}=e;return(0,u.jsx)(rv.u,{placement:"bottom",renderTrigger:e=>{let{domRef:a,domProps:s}=e;return(0,u.jsx)(rL.h,{domRef:a,domProps:s,className:(0,Q.Z)(cn.zoomButton,r&&cn.disabled),onClick:r?void 0:t,children:n})},children:a})},cd=e=>{let{code:t,infostring:n,isOpen:a}=e,{wip:r}=ol(),s=F.aD.useIsShareSelecting();return(0,u.jsx)(ce,{left:(0,u.jsx)(cs,{infostring:n}),right:(0,u.jsxs)("div",{className:cn.buttons,children:[(0,u.jsx)(ca,{style:{marginRight:"4px"},disabled:r&&a,code:t,infostring:n}),(0,u.jsx)(cr,{disabled:r&&a||s,onClick:()=>(0,ct.Yp)(t,n)})]})})};var cc=n(23513);let cu=e=>{let{code:t,isOpen:n,infostring:a}=e;(0,U.useEffect)(()=>{(0,cc.E0)()},[]);let{wip:r}=ol(),s=F.aD.useIsShareSelecting();return(0,u.jsx)(ce,{left:(0,u.jsx)(cs,{infostring:a}),right:(0,u.jsxs)("div",{className:cn.buttons,children:[(0,u.jsx)(ca,{style:{marginRight:"4px"},disabled:r&&n,code:t,infostring:a}),(0,u.jsx)(cr,{disabled:r&&n||s,onClick:()=>!s&&(0,ct.Yp)(t,a)}),(0,u.jsx)(co,{}),(0,u.jsx)(ch,{disabled:n||s,code:t,infostring:a})]})})},ch=e=>{let{disabled:t,code:n,infostring:a}=e,r=t2.a.useTranslate(),s=rq(e=>e.setCode),o=rq(e=>e.open),i=(0,er.$0)(()=>{t2.l.tracker.info({name:"runMarkdownCode",message:"运行markdown code",payload:{infostring:a||""}}),s(n),o()});return(0,u.jsx)(nU,{disabled:t,onClick:i,icon:(0,u.jsx)(rE.zI,{}),children:(0,u.jsx)("span",{className:d7,children:r("runHtml")})})},cp=(0,U.memo)(function(e){let t=cg(e.infostring);return(0,u.jsx)(t,{...e})}),cg=e=>{switch(null==e?void 0:e.toLowerCase()){case"html":case"svg":case"xml":return cu;case"mermaid":return ci;default:return cd}};var cm=n(18910);function cf(e){let{children:t}=e,{containerDomRef:n,onContainerScroll:a,ScrollAreaGutters:r,className:s}=(0,nK.fu)({horizontalScrollbarInsets:{leading:0,trailing:0,top:0,bottom:4}});return(0,u.jsxs)("div",{className:(0,Q.Z)(s,cm.wrapper),ref:n,onScroll:a,children:[(0,u.jsx)(r,{}),t]})}var cC=n(69605);let cv=()=>[(0,u.jsx)(cx,{pos:"left"},1),(0,u.jsx)(cx,{pos:"right"},2)],cx=e=>{let{pos:t}=e;return(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",className:(0,Q.Z)(cC.item,cC[t]),children:(0,u.jsx)("path",{d:"M-5.24537e-07 0C-2.34843e-07 6.62742 5.37258 12 12 12L0 12L-5.24537e-07 0Z",fill:"currentColor"})})};function cS(e){let{children:t}=e,n=(0,nm.F)();return(0,u.jsx)(rg,{CodeAction:void 0,CodeFooterAction:void 0,codeTheme:n?"dark":"light",CodeInfoRow:cp,CodeContent:d4,CodeContext:dJ,codeBottom:(0,u.jsx)(cv,{}),TableWrapper:cf,children:t})}let cE=()=>{let e=(0,Y.s0)(),t=(0,Y.bS)(t8.ROOT);(0,U.useEffect)(()=>{let n=so.A.subscribe(n=>{"shortcutCreateNewChat"!==n.method||t||e(t8.ROOT)});return()=>n.unsubscribe()},[e,t])};var cb=n(44071);let c_=(0,U.memo)(function(){cE();let[e,t]=(0,U.useState)(!0),n=(0,er.II)(na());(0,U.useEffect)(()=>{let e=()=>{var e;t2.l.tracker.info({name:"printed",message:"打印页面",payload:{sessionId:null!==(e=n.current)&&void 0!==e?e:""}})};return window.addEventListener("afterprint",e),()=>window.removeEventListener("afterprint",e)},[n]),(0,de.z)();let a=(0,U.useRef)(null),r=(0,U.useCallback)(()=>{var e;null===(e=a.current)||void 0===e||e.setCollapsed(!1)},[]),s=function(){let e=(0,t3.he)();return nr()?"pending"===e?"pending":"no"===e?"yes":"no":"no"}();return(0,u.jsxs)("div",{className:cb.frame,children:[(0,u.jsx)("div",{className:cb.banner,children:(0,u.jsx)(t6,{})}),(0,u.jsxs)("div",{className:cb.layout,children:["no"===s&&(0,u.jsx)(lO,{toggleHeader:t,componentRef:a}),(0,u.jsxs)("div",{className:cb.main,children:[(0,u.jsx)("div",{className:cb.messageColumn,children:(0,u.jsx)(cS,{children:(0,u.jsx)(cy,{showHeader:e,onMenuClick:r})})}),(0,u.jsx)(l4,{}),(0,u.jsx)(l8,{})]})]})]})}),cy=(0,U.memo)(function(e){let{onMenuClick:t,showHeader:n}=e;return dD()?(0,u.jsx)(dX,{onMenuClick:t}):(0,u.jsxs)(r6,{children:[(0,u.jsx)(lQ,{showEmpty:!n,onMenuClick:t}),(0,u.jsx)(iC,{inputNode:(0,u.jsx)(dq,{})})]})}),cw=function(e){e(window.Android&&"function"==typeof window.Android.getUserInfo?JSON.parse(window.Android.getUserInfo()):"Service not available")};var cI=n(96598),cT=n(26128);let ck=()=>"undefined"==typeof indexedDB?new cM:new cj;class cM extends F.jX{set(){return Promise.resolve()}async get(){return null}async delete(){}}class cj extends F.jX{constructor(...e){super(...e),(0,ab._)(this,"historyIdbPromise",(0,cT.X3)("deepseek-chat",1,{upgrade:e=>{e.createObjectStore("history-message")}})),(0,ab._)(this,"set",async e=>{let{data:t,frontendVersion:n}=e;try{let e=await this.historyIdbPromise;await e.put("history-message",{...t,timestamp:(0,F.Mj)(),frontendVersion:n},t.key)}catch(e){t2.l.tracker.error({name:"idbOperateError",message:"indexedDB set 出错",payload:t2.l.tracker.withError(e,{scene:"set"})})}}),(0,ab._)(this,"get",async e=>{let{key:t,frontendVersion:n}=e;try{let e=await this.historyIdbPromise,a=await e.get("history-message",t);if(!a)return null;let{getGuardedFrontendVersion:r}=this.versionHelper,s=r(a.frontendVersion);if(s===n)return a;return t2.l.tracker.info({name:"invalidateHistoryMessageCache",message:"淘汰不符合版本的缓存",payload:{targetFrontendVersion:n,cacheFrontendVersion:s,key:t}}),this.delete(t),null}catch(e){return t2.l.tracker.error({name:"idbOperateError",message:"indexedDB get 出错",payload:t2.l.tracker.withError(e,{scene:"set"})}),null}}),(0,ab._)(this,"delete",async e=>{try{let t=await this.historyIdbPromise;await t.delete("history-message",e)}catch(e){t2.l.tracker.error({name:"idbOperateError",message:"indexedDB delete 出错",payload:t2.l.tracker.withError(e,{scene:"delete"})})}})}}let cR=(0,U.memo)(function(e){let{children:t}=e,n=cF(),a=cA(n),r=cN(),s=cL(),o=(0,Y.TH)(),i=cO();(0,U.useEffect)(()=>{let e=t2.l.visibilityChange$.subscribe(e=>{e?n.resume():n.pause()});return()=>e.unsubscribe()},[n]);let l=(0,U.useMemo)(()=>i.resumeCompletion.bind(i),[i]),d=(0,U.useMemo)(()=>({historyMessageCache:s}),[s]),c=(0,U.useMemo)(()=>({chatController:i}),[i]),h=(0,U.useMemo)(()=>({getUploadFileController:()=>a}),[a]),p=(0,U.useMemo)(()=>({getTokenCountController:()=>r}),[r]);return(0,u.jsx)(o3.Provider,{value:d,children:(0,u.jsx)(F.yB,{resumeCompletion:l,children:(0,u.jsx)(F.YE,{children:(0,u.jsx)(F.p5.Provider,{value:c,children:(0,u.jsx)(rV,{children:(0,u.jsx)(n3,{children:(0,u.jsx)(F.l3,{location:o,children:(0,u.jsx)(dd.Provider,{value:h,children:(0,u.jsx)(F.yZ.Provider,{value:p,children:(0,u.jsx)(F.wF,{location:o,children:(0,u.jsx)(rK,{children:t})})})})})})})})})})})}),cA=e=>{let t=(0,U.useRef)(null),n=t2.a.useTranslate();if(!t.current){let a=new F.dZ(()=>t2.a.getLocale(),e,async(e,t)=>{let{file:a,headers:r}=e,s=await rz({t:n,setIsSolvingChallenge:()=>void 0,scene:"upload_file"});if(!s.success)throw Error("Fail to retrieve pow for upload file");let[o,i]=(0,rU.g6)(s.res,F.ZQ,btoa);return(0,F.a2)({file:a,headers:{...r,[o]:i}},t)});t.current=a}return t.current},cN=()=>{let e=(0,U.useRef)(null);return e.current||(e.current=new F.f9),e.current},cL=()=>{let e=(0,U.useRef)(null);return e.current||(e.current=ck()),e.current},cF=()=>{let e=(0,U.useRef)(null);return e.current||(e.current=new F.Ye),e.current},cO=()=>{let e=(0,U.useRef)();return e.current||(e.current=new F.v7({onSessionInvalid:e=>{let{sessionId:t,toastFn:n}=e;n(),sd(t,"sse")}})),e.current};function cP(e){let{type:t}=e,n=t2.a.useTranslate(),a="missing"===t?n.shareNotFound:n.shareInvalid;return(0,u.jsx)(nz,{description:a})}var cD=n(27096),cB=n(82193);n(33401);let cH=e=>{let[t,n]=(0,U.useState)(!0);return(0,U.useEffect)(()=>{n(e.getPreferenceSettled())},[e]),{settled:t,setSettled:n}},cV=e=>{let{cookieBanner:t,i18n:n,className:a,cookieDomain:r,onShow:s,onClose:o}=e,{settled:i,setSettled:l}=cH(t);return((0,U.useEffect)(()=>{i?null==o||o():null==s||s()},[o,s,i]),i)?null:(0,u.jsxs)("div",{className:"cookie_banner-wrap ".concat(a),children:[(0,u.jsx)("div",{className:"cookie_banner-title",children:n.cookieBannerTitle}),(0,u.jsx)("div",{className:"cookie_banner-description",children:n.cookieBannerDesc}),(0,u.jsx)(eQ.z,{type:"secondary",variant:"bordered",className:"cookie_banner-accept-essential-button",theme:{textColor:"var(--dsr-text-1)",fontSize:"14px",lineHeight:"140%"},onClick:()=>{t.setAcceptLevel("essential",{domain:r}),l(!0)},children:n.cookieBannerAcceptEssential}),(0,u.jsx)(eQ.z,{type:"secondary",variant:"borderless",className:"cookie_banner-accept-all-button",theme:{color:"var(--dsr-main, #4D6BFE)",hoverColor:"var(--dsr-button-main-bg-hover)",textColor:"#fff",fontSize:"14px",lineHeight:"140%"},onClick:()=>{t.setAcceptLevel("all",{domain:r}),l(!0)},children:n.cookieBannerAcceptAll})]})};n(16841);let cU="ds_cookie_preference",cW=["Hm_lpvt","Hm_lvt","Hm_up","Hm_ct","Hm_cv","HMACCOUNT","HMVT"],cG=["all","essential"],cz="deepseek.com",cZ=e=>{let t=decodeURIComponent(e);try{let e=JSON.parse(t),n=null==e?void 0:e.level;if(cG.includes(n))return{level:n,isValidValue:!0};return{level:"all",isValidValue:!1}}catch(e){return{level:"all",isValidValue:!1}}},cq=e=>encodeURIComponent(JSON.stringify(e));class cK{listenLevelChange(e){return this.levelChangeListeners.add(e),()=>{this.levelChangeListeners.delete(e)}}getPreferenceSettled(){return cZ(this.accessor.read(cU)||"").isValidValue}getAcceptLevel(){return cZ(this.accessor.read(cU)||"").level}setAcceptLevel(e,t){let n=cq({level:e}),a={expires:365,domain:cz,...Object.fromEntries(Object.entries(t).filter(e=>{let[t,n]=e;return null!=n}))};this.accessor.write(cU,n,a),this.levelChangeListeners.forEach(t=>t(e))}deleteByName(e,t){let{domain:n}=t;for(let t of e(this.accessor.getAll()))this.accessor.remove(t,{domain:n||cz})}clearBaiduAnalytics(e){this.deleteByName(e=>Object.keys(e).filter(e=>cW.some(t=>e.startsWith(t))),{domain:e})}constructor(e){(0,ab._)(this,"accessor",void 0),(0,ab._)(this,"levelChangeListeners",new Set),this.accessor=e}}n(59007);let cY=()=>(i||(i=new cK({read:cB.Z.get.bind(cB.Z),write:cB.Z.set.bind(cB.Z),remove:cB.Z.remove.bind(cB.Z),getAll:cB.Z.get.bind(cB.Z)})),i),cX=()=>{let e=t2.l.useRegion(),t=t2.a.useTranslate(),n=cY(),a=location.port.length?location.hostname:void 0;if((0,U.useEffect)(()=>{n.clearBaiduAnalytics(a)},[n,a]),!e||!tf.nR.cookieBannerRegions.includes(e))return null;let r={cookieBannerAcceptAll:t("cookieBannerAcceptAll"),cookieBannerAcceptEssential:t("cookieBannerAcceptEssential"),cookieBannerDesc:(0,u.jsx)(c$,{str:t("cookieBannerDesc")}),cookieBannerTitle:t("cookieBannerTitle")};return(0,u.jsx)(cV,{cookieDomain:a,cookieBanner:n,i18n:r})},c$=e=>{let{str:t}=e,n=t.split(/<\/?a>/);return(0,u.jsxs)(u.Fragment,{children:[n[0],(0,u.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://cdn.deepseek.com/policies/en-US/cookies-policy.html",children:n[1]}),n[2]]})},cQ=()=>Math.max(new Date().getFullYear(),2025),cJ=()=>Array.from({length:cQ()-1900+1}).map((e,t)=>t+1900).sort((e,t)=>t-e),c1=()=>Array.from({length:12}).map((e,t)=>t+1),c0=e=>({label:"".concat(e),value:"".concat(e)}),c2={getMothOptions:()=>c1().map(c0),getYearOptions:()=>cJ().map(c0),verifyBirthdayRes:e=>{switch(e){case 0:return"ok";case 2:return"tooYoung";case 1:throw Error("code ".concat(e,", invalid date"));default:throw Error("unexpected code ".concat(e))}}};var c3=n(95258);let c6=()=>(0,t3.kq)()?(0,u.jsx)(c4,{}):null,c4=(0,U.memo)(function(){let e=(0,t3.LM)(e=>{var t;return null===(t=e.user)||void 0===t?void 0:t.needBirthday}),t=t2.a.useTranslate(),[n,a]=(0,U.useState)(0),[r,s]=(0,U.useState)(0),o=(0,eJ.pm)(),i=i0(),[l,d]=(0,U.useState)(!1);(0,U.useEffect)(()=>{e&&t2.l.tracker.info({name:"showAgeGate",message:"展示年龄门弹窗",payload:{}})},[e]);let c=!(n*r);return e?(0,u.jsx)(eo,{show:!0,children:(0,u.jsxs)("div",{className:c3.wrap,children:[(0,u.jsx)("div",{className:c3.title,children:t("ageGateTitle")}),(0,u.jsx)("div",{className:c3.desc,children:t("ageGateDesc")}),(0,u.jsxs)("div",{className:c3.selects,children:[(0,u.jsx)(lf,{className:c3.select,menuWidthPolicy:"consistent",options:c7,onChange:e=>a(+e),placeholder:t("ageGateYear"),size:"l"}),(0,u.jsx)(lf,{className:c3.select,menuWidthPolicy:"consistent",options:c8,onChange:e=>s(+e),placeholder:t("ageGateMonth"),size:"l"})]}),(0,u.jsx)(nH,{variant:"primary",className:c3.confirmButton,disabled:c,loading:l,onClick:async()=>{let e={year:n,month:r};d(!0);let a=await c5(e);if(d(!1),null===a){o.error(t("ageGateNetworkError"));return}let s=c9(a,e);if("ok"===s){t3.LM.getState().updateNeedBirthday(!1);return}if("tooYoung"===s){o.error(t("ageGateRejectText")),i();return}if("error"===s){o.error(t("ageGetInvalidDate")),i();return}(0,F.vv)(s)},children:t("ageGateConfirm")})]})}):null}),c5=async e=>{let{year:t,month:n}=e,{tracker:a,http:{http:r,withDefaultHttpContext:s}}=t2.l;a.info({name:"submitBirthday",message:"提交生日信息",payload:{year:t,month:n}});try{let{biz_code:e}=(await r.post("/api/v0/users/set_birthday",{context:s({withToken:!0}),json:{year:t,month:n}})).json.data;return e}catch(e){return a.error({name:"submitBirthdayFail",message:"提交生日信息失败",payload:a.withError(e,{})}),null}},c9=(e,t)=>{let{tracker:n}=t2.l;try{return c2.verifyBirthdayRes(e)}catch(e){return n.error({name:"verifyBirthdayFail",message:"验证生日异常",payload:n.withError(e,t)}),"error"}},c7=c2.getYearOptions(),c8=c2.getMothOptions(),ue={placement:"top"},ut=e=>(0,u.jsx)(t1,{beAuthenticated:us,beUnauthenticated:ur,children:(0,u.jsx)(nZ,{children:(0,u.jsx)(t2.l.WithToastAndNotification,{toastProviderProps:ue,children:(0,u.jsx)(ep,{children:(0,u.jsxs)(t2.l.PageVisit,{children:[e,(0,u.jsx)(cX,{}),(0,u.jsx)(c6,{})]})})})})});/^\/\/+$/.test(window.location.pathname)&&history.replaceState(null,"","/");let un=(0,K.aj)([{path:t8.ROOT,element:ut((0,u.jsx)(cR,{children:(0,u.jsx)(c_,{})}))},{path:t8.AGENT,element:ut((0,u.jsx)(cR,{children:(0,u.jsx)(c_,{})}))},{path:t8.AGENT_SESSION,element:ut((0,u.jsx)(cR,{children:(0,u.jsx)(c_,{})}))},{path:t8.AUTHORIZED,element:ut((0,u.jsx)(function(){let e=ns(),{beAuthenticated:t,beUnauthenticated:n}=t0();return(0,u.jsx)(t5,{children:(0,u.jsx)(tZ,{beAuthenticated:t,beUnauthenticated:n,directToHome:()=>{"coder"===t2.l.storageHandles.targetBeforeOauthLoginStorageHandle.get()?(t2.l.logger.info("oauth 登录之前从 coder 跳过来的，导航到 coder"),t2.l.storageHandles.targetBeforeOauthLoginStorageHandle.set("chat"),e(t8.AGENT,{agentId:F.HL.AgentId.CODER})):e(t8.ROOT)}})})},{}))},{path:t8.SIGN_UP,element:ut((0,u.jsx)(function(){let e=t2.l.useIsIpLoading(),t=t2.l.useRegion(),n=ns(),{beAuthenticated:a}=t0();return(0,u.jsx)(t5,{children:(0,u.jsx)(nf,{children:(0,u.jsx)(tL,{icon:(0,u.jsx)("div",{className:nl.icon,children:(0,u.jsx)(nd,{})}),isIpLoading:e,regionCode:t,beAuthenticated:a,onSignUpOk:()=>{ng.current?(t2.l.logger.info("从 coder 跳过来的，导航到 coder，signup"),n(t8.AGENT,{agentId:F.HL.AgentId.CODER})):(t2.l.logger.info("不是从 coder 跳过来的，导航到 chat，signup"),n(t8.ROOT))},onGoToSignIn:()=>n(t8.SIGN_IN)})})})},{}))},{path:t8.SIGN_IN,element:ut((0,u.jsx)(function(){let e=ns(),t=(0,Y.s0)(),n=(0,K.lr)()[0].get("redirect"),{beAuthenticated:a}=t0(),r=t2.l.useRegion(),s=nC(e=>e.forceGoogleLogin);return(0,u.jsx)(t5,{children:(0,u.jsx)(nf,{children:(0,u.jsx)(ep,{children:(0,u.jsx)(tI,{beAuthenticated:a,onAfterSignInOk:()=>{ng.current?(t2.l.logger.info("从 coder 跳过来的，导航到 coder"),e(t8.AGENT,{agentId:F.HL.AgentId.CODER})):n?t(n):(t2.l.logger.info("不是从 coder 跳过来的，导航到 coder"),e(t8.ROOT))},onForgotPassword:()=>e(t8.FORGOT_PASSWORD),onGoToSignUp:()=>e(t8.SIGN_UP),headerLogoNode:(0,u.jsx)(nd,{}),forceShowGoogleSignIn:s,onGoogleSignIn:()=>{ng.current?t2.l.storageHandles.targetBeforeOauthLoginStorageHandle.set("coder"):t2.l.storageHandles.targetBeforeOauthLoginStorageHandle.set("chat")},defaultLocationOrigin:"https://chat-dev.deepseek.com",defaultLoginMethod:t2.l.getLastSessionValue().loginMethod,regionCode:r,onLoginMethodChange:e=>{t2.l.setLastSessionValue(t=>({...t,loginMethod:e}))}})})})})},{}))},{path:t8.FORGOT_PASSWORD,element:ut((0,u.jsx)(function(){let e=ns();return(0,u.jsx)(t5,{children:(0,u.jsx)(nf,{children:(0,u.jsx)(tV,{headerLogoNode:(0,u.jsx)(nd,{}),forgotPasswordBackToSignIn:()=>e(t8.SIGN_IN),delayedNavigate:()=>{setTimeout(()=>{e(t8.SIGN_IN)},3e3)}})})})},{}))},{path:t8.BANNED,element:ut((0,u.jsx)(function(){let e=ns();return(0,u.jsx)(t5,{children:(0,u.jsx)(tq,{unavailableLogo:(0,u.jsx)(eE,{}),navigateHome:()=>e(t8.SIGN_IN)})})},{}))},{path:t8.MOBILE_VERIFICATION,element:ut((0,u.jsx)(function(){let e=ns(),{beAuthenticated:t,beUnauthenticated:n}=t0();return(0,u.jsx)(nf,{children:(0,u.jsx)(t5,{children:(0,u.jsx)(tQ,{headerLogoNode:(0,u.jsx)(nd,{}),beAuthenticated:t,beUnauthenticated:n,onGoToSignIn:()=>e(t8.SIGN_IN),directToHome:()=>{"coder"===t2.l.storageHandles.targetBeforeOauthLoginStorageHandle.get()?(t2.l.logger.info("oauth 登录之前从 coder 跳过来的，导航到 coder"),t2.l.storageHandles.targetBeforeOauthLoginStorageHandle.set("chat"),e(t8.AGENT,{agentId:F.HL.AgentId.CODER})):e(t8.ROOT)}})})})},{}))},{path:t8.FEEDBACK,element:ut((0,u.jsx)(function(){let[e,t]=(0,U.useState)(!0),[n,a]=(0,U.useState)(""),[r,s]=(0,U.useState)(!1),[o,i]=(0,U.useState)(null);return(0,U.useEffect)(()=>(cw(e=>{"string"==typeof e?a(e):I({userId:e.id,email:e.email,mobile:e.mobile}).then(()=>{i(setInterval(()=>{t(!1),s(T())},1e3))})}),()=>{o&&clearInterval(o)}),[]),(0,U.useEffect)(()=>{e||r||y()},[r,e]),(0,U.useEffect)(()=>{r&&o&&clearInterval(o)},[r,o]),(0,u.jsx)("div",{className:cI.content,children:n||(r?"Your feedback has been successfully submitted. Please close this webview manually.":(0,u.jsx)("div",{className:cI.loadingWrapper,children:(0,u.jsx)(tT.g,{size:40})}))})},{}))},{path:t8.SHARE,element:ut((0,u.jsx)(cR,{children:(0,u.jsx)(c_,{})}))},{path:t8.SHARE_MISSING,element:ut((0,u.jsx)(cP,{type:"missing"}))},{path:t8.SHARE_INVALID,element:ut((0,u.jsx)(cP,{type:"invalid"}))},{path:"*",element:(0,u.jsx)(Y.Fg,{to:t8.ROOT})}],{basename:void 0});function ua(e,t){return function(e){let{path:t,location:n,navigate:a,params:r}=e;if(t===t2.l.resolvePathRelativeToPublicPath(n.pathname))return!1;if(r){let e=t;for(let t in r){let n=r[t];void 0!==n&&(e=e.replace(":".concat(t),n)),a(e)}}else a(t);return!0}({path:e,location:un.state.location,navigate:un.navigate,params:t})}function ur(e){let{navigateToSignIn:t,isBanned:n}=e;t2.l.logger.info("身份失效，navigateToSignIn: ".concat(t)),o5.onLogout(),t2.l.setStorageUserToken(null),rW.clearAllPow(),t3.LM.getState().reset(),t3.LM.getState().settlePending(),F.aK.getState().onUnauthenticated(),F.hP.getState().abortAllUpload(),F.hP.getState().clear(),cD.N.clearUserUniqueId(),t&&ua(n?t8.BANNED:t8.SIGN_IN)}function us(e){var t;cD.N.setUserUniqueId(e.id),e.token&&t2.l.setStorageUserToken(e.token),t3.LM.getState().setUser(e),t3.LM.getState().settlePending(),F.aK.getState().setMuted(e.chat),e.featureGates,I({userId:e.id,email:e.email,mobile:e.mobile}),k(),X.qn&&function(e,t){let n=document.createElement("a"),a=new URLSearchParams(t),r=t?"?".concat(a.toString()):"";n.href="deepseek://".concat(e).concat(r),n.style.position="fixed",n.style.visibility="hidden",document.body.appendChild(n),n.click(),document.body.removeChild(n)}("chatSignIn",{token:e.token})}let uo=e=>n.e("779").then(n.bind(n,30562)).then(t=>t.i[e]),ui=e=>{let{name:t,props:n}=e,[a,r]=(0,U.useState)(null);return((0,U.useEffect)(()=>{let e=!0;return Promise.resolve(uo(t)).then(t=>{e&&r(t||(()=>null))}).catch(e=>{t2.l.logger.warn("load dynamic component error",e)}),()=>{e=!1}},[t]),a)?(0,u.jsx)(a,{...n}):null},ul="undefined"!=typeof navigator&&!!(navigator.userAgent.toLowerCase().includes("electron")||window&&"process"in window&&"renderer"===Object(window.process).type),ud="undefined"!=typeof navigator&&(navigator.userAgent.includes("Tauri")||"__TAURI__"in window&&void 0!==window.__TAURI__),uc=()=>{let e=t2.a.useTranslate(),[t,n]=t2.l.storageHandles.closeUnsafeEnvWarnStorageHandle.useState();return!t&&(ul||ud)?(0,u.jsx)(eo,{show:!0,children:(0,u.jsx)(el,{onClose:()=>n(!0),title:e("usageEnvUnsafeTitle"),children:e("usageEnvUnsafeWarn")})}):null};var uu=n(4450);let uh=()=>{let e=t2.l.useLocale();(0,U.useEffect)(()=>{let t=(0,uu.getCJKQuotationMarksPatch)();"zh_CN"===e?t.enable({tradition:!1}):t.disable()},[e])},up=()=>{(!X.qW||!X.G6)&&(document.body.style.cssText="--app-height: ".concat(window.innerHeight,"px;"))};function ug(){return uf(t2.l.resolvePathRelativeToPublicPath(un.state.location.pathname))}function um(e){var t,n;return null===(t=ne[null===(n=e.matches[0])||void 0===n?void 0:n.route.path])||void 0===t?void 0:t.public}function uf(e){return e in ne&&ne[e].isLogoutOnly}let uC={lang:"abap",loader:()=>n.e("205").then(n.t.bind(n,46054,19)).then(()=>{aO.push("abap")})},uv={lang:"abnf",loader:()=>n.e("205").then(n.t.bind(n,81873,19)).then(()=>{aO.push("abnf")})},ux={lang:"actionscript",loader:async()=>(await pv.loader(),n.e("205").then(n.t.bind(n,26088,19)).then(()=>{aO.push("actionscript")}))},uS={lang:"ada",loader:()=>n.e("205").then(n.t.bind(n,59885,19)).then(()=>{aO.push("ada")})},uE={lang:"agda",loader:()=>n.e("205").then(n.t.bind(n,61757,19)).then(()=>{aO.push("agda")})},ub={lang:"al",loader:()=>n.e("205").then(n.t.bind(n,69252,19)).then(()=>{aO.push("al")})},u_={lang:"antlr4",loader:()=>n.e("205").then(n.t.bind(n,8221,19)).then(()=>{aO.push("antlr4")})},uy={lang:"apacheconf",loader:()=>n.e("205").then(n.t.bind(n,57793,19)).then(()=>{aO.push("apacheconf")})},uw={lang:"apex",loader:()=>n.e("205").then(n.t.bind(n,47512,19)).then(()=>{aO.push("apex")})},uI={lang:"apl",loader:()=>n.e("205").then(n.t.bind(n,99,19)).then(()=>{aO.push("apl")})},uT={lang:"applescript",loader:()=>n.e("205").then(n.t.bind(n,66921,19)).then(()=>{aO.push("applescript")})},uk={lang:"aql",loader:()=>n.e("205").then(n.t.bind(n,35156,19)).then(()=>{aO.push("aql")})},uM={lang:"arduino",loader:async()=>(await hi.loader(),n.e("205").then(n.t.bind(n,63425,19)).then(()=>{aO.push("arduino")}))},uj={lang:"arff",loader:()=>n.e("205").then(n.t.bind(n,53848,19)).then(()=>{aO.push("arff")})},uR={lang:"armasm",loader:()=>n.e("205").then(n.t.bind(n,29520,19)).then(()=>{aO.push("armasm")})},uA={lang:"arturo",loader:()=>n.e("205").then(n.t.bind(n,47223,19)).then(()=>{aO.push("arturo")})},uN={lang:"asciidoc",loader:()=>n.e("205").then(n.t.bind(n,70366,19)).then(()=>{aO.push("asciidoc")})},uL={lang:"asm6502",loader:()=>n.e("963").then(n.t.bind(n,35927,19)).then(()=>{aO.push("asm6502")})},uF={lang:"asmatmel",loader:()=>n.e("205").then(n.t.bind(n,26608,19)).then(()=>{aO.push("asmatmel")})},uO={lang:"aspnet",loader:async()=>(await pJ.loader(),n.e("205").then(n.t.bind(n,7642,19)).then(()=>{aO.push("aspnet")}))},uP={lang:"autohotkey",loader:()=>n.e("205").then(n.t.bind(n,18429,19)).then(()=>{aO.push("autohotkey")})},uD={lang:"autoit",loader:()=>n.e("205").then(n.t.bind(n,10927,19)).then(()=>{aO.push("autoit")})},uB={lang:"avisynth",loader:()=>n.e("205").then(n.t.bind(n,34415,19)).then(()=>{aO.push("avisynth")})},uH={lang:"avro_idl",loader:()=>n.e("205").then(n.t.bind(n,91603,19)).then(()=>{aO.push("avro_idl")})},uV={lang:"awk",loader:()=>n.e("205").then(n.t.bind(n,20459,19)).then(()=>{aO.push("awk")})},uU={lang:"bash",loader:()=>n.e("963").then(n.t.bind(n,70910,19)).then(()=>{aO.push("bash")})},uW={lang:"basic",loader:()=>n.e("205").then(n.t.bind(n,46771,19)).then(()=>{aO.push("basic")})},uG={lang:"batch",loader:()=>n.e("205").then(n.t.bind(n,47983,19)).then(()=>{aO.push("batch")})},uz={lang:"bbcode",loader:()=>n.e("205").then(n.t.bind(n,5511,19)).then(()=>{aO.push("bbcode")})},uZ={lang:"bbj",loader:()=>n.e("205").then(n.t.bind(n,41457,19)).then(()=>{aO.push("bbj")})},uq={lang:"bicep",loader:()=>n.e("205").then(n.t.bind(n,55060,19)).then(()=>{aO.push("bicep")})},uK={lang:"birb",loader:async()=>(await u7.loader(),n.e("205").then(n.t.bind(n,96961,19)).then(()=>{aO.push("birb")}))},uY={lang:"bison",loader:async()=>(await u2.loader(),n.e("205").then(n.t.bind(n,4645,19)).then(()=>{aO.push("bison")}))},uX={lang:"bnf",loader:()=>n.e("205").then(n.t.bind(n,78484,19)).then(()=>{aO.push("bnf")})},u$={lang:"bqn",loader:()=>n.e("205").then(n.t.bind(n,43673,19)).then(()=>{aO.push("bqn")})},uQ={lang:"brainfuck",loader:()=>n.e("205").then(n.t.bind(n,94873,19)).then(()=>{aO.push("brainfuck")})},uJ={lang:"brightscript",loader:()=>n.e("205").then(n.t.bind(n,59356,19)).then(()=>{aO.push("brightscript")})},u1={lang:"bro",loader:()=>n.e("205").then(n.t.bind(n,83797,19)).then(()=>{aO.push("bro")})},u0={lang:"bsl",loader:()=>n.e("205").then(n.t.bind(n,63366,19)).then(()=>{aO.push("bsl")})},u2={lang:"c",loader:async()=>(await u7.loader(),n.e("963").then(n.t.bind(n,85595,19)).then(()=>{aO.push("c")}))},u3={lang:"cfscript",loader:async()=>(await u7.loader(),n.e("205").then(n.t.bind(n,36753,19)).then(()=>{aO.push("cfscript")}))},u6={lang:"chaiscript",loader:async()=>(await u7.loader(),n.e("205").then(n.t.bind(n,80822,19)).then(()=>{aO.push("chaiscript")}))},u4={lang:"cil",loader:()=>n.e("205").then(n.t.bind(n,85617,19)).then(()=>{aO.push("cil")})},u5={lang:"cilkc",loader:()=>n.e("205").then(n.t.bind(n,92243,19)).then(()=>{aO.push("cilkc")})},u9={lang:"cilkcpp",loader:()=>n.e("205").then(n.t.bind(n,81876,19)).then(()=>{aO.push("cilkcpp")})},u7={lang:"clike",loader:()=>n.e("963").then(n.t.bind(n,18916,19)).then(()=>{aO.push("clike")})},u8={lang:"clojure",loader:()=>n.e("963").then(n.t.bind(n,95309,19)).then(()=>{aO.push("clojure")})},he={lang:"cmake",loader:()=>n.e("963").then(n.t.bind(n,21007,19)).then(()=>{aO.push("cmake")})},ht={lang:"cobol",loader:()=>n.e("205").then(n.t.bind(n,7490,19)).then(()=>{aO.push("cobol")})},hn={lang:"coffeescript",loader:async()=>(await pv.loader(),n.e("205").then(n.t.bind(n,36228,19)).then(()=>{aO.push("coffeescript")}))},ha={lang:"concurnas",loader:()=>n.e("205").then(n.t.bind(n,59280,19)).then(()=>{aO.push("concurnas")})},hr={lang:"cooklang",loader:()=>n.e("205").then(n.t.bind(n,24555,19)).then(()=>{aO.push("cooklang")})},hs={lang:"coq",loader:()=>n.e("205").then(n.t.bind(n,78075,19)).then(()=>{aO.push("coq")})},ho={lang:"core",loader:async()=>(await hp.loader(),n.e("205").then(n.t.bind(n,75245,19)).then(()=>{aO.push("core")}))},hi={lang:"cpp",loader:async()=>(await u2.loader(),n.e("963").then(n.t.bind(n,93878,19)).then(()=>{aO.push("cpp")}))},hl={lang:"crystal",loader:async()=>(await g6.loader(),n.e("205").then(n.t.bind(n,41113,19)).then(()=>{aO.push("crystal")}))},hd={lang:"csharp",loader:async()=>(await u7.loader(),n.e("963").then(n.t.bind(n,41422,19)).then(()=>{aO.push("csharp")}))},hc={lang:"cshtml",loader:async()=>(await Promise.all([pJ.loader(),hd.loader()]),n.e("205").then(n.t.bind(n,23174,19)).then(()=>{aO.push("cshtml")}))},hu={lang:"csp",loader:()=>n.e("205").then(n.t.bind(n,9102,19)).then(()=>{aO.push("csp")})},hh={lang:"css_extras",loader:()=>n.e("205").then(n.t.bind(n,50395,19)).then(()=>{aO.push("css_extras")})},hp={lang:"css",loader:()=>n.e("205").then(n.t.bind(n,81717,19)).then(()=>{aO.push("css")})},hg={lang:"csv",loader:()=>n.e("205").then(n.t.bind(n,79834,19)).then(()=>{aO.push("csv")})},hm={lang:"cue",loader:()=>n.e("205").then(n.t.bind(n,29071,19)).then(()=>{aO.push("cue")})},hf={lang:"cypher",loader:()=>n.e("205").then(n.t.bind(n,35905,19)).then(()=>{aO.push("cypher")})},hC={lang:"d",loader:async()=>(await u7.loader(),n.e("963").then(n.t.bind(n,50331,19)).then(()=>{aO.push("d")}))},hv={lang:"dart",loader:async()=>(await u7.loader(),n.e("963").then(n.t.bind(n,47599,19)).then(()=>{aO.push("dart")}))},hx={lang:"dataweave",loader:()=>n.e("205").then(n.t.bind(n,22887,19)).then(()=>{aO.push("dataweave")})},hS={lang:"dax",loader:()=>n.e("205").then(n.t.bind(n,28617,19)).then(()=>{aO.push("dax")})},hE={lang:"dhall",loader:()=>n.e("205").then(n.t.bind(n,3494,19)).then(()=>{aO.push("dhall")})},hb={lang:"diff",loader:()=>n.e("205").then(n.t.bind(n,75679,19)).then(()=>{aO.push("diff")})},h_={lang:"django",loader:async()=>(await pQ.loader(),n.e("205").then(n.t.bind(n,46268,19)).then(()=>{aO.push("django")}))},hy={lang:"dns_zone_file",loader:()=>n.e("205").then(n.t.bind(n,44771,19)).then(()=>{aO.push("dns_zone_file")})},hw={lang:"docker",loader:()=>n.e("963").then(n.t.bind(n,5536,19)).then(()=>{aO.push("docker")})},hI={lang:"dot",loader:()=>n.e("205").then(n.t.bind(n,81539,19)).then(()=>{aO.push("dot")})},hT={lang:"ebnf",loader:()=>n.e("654").then(n.t.bind(n,38421,19)).then(()=>{aO.push("ebnf")})},hk={lang:"editorconfig",loader:()=>n.e("654").then(n.t.bind(n,55761,19)).then(()=>{aO.push("editorconfig")})},hM={lang:"eiffel",loader:()=>n.e("654").then(n.t.bind(n,78722,19)).then(()=>{aO.push("eiffel")})},hj={lang:"ejs",loader:async()=>(await pQ.loader(),n.e("654").then(n.t.bind(n,83623,19)).then(()=>{aO.push("ejs")}))},hR={lang:"elixir",loader:()=>n.e("654").then(n.t.bind(n,88676,19)).then(()=>{aO.push("elixir")})},hA={lang:"elm",loader:()=>n.e("654").then(n.t.bind(n,32735,19)).then(()=>{aO.push("elm")})},hN={lang:"erb",loader:async()=>(await pQ.loader(),n.e("654").then(n.t.bind(n,28448,19)).then(()=>{aO.push("erb")}))},hL={lang:"erlang",loader:()=>n.e("963").then(n.t.bind(n,9828,19)).then(()=>{aO.push("erlang")})},hF={lang:"etlua",loader:async()=>(await pQ.loader(),n.e("654").then(n.t.bind(n,27506,19)).then(()=>{aO.push("etlua")}))},hO={lang:"excel_formula",loader:()=>n.e("654").then(n.t.bind(n,59075,19)).then(()=>{aO.push("excel_formula")})},hP={lang:"factor",loader:()=>n.e("654").then(n.t.bind(n,45630,19)).then(()=>{aO.push("factor")})},hD={lang:"false",loader:()=>n.e("654").then(n.t.bind(n,55389,19)).then(()=>{aO.push("false")})},hB={lang:"firestore_security_rules",loader:async()=>(await u7.loader(),n.e("654").then(n.t.bind(n,26661,19)).then(()=>{aO.push("firestore_security_rules")}))},hH={lang:"flow",loader:async()=>(await pv.loader(),n.e("654").then(n.t.bind(n,62543,19)).then(()=>{aO.push("flow")}))},hV={lang:"fortran",loader:()=>n.e("963").then(n.t.bind(n,52246,19)).then(()=>{aO.push("fortran")})},hU={lang:"fsharp",loader:async()=>(await u7.loader(),n.e("654").then(n.t.bind(n,55273,19)).then(()=>{aO.push("fsharp")}))},hW={lang:"ftl",loader:async()=>(await pQ.loader(),n.e("654").then(n.t.bind(n,67709,19)).then(()=>{aO.push("ftl")}))},hG={lang:"gap",loader:()=>n.e("654").then(n.t.bind(n,97387,19)).then(()=>{aO.push("gap")})},hz={lang:"gcode",loader:()=>n.e("654").then(n.t.bind(n,66822,19)).then(()=>{aO.push("gcode")})},hZ={lang:"gdscript",loader:()=>n.e("654").then(n.t.bind(n,98847,19)).then(()=>{aO.push("gdscript")})},hq={lang:"gedcom",loader:()=>n.e("654").then(n.t.bind(n,29940,19)).then(()=>{aO.push("gedcom")})},hK={lang:"gettext",loader:()=>n.e("654").then(n.t.bind(n,32249,19)).then(()=>{aO.push("gettext")})},hY={lang:"gherkin",loader:()=>n.e("654").then(n.t.bind(n,16745,19)).then(()=>{aO.push("gherkin")})},hX={lang:"git",loader:()=>n.e("654").then(n.t.bind(n,3912,19)).then(()=>{aO.push("git")})},h$={lang:"glsl",loader:async()=>(await u2.loader(),n.e("963").then(n.t.bind(n,87109,19)).then(()=>{aO.push("glsl")}))},hQ={lang:"gml",loader:async()=>(await u7.loader(),n.e("654").then(n.t.bind(n,54779,19)).then(()=>{aO.push("gml")}))},hJ={lang:"gn",loader:()=>n.e("654").then(n.t.bind(n,76920,19)).then(()=>{aO.push("gn")})},h1={lang:"go_module",loader:()=>n.e("654").then(n.t.bind(n,4151,19)).then(()=>{aO.push("go_module")})},h0={lang:"go",loader:async()=>(await u7.loader(),n.e("963").then(n.t.bind(n,71279,19)).then(()=>{aO.push("go")}))},h2={lang:"gradle",loader:async()=>(await u7.loader(),n.e("654").then(n.t.bind(n,89733,19)).then(()=>{aO.push("gradle")}))},h3={lang:"graphql",loader:()=>n.e("654").then(n.t.bind(n,35547,19)).then(()=>{aO.push("graphql")})},h6={lang:"groovy",loader:async()=>(await u7.loader(),n.e("654").then(n.t.bind(n,28248,19)).then(()=>{aO.push("groovy")}))},h4={lang:"haml",loader:()=>n.e("654").then(n.t.bind(n,41252,19)).then(()=>{aO.push("haml")})},h5={lang:"handlebars",loader:async()=>(await pQ.loader(),n.e("654").then(n.t.bind(n,67629,19)).then(()=>{aO.push("handlebars")}))},h9={lang:"haskell",loader:()=>n.e("963").then(n.t.bind(n,92543,19)).then(()=>{aO.push("haskell")})},h7={lang:"haxe",loader:async()=>(await u7.loader(),n.e("654").then(n.t.bind(n,49595,19)).then(()=>{aO.push("haxe")}))},h8={lang:"hcl",loader:()=>n.e("654").then(n.t.bind(n,25989,19)).then(()=>{aO.push("hcl")})},pe={lang:"hlsl",loader:async()=>(await u2.loader(),n.e("654").then(n.t.bind(n,23020,19)).then(()=>{aO.push("hlsl")}))},pt={lang:"hoon",loader:()=>n.e("654").then(n.t.bind(n,87672,19)).then(()=>{aO.push("hoon")})},pn={lang:"hpkp",loader:()=>n.e("654").then(n.t.bind(n,8683,19)).then(()=>{aO.push("hpkp")})},pa={lang:"hsts",loader:()=>n.e("654").then(n.t.bind(n,22864,19)).then(()=>{aO.push("hsts")})},pr={lang:"http",loader:()=>n.e("654").then(n.t.bind(n,81374,19)).then(()=>{aO.push("http")})},ps={lang:"ichigojam",loader:()=>n.e("654").then(n.t.bind(n,44081,19)).then(()=>{aO.push("ichigojam")})},po={lang:"icon",loader:()=>n.e("654").then(n.t.bind(n,69297,19)).then(()=>{aO.push("icon")})},pi={lang:"icu_message_format",loader:()=>n.e("654").then(n.t.bind(n,15057,19)).then(()=>{aO.push("icu_message_format")})},pl={lang:"idris",loader:async()=>(await h9.loader(),n.e("654").then(n.t.bind(n,1832,19)).then(()=>{aO.push("idris")}))},pd={lang:"iecst",loader:()=>n.e("654").then(n.t.bind(n,28546,19)).then(()=>{aO.push("iecst")})},pc={lang:"ignore",loader:()=>n.e("654").then(n.t.bind(n,51965,19)).then(()=>{aO.push("ignore")})},pu={lang:"inform7",loader:()=>n.e("654").then(n.t.bind(n,36706,19)).then(()=>{aO.push("inform7")})},ph={lang:"ini",loader:()=>n.e("654").then(n.t.bind(n,10837,19)).then(()=>{aO.push("ini")})},pp={lang:"io",loader:()=>n.e("654").then(n.t.bind(n,35755,19)).then(()=>{aO.push("io")})},pg={lang:"j",loader:()=>n.e("654").then(n.t.bind(n,86957,19)).then(()=>{aO.push("j")})},pm={lang:"java",loader:async()=>(await u7.loader(),n.e("963").then(n.t.bind(n,88201,19)).then(()=>{aO.push("java")}))},pf={lang:"javadoc",loader:async()=>(await pC.loader(),n.e("654").then(n.t.bind(n,98868,19)).then(()=>{aO.push("javadoc")}))},pC={lang:"javadoclike",loader:()=>n.e("654").then(n.t.bind(n,67228,19)).then(()=>{aO.push("javadoclike")})},pv={lang:"javascript",loader:async()=>(await u7.loader(),n.e("963").then(n.t.bind(n,84457,19)).then(()=>{aO.push("javascript")}))},px={lang:"javastacktrace",loader:()=>n.e("654").then(n.t.bind(n,30973,19)).then(()=>{aO.push("javastacktrace")})},pS={lang:"jexl",loader:()=>n.e("654").then(n.t.bind(n,75641,19)).then(()=>{aO.push("jexl")})},pE={lang:"jolie",loader:async()=>(await u7.loader(),n.e("654").then(n.t.bind(n,48953,19)).then(()=>{aO.push("jolie")}))},pb={lang:"jq",loader:()=>n.e("654").then(n.t.bind(n,45155,19)).then(()=>{aO.push("jq")})},p_={lang:"js_extras",loader:()=>n.e("654").then(n.t.bind(n,40210,19)).then(()=>{aO.push("js_extras")})},py={lang:"js_templates",loader:()=>n.e("654").then(n.t.bind(n,65688,19)).then(()=>{aO.push("js_templates")})},pw={lang:"jsdoc",loader:async()=>(await pC.loader(),n.e("654").then(n.t.bind(n,41535,19)).then(()=>{aO.push("jsdoc")}))},pI={lang:"json",loader:()=>n.e("963").then(n.t.bind(n,61038,19)).then(()=>{aO.push("json")})},pT={lang:"json5",loader:async()=>(await pI.loader(),n.e("654").then(n.t.bind(n,55598,19)).then(()=>{aO.push("json5")}))},pk={lang:"jsonp",loader:async()=>(await pI.loader(),n.e("654").then(n.t.bind(n,61086,19)).then(()=>{aO.push("jsonp")}))},pM={lang:"jsstacktrace",loader:()=>n.e("654").then(n.t.bind(n,81244,19)).then(()=>{aO.push("jsstacktrace")})},pj={lang:"jsx",loader:async()=>(await pJ.loader(),n.e("963").then(n.t.bind(n,54368,19)).then(()=>{aO.push("jsx")}))},pR={lang:"julia",loader:()=>n.e("963").then(n.t.bind(n,46662,19)).then(()=>{aO.push("julia")})},pA={lang:"keepalived",loader:()=>n.e("654").then(n.t.bind(n,17048,19)).then(()=>{aO.push("keepalived")})},pN={lang:"keyman",loader:()=>n.e("654").then(n.t.bind(n,30103,19)).then(()=>{aO.push("keyman")})},pL={lang:"kotlin",loader:async()=>(await u7.loader(),n.e("963").then(n.t.bind(n,59465,19)).then(()=>{aO.push("kotlin")}))},pF={lang:"kumir",loader:()=>n.e("654").then(n.t.bind(n,16760,19)).then(()=>{aO.push("kumir")})},pO={lang:"kusto",loader:()=>n.e("654").then(n.t.bind(n,44647,19)).then(()=>{aO.push("kusto")})},pP={lang:"latex",loader:()=>n.e("654").then(n.t.bind(n,36174,19)).then(()=>{aO.push("latex")})},pD={lang:"latte",loader:async()=>(await Promise.all([pQ.loader(),pJ.loader()]),n.e("654").then(n.t.bind(n,53922,19)).then(()=>{aO.push("latte")}))},pB={lang:"less",loader:async()=>(await hp.loader(),n.e("963").then(n.t.bind(n,57932,19)).then(()=>{aO.push("less")}))},pH={lang:"lilypond",loader:()=>n.e("654").then(n.t.bind(n,40784,19)).then(()=>{aO.push("lilypond")})},pV={lang:"linker_script",loader:()=>n.e("654").then(n.t.bind(n,1566,19)).then(()=>{aO.push("linker_script")})},pU={lang:"liquid",loader:async()=>(await pQ.loader(),n.e("654").then(n.t.bind(n,53178,19)).then(()=>{aO.push("liquid")}))},pW={lang:"lisp",loader:()=>n.e("963").then(n.t.bind(n,20774,19)).then(()=>{aO.push("lisp")})},pG={lang:"livescript",loader:()=>n.e("654").then(n.t.bind(n,76311,19)).then(()=>{aO.push("livescript")})},pz={lang:"llvm",loader:()=>n.e("654").then(n.t.bind(n,40496,19)).then(()=>{aO.push("llvm")})},pZ={lang:"log",loader:async()=>(await px.loader(),n.e("654").then(n.t.bind(n,51880,19)).then(()=>{aO.push("log")}))},pq={lang:"lolcode",loader:()=>n.e("654").then(n.t.bind(n,92741,19)).then(()=>{aO.push("lolcode")})},pK={lang:"lua",loader:()=>n.e("963").then(n.t.bind(n,13579,19)).then(()=>{aO.push("lua")})},pY={lang:"magma",loader:()=>n.e("20").then(n.t.bind(n,41655,19)).then(()=>{aO.push("magma")})},pX={lang:"makefile",loader:()=>n.e("963").then(n.t.bind(n,27162,19)).then(()=>{aO.push("makefile")})},p$={lang:"markdown",loader:async()=>(await pJ.loader(),n.e("963").then(n.t.bind(n,68690,19)).then(()=>{aO.push("markdown")}))},pQ={lang:"markup_templating",loader:()=>n.e("963").then(n.t.bind(n,94621,19)).then(()=>{aO.push("markup_templating")})},pJ={lang:"markup",loader:()=>n.e("963").then(n.t.bind(n,35692,19)).then(()=>{aO.push("markup")})},p1={lang:"mata",loader:()=>n.e("20").then(n.t.bind(n,4004,19)).then(()=>{aO.push("mata")})},p0={lang:"matlab",loader:()=>n.e("963").then(n.t.bind(n,21566,19)).then(()=>{aO.push("matlab")})},p2={lang:"maxscript",loader:()=>n.e("20").then(n.t.bind(n,50477,19)).then(()=>{aO.push("maxscript")})},p3={lang:"mel",loader:()=>n.e("20").then(n.t.bind(n,46215,19)).then(()=>{aO.push("mel")})},p6={lang:"mermaid",loader:()=>n.e("20").then(n.t.bind(n,83461,19)).then(()=>{aO.push("mermaid")})},p4={lang:"metafont",loader:()=>n.e("20").then(n.t.bind(n,46683,19)).then(()=>{aO.push("metafont")})},p5={lang:"mizar",loader:()=>n.e("20").then(n.t.bind(n,77862,19)).then(()=>{aO.push("mizar")})},p9={lang:"mongodb",loader:async()=>(await pv.loader(),n.e("20").then(n.t.bind(n,79064,19)).then(()=>{aO.push("mongodb")}))},p7={lang:"monkey",loader:()=>n.e("20").then(n.t.bind(n,62305,19)).then(()=>{aO.push("monkey")})},p8={lang:"moonscript",loader:()=>n.e("20").then(n.t.bind(n,82880,19)).then(()=>{aO.push("moonscript")})},ge={lang:"n1ql",loader:()=>n.e("20").then(n.t.bind(n,26595,19)).then(()=>{aO.push("n1ql")})},gt={lang:"n4js",loader:async()=>(await pv.loader(),n.e("20").then(n.t.bind(n,17787,19)).then(()=>{aO.push("n4js")}))},gn={lang:"nand2tetris_hdl",loader:()=>n.e("20").then(n.t.bind(n,48618,19)).then(()=>{aO.push("nand2tetris_hdl")})},ga={lang:"naniscript",loader:()=>n.e("20").then(n.t.bind(n,513,19)).then(()=>{aO.push("naniscript")})},gr={lang:"nasm",loader:()=>n.e("20").then(n.t.bind(n,20694,19)).then(()=>{aO.push("nasm")})},gs={lang:"neon",loader:()=>n.e("20").then(n.t.bind(n,41562,19)).then(()=>{aO.push("neon")})},go={lang:"nevod",loader:()=>n.e("20").then(n.t.bind(n,35565,19)).then(()=>{aO.push("nevod")})},gi={lang:"nginx",loader:()=>n.e("20").then(n.t.bind(n,81023,19)).then(()=>{aO.push("nginx")})},gl={lang:"nim",loader:()=>n.e("20").then(n.t.bind(n,83296,19)).then(()=>{aO.push("nim")})},gd={lang:"nix",loader:()=>n.e("20").then(n.t.bind(n,13483,19)).then(()=>{aO.push("nix")})},gc={lang:"nsis",loader:()=>n.e("20").then(n.t.bind(n,5911,19)).then(()=>{aO.push("nsis")})},gu={lang:"objectivec",loader:async()=>(await u2.loader(),n.e("963").then(n.t.bind(n,93406,19)).then(()=>{aO.push("objectivec")}))},gh={lang:"ocaml",loader:()=>n.e("20").then(n.t.bind(n,5794,19)).then(()=>{aO.push("ocaml")})},gp={lang:"odin",loader:()=>n.e("20").then(n.t.bind(n,17003,19)).then(()=>{aO.push("odin")})},gg={lang:"opencl",loader:async()=>(await u2.loader(),n.e("963").then(n.t.bind(n,1138,19)).then(()=>{aO.push("opencl")}))},gm={lang:"openqasm",loader:()=>n.e("20").then(n.t.bind(n,49923,19)).then(()=>{aO.push("openqasm")})},gf={lang:"oz",loader:()=>n.e("20").then(n.t.bind(n,67087,19)).then(()=>{aO.push("oz")})},gC={lang:"parigp",loader:()=>n.e("20").then(n.t.bind(n,1338,19)).then(()=>{aO.push("parigp")})},gv={lang:"parser",loader:async()=>(await pJ.loader(),n.e("20").then(n.t.bind(n,37198,19)).then(()=>{aO.push("parser")}))},gx={lang:"pascal",loader:()=>n.e("963").then(n.t.bind(n,67971,19)).then(()=>{aO.push("pascal")})},gS={lang:"pascaligo",loader:()=>n.e("20").then(n.t.bind(n,14401,19)).then(()=>{aO.push("pascaligo")})},gE={lang:"pcaxis",loader:()=>n.e("20").then(n.t.bind(n,65096,19)).then(()=>{aO.push("pcaxis")})},gb={lang:"peoplecode",loader:()=>n.e("20").then(n.t.bind(n,53133,19)).then(()=>{aO.push("peoplecode")})},g_={lang:"perl",loader:()=>n.e("963").then(n.t.bind(n,19990,19)).then(()=>{aO.push("perl")})},gy={lang:"php_extras",loader:()=>n.e("20").then(n.t.bind(n,69428,19)).then(()=>{aO.push("php_extras")})},gw={lang:"php",loader:async()=>(await pQ.loader(),n.e("963").then(n.t.bind(n,80893,19)).then(()=>{aO.push("php")}))},gI={lang:"phpdoc",loader:async()=>(await pC.loader(),n.e("20").then(n.t.bind(n,38537,19)).then(()=>{aO.push("phpdoc")}))},gT={lang:"plant_uml",loader:()=>n.e("20").then(n.t.bind(n,36852,19)).then(()=>{aO.push("plant_uml")})},gk={lang:"plsql",loader:async()=>(await mh.loader(),n.e("20").then(n.t.bind(n,63967,19)).then(()=>{aO.push("plsql")}))},gM={lang:"powerquery",loader:()=>n.e("20").then(n.t.bind(n,97180,19)).then(()=>{aO.push("powerquery")})},gj={lang:"powershell",loader:()=>n.e("963").then(n.t.bind(n,78989,19)).then(()=>{aO.push("powershell")})},gR={lang:"processing",loader:async()=>(await u7.loader(),n.e("20").then(n.t.bind(n,89605,19)).then(()=>{aO.push("processing")}))},gA={lang:"prolog",loader:()=>n.e("20").then(n.t.bind(n,62943,19)).then(()=>{aO.push("prolog")})},gN={lang:"promql",loader:()=>n.e("20").then(n.t.bind(n,2394,19)).then(()=>{aO.push("promql")})},gL={lang:"properties",loader:()=>n.e("20").then(n.t.bind(n,25281,19)).then(()=>{aO.push("properties")})},gF={lang:"protobuf",loader:async()=>(await u7.loader(),n.e("963").then(n.t.bind(n,86389,19)).then(()=>{aO.push("protobuf")}))},gO={lang:"psl",loader:()=>n.e("20").then(n.t.bind(n,7105,19)).then(()=>{aO.push("psl")})},gP={lang:"pug",loader:()=>n.e("20").then(n.t.bind(n,25252,19)).then(()=>{aO.push("pug")})},gD={lang:"puppet",loader:()=>n.e("20").then(n.t.bind(n,42309,19)).then(()=>{aO.push("puppet")})},gB={lang:"pure",loader:()=>n.e("20").then(n.t.bind(n,24627,19)).then(()=>{aO.push("pure")})},gH={lang:"purebasic",loader:async()=>(await u7.loader(),n.e("20").then(n.t.bind(n,20305,19)).then(()=>{aO.push("purebasic")}))},gV={lang:"purescript",loader:async()=>(await h9.loader(),n.e("20").then(n.t.bind(n,30437,19)).then(()=>{aO.push("purescript")}))},gU={lang:"python",loader:()=>n.e("963").then(n.t.bind(n,94684,19)).then(()=>{aO.push("python")})},gW={lang:"q",loader:()=>n.e("20").then(n.t.bind(n,9282,19)).then(()=>{aO.push("q")})},gG={lang:"qml",loader:()=>n.e("20").then(n.t.bind(n,31789,19)).then(()=>{aO.push("qml")})},gz={lang:"qore",loader:async()=>(await u7.loader(),n.e("20").then(n.t.bind(n,82346,19)).then(()=>{aO.push("qore")}))},gZ={lang:"qsharp",loader:async()=>(await u7.loader(),n.e("20").then(n.t.bind(n,47236,19)).then(()=>{aO.push("qsharp")}))},gq={lang:"r",loader:()=>n.e("963").then(n.t.bind(n,27929,19)).then(()=>{aO.push("r")})},gK={lang:"racket",loader:async()=>(await g8.loader(),n.e("20").then(n.t.bind(n,51039,19)).then(()=>{aO.push("racket")}))},gY={lang:"reason",loader:async()=>(await u7.loader(),n.e("20").then(n.t.bind(n,9366,19)).then(()=>{aO.push("reason")}))},gX={lang:"regex",loader:()=>n.e("20").then(n.t.bind(n,29469,19)).then(()=>{aO.push("regex")})},g$={lang:"rego",loader:()=>n.e("20").then(n.t.bind(n,92576,19)).then(()=>{aO.push("rego")})},gQ={lang:"renpy",loader:()=>n.e("20").then(n.t.bind(n,69963,19)).then(()=>{aO.push("renpy")})},gJ={lang:"rescript",loader:()=>n.e("20").then(n.t.bind(n,32899,19)).then(()=>{aO.push("rescript")})},g1={lang:"rest",loader:()=>n.e("20").then(n.t.bind(n,74400,19)).then(()=>{aO.push("rest")})},g0={lang:"rip",loader:()=>n.e("20").then(n.t.bind(n,65448,19)).then(()=>{aO.push("rip")})},g2={lang:"roboconf",loader:()=>n.e("20").then(n.t.bind(n,27889,19)).then(()=>{aO.push("roboconf")})},g3={lang:"robotframework",loader:()=>n.e("20").then(n.t.bind(n,4098,19)).then(()=>{aO.push("robotframework")})},g6={lang:"ruby",loader:async()=>(await u7.loader(),n.e("963").then(n.t.bind(n,42289,19)).then(()=>{aO.push("ruby")}))},g4={lang:"rust",loader:()=>n.e("963").then(n.t.bind(n,32063,19)).then(()=>{aO.push("rust")})},g5={lang:"sas",loader:()=>n.e("637").then(n.t.bind(n,80793,19)).then(()=>{aO.push("sas")})},g9={lang:"sass",loader:async()=>(await hp.loader(),n.e("963").then(n.t.bind(n,31570,19)).then(()=>{aO.push("sass")}))},g7={lang:"scala",loader:async()=>(await pm.loader(),n.e("963").then(n.t.bind(n,96089,19)).then(()=>{aO.push("scala")}))},g8={lang:"scheme",loader:()=>n.e("963").then(n.t.bind(n,62591,19)).then(()=>{aO.push("scheme")})},me={lang:"scss",loader:async()=>(await hp.loader(),n.e("963").then(n.t.bind(n,80849,19)).then(()=>{aO.push("scss")}))},mt={lang:"shell_session",loader:()=>n.e("637").then(n.t.bind(n,73966,19)).then(()=>{aO.push("shell_session")})},mn={lang:"smali",loader:()=>n.e("637").then(n.t.bind(n,82560,19)).then(()=>{aO.push("smali")})},ma={lang:"smalltalk",loader:()=>n.e("637").then(n.t.bind(n,34716,19)).then(()=>{aO.push("smalltalk")})},mr={lang:"smarty",loader:async()=>(await pQ.loader(),n.e("637").then(n.t.bind(n,27965,19)).then(()=>{aO.push("smarty")}))},ms={lang:"sml",loader:()=>n.e("637").then(n.t.bind(n,67758,19)).then(()=>{aO.push("sml")})},mo={lang:"solidity",loader:async()=>(await u7.loader(),n.e("637").then(n.t.bind(n,63749,19)).then(()=>{aO.push("solidity")}))},mi={lang:"solution_file",loader:()=>n.e("637").then(n.t.bind(n,1548,19)).then(()=>{aO.push("solution_file")})},ml={lang:"soy",loader:async()=>(await pQ.loader(),n.e("637").then(n.t.bind(n,16641,19)).then(()=>{aO.push("soy")}))},md={lang:"sparql",loader:async()=>(await mj.loader(),n.e("637").then(n.t.bind(n,44249,19)).then(()=>{aO.push("sparql")}))},mc={lang:"splunk_spl",loader:()=>n.e("637").then(n.t.bind(n,3469,19)).then(()=>{aO.push("splunk_spl")})},mu={lang:"sqf",loader:async()=>(await u7.loader(),n.e("637").then(n.t.bind(n,3407,19)).then(()=>{aO.push("sqf")}))},mh={lang:"sql",loader:()=>n.e("963").then(n.t.bind(n,6709,19)).then(()=>{aO.push("sql")})},mp={lang:"squirrel",loader:async()=>(await u7.loader(),n.e("637").then(n.t.bind(n,90591,19)).then(()=>{aO.push("squirrel")}))},mg={lang:"stan",loader:()=>n.e("637").then(n.t.bind(n,78971,19)).then(()=>{aO.push("stan")})},mm={lang:"stata",loader:()=>n.e("637").then(n.t.bind(n,11167,19)).then(()=>{aO.push("stata")})},mf={lang:"stylus",loader:()=>n.e("963").then(n.t.bind(n,27197,19)).then(()=>{aO.push("stylus")})},mC={lang:"supercollider",loader:()=>n.e("637").then(n.t.bind(n,94751,19)).then(()=>{aO.push("supercollider")})},mv={lang:"swift",loader:()=>n.e("963").then(n.t.bind(n,36320,19)).then(()=>{aO.push("swift")})},mx={lang:"systemd",loader:()=>n.e("637").then(n.t.bind(n,27675,19)).then(()=>{aO.push("systemd")})},mS={lang:"t4_cs",loader:async()=>(await mE.loader(),n.e("637").then(n.t.bind(n,76843,19)).then(()=>{aO.push("t4_cs")}))},mE={lang:"t4_templating",loader:()=>n.e("637").then(n.t.bind(n,59070,19)).then(()=>{aO.push("t4_templating")})},mb={lang:"t4_vb",loader:async()=>(await mE.loader(),n.e("637").then(n.t.bind(n,80688,19)).then(()=>{aO.push("t4_vb")}))},m_={lang:"tap",loader:()=>n.e("637").then(n.t.bind(n,63850,19)).then(()=>{aO.push("tap")})},my={lang:"tcl",loader:()=>n.e("637").then(n.t.bind(n,87813,19)).then(()=>{aO.push("tcl")})},mw={lang:"textile",loader:async()=>(await pJ.loader(),n.e("637").then(n.t.bind(n,37230,19)).then(()=>{aO.push("textile")}))},mI={lang:"toml",loader:()=>n.e("637").then(n.t.bind(n,99417,19)).then(()=>{aO.push("toml")})},mT={lang:"tremor",loader:()=>n.e("637").then(n.t.bind(n,83829,19)).then(()=>{aO.push("tremor")})},mk={lang:"tsx",loader:async()=>(await pj.loader(),n.e("963").then(n.t.bind(n,80956,19)).then(()=>{aO.push("tsx")}))},mM={lang:"tt2",loader:async()=>(await Promise.all([u7.loader(),pQ.loader()]),n.e("637").then(n.t.bind(n,27285,19)).then(()=>{aO.push("tt2")}))},mj={lang:"turtle",loader:()=>n.e("637").then(n.t.bind(n,72434,19)).then(()=>{aO.push("turtle")})},mR={lang:"twig",loader:async()=>(await pQ.loader(),n.e("637").then(n.t.bind(n,47864,19)).then(()=>{aO.push("twig")}))},mA={lang:"typescript",loader:async()=>(await pv.loader(),n.e("963").then(n.t.bind(n,46384,19)).then(()=>{aO.push("typescript")}))},mN={lang:"typoscript",loader:()=>n.e("637").then(n.t.bind(n,43189,19)).then(()=>{aO.push("typoscript")})},mL={lang:"unrealscript",loader:()=>n.e("637").then(n.t.bind(n,76969,19)).then(()=>{aO.push("unrealscript")})},mF={lang:"uorazor",loader:()=>n.e("637").then(n.t.bind(n,18331,19)).then(()=>{aO.push("uorazor")})},mO={lang:"uri",loader:()=>n.e("637").then(n.t.bind(n,66324,19)).then(()=>{aO.push("uri")})},mP={lang:"v",loader:async()=>(await u7.loader(),n.e("637").then(n.t.bind(n,32876,19)).then(()=>{aO.push("v")}))},mD={lang:"vala",loader:async()=>(await u7.loader(),n.e("637").then(n.t.bind(n,26940,19)).then(()=>{aO.push("vala")}))},mB={lang:"vbnet",loader:async()=>(await uW.loader(),n.e("637").then(n.t.bind(n,24036,19)).then(()=>{aO.push("vbnet")}))},mH={lang:"velocity",loader:async()=>(await pJ.loader(),n.e("637").then(n.t.bind(n,53611,19)).then(()=>{aO.push("velocity")}))},mV={lang:"verilog",loader:()=>n.e("637").then(n.t.bind(n,39785,19)).then(()=>{aO.push("verilog")})},mU={lang:"vhdl",loader:()=>n.e("637").then(n.t.bind(n,59534,19)).then(()=>{aO.push("vhdl")})},mW={lang:"vim",loader:()=>n.e("637").then(n.t.bind(n,34169,19)).then(()=>{aO.push("vim")})},mG={lang:"visual_basic",loader:()=>n.e("637").then(n.t.bind(n,69831,19)).then(()=>{aO.push("visual_basic")})},mz={lang:"warpscript",loader:()=>n.e("637").then(n.t.bind(n,83355,19)).then(()=>{aO.push("warpscript")})},mZ={lang:"wasm",loader:()=>n.e("637").then(n.t.bind(n,65748,19)).then(()=>{aO.push("wasm")})},mq={lang:"web_idl",loader:()=>n.e("637").then(n.t.bind(n,37040,19)).then(()=>{aO.push("web_idl")})},mK={lang:"wgsl",loader:()=>n.e("637").then(n.t.bind(n,85369,19)).then(()=>{aO.push("wgsl")})},mY={lang:"wiki",loader:async()=>(await pJ.loader(),n.e("637").then(n.t.bind(n,74813,19)).then(()=>{aO.push("wiki")}))},mX={lang:"wolfram",loader:()=>n.e("637").then(n.t.bind(n,55695,19)).then(()=>{aO.push("wolfram")})},m$={lang:"wren",loader:()=>n.e("637").then(n.t.bind(n,23701,19)).then(()=>{aO.push("wren")})},mQ={lang:"xeora",loader:async()=>(await pJ.loader(),n.e("637").then(n.t.bind(n,5651,19)).then(()=>{aO.push("xeora")}))},mJ={lang:"xml_doc",loader:()=>n.e("637").then(n.t.bind(n,62144,19)).then(()=>{aO.push("xml_doc")})},m1={lang:"xojo",loader:()=>n.e("637").then(n.t.bind(n,74119,19)).then(()=>{aO.push("xojo")})},m0={lang:"xquery",loader:async()=>(await pJ.loader(),n.e("637").then(n.t.bind(n,88764,19)).then(()=>{aO.push("xquery")}))},m2={lang:"yaml",loader:()=>n.e("637").then(n.t.bind(n,84146,19)).then(()=>{aO.push("yaml")})},m3={lang:"yang",loader:()=>n.e("637").then(n.t.bind(n,44876,19)).then(()=>{aO.push("yang")})},m6={lang:"zig",loader:()=>n.e("963").then(n.t.bind(n,81878,19)).then(()=>{aO.push("zig")})},m4="wx932d4fdaf46d5611",m5=()=>{switch(nE.lu){case nE.hM.Staging:case nE.hM.Dev:return"wx58f1d4bc57bc28fd";case nE.hM.Production:return m4;case nE.hM.ChatTest:return"wxd4679ecc940ea6be";case nE.hM.Unknown:return m4;default:return(0,F.vv)(nE.lu),m4}};var m9=n(56413);let m7=[()=>{let e=e=>{(X.mL&&e.metaKey&&"j"===e.key||!X.mL&&e.ctrlKey&&"j"===e.key)&&(e.preventDefault(),e.stopPropagation(),so.A.next({method:"shortcutCreateNewChat",args:{event:e}}))};return document.addEventListener("keydown",e,{capture:!0}),()=>{document.removeEventListener("keydown",e,{capture:!0})}}];n(91474),n(10806),n(9106),n(71295),n(42029),n(78656),n(47321),n(25978),n(12800),n(5752),n(53017),nb("init",{aid:675113,token:"772f2fcc08224a50b0134f8d3c139a21",env:nE.lu,release:"e3aaadf6",domain:"https://apmplus.volces.com",sample:{sample_granularity:"event"},integrations:[(0,nS.actionPlugin)()],plugins:{pageview:{extractPid:e=>ny(e)},performance:{longtask:!1}}}),nb("start"),nb("on","beforeSend",e=>{var t;return!("js_error"===e.ev_type&&(null===(t=e.payload.error.filename)||void 0===t?void 0:t.includes("userscript.html")))&&e}),cD.N.init(!1),(0,m9.F)().then(e=>{M(e.ssid)}),o5.prefetchAbTest(["show_new_chat_button_above_input","sse_auto_resume_timeout"]),(()=>{let e=new Set;return m7.forEach(t=>e.add(t())),()=>e.forEach(e=>e())})(),t2.l.startApp({container:"#root",node:(0,u.jsx)(function(e){let{children:t}=e,n=t2.l.useIsMainlandChina(),a=t2.a.useLocale(),r=eN(),s=r("termsOfUse",a),o=r("privacyPolicy",a),i=r("privacyPolicyFile",n?"zh_CN":"en_US"),[l,d]=(0,U.useState)(t2.l.getFgByKey("enableHcaptcha")),c=(0,nm.F)();return(0,U.useEffect)(()=>{o5.getAbTestResult("chat_hcaptcha",!1).then(e=>e&&d(!0))},[]),(0,u.jsx)(eH,{turnstileEnabled:!n,captchaEnabled:n?"shumei":!!l&&"hcaptcha",baseUrl:i1,isMainlandChina:n,isMobile:t2.l.isMobile,isBeta:!1,locale:a,modelServiceAgreement:s,privacyPolicy:o,privacyPolicyFile:i,tracker:t2.l.tracker,http:t2.l.httpWithCoreType,serverApiUserToUser:dr,setStorageUserToken:t2.l.setStorageUserToken,tintColor:"rgb(var(--ds-rgb-primary))",isDark:c,children:t})},{children:(0,u.jsx)(()=>{uh();let e=(0,nm.F)();return(0,u.jsx)(G,{disabled:t2.l.isMobile,showArrow:!1,leaveDelay:0,enterDelay:0,floatingAnimated:!1,size:"s",children:(0,u.jsxs)(q,{...i4(e),children:[(0,u.jsx)(uc,{}),(0,u.jsx)(lW,{}),(0,u.jsx)(K.pG,{router:un}),(0,u.jsx)(ui,{name:"DebugPanel",props:{}})]})})},{})}),router:un,onBeforeRender(){let e;document.addEventListener("visibilitychange",()=>{document.hidden?e=window.setTimeout(()=>{t3.LM.getState().user&&ua(t8.ROOT)&&t2.l.logger.info("6 小时页面隐藏后跳转到首页")},216e5):window.clearTimeout(e)}),(0,F.al)({__DEV__:!1,getIsDebug:t2.l.getIsDebug,getLocale:t2.l.getLocale,useLocale:t2.l.useLocale,http:t2.l.http,logger:t2.l.logger,tracker:t2.l.tracker,withToast:t2.l.withToast,setLastSessionValue:e=>t2.l.setLastSessionValue(t=>{let n=e(t);return{...t,value:n}}),platform:"web",base64Encode:btoa,getSSEAutoResumeConfig:()=>({timeout:o5.getAbTestInstantResult("sse_auto_resume_timeout",2e3),maxChunkInterval:t2.l.getFgByKey("enableLessMaxChunkInterval")?8e3:void 0})}),function(){let{userIsMuted:e,userMuteUntil:t}=t2.l.getLastSessionValue();e&&Date.now()<t&&F.aK.getState().setMuted({muteUntil:t,isMuted:e})}(),aa(),up(),(0,es.on)("resize",window,up),ir(),function(e){let{tracker:t,logger:n,withError:a,appId:r}=e;g=t,m=n,f=a,p=r}({appId:"guh50jw4",tracker:t2.l.tracker,logger:t2.l.logger,withError:t2.l.withError}),function(){if(t2.l.logger.info("初始化路由"),function(){let e=un.state.location.search;return!!e&&"coder"===new URLSearchParams(e).get("from")}()&&(t2.l.logger.info("检测到是从 coder 跳转过来的"),ng.current=!0),!t2.l.getStorageUserToken()||X.qn){t2.l.logger.info("本地没有存 Token，或者是 iOS 登录，直接导航到登录页面"),ur({navigateToSignIn:!ug()&&!um(un.state),isBanned:!1});return}ug()&&(ng.current?(t2.l.logger.info("从 coder 跳过来的，导航到 coder"),ua(t8.AGENT,{agentId:F.HL.AgentId.CODER})):(t2.l.logger.info("不是从 coder 跳过来的，导航到 chat"),ua(t8.ROOT))),(0,e6.I3)(void 0,{http:t2.l.httpWithCoreType,baseUrl:i1},dr).then(e=>{let{data:{user:t}}=e;us(t)}).catch(e=>{t2.l.tracker.error({name:"getCurrentFailed",message:"刷新当前用户状态失败",payload:t2.l.withError(e,{token:t2.l.getStorageUserToken()||tf.WN})})})}(),t3.LM.subscribe(e=>{var t;return null===(t=e.user)||void 0===t?void 0:t.status},e=>{if(void 0===e){t2.l.tracker.info({name:"userStatusChange",message:"用户状态改变 => 暂无用户信息",payload:{status:"none"}});return}tf.IY.OK,t2.l.tracker.info({name:"userStatusChange",message:"用户状态改变 => 正常",payload:{status:"ok"}})}),un.subscribe(e=>{let t,n;let a=t2.l.resolvePathRelativeToPublicPath(e.location.pathname),r=!1,s="",o=t8.ROOT,i=!1,l=t3.LM.getState().user;uf(a)?l?(n=!0,t=!0,l.status,tf.IY.OK,r=!0,o=t8.ROOT,s="visitLogoutOnlyRoute",i=ua(t8.ROOT)):(n=!1,t=!!t2.l.getStorageUserToken()):l?(n=!0,t=!0):(n=!1,t2.l.getStorageUserToken()?t=!0:(t=!1,um(e)||(r=!0,o=t8.SIGN_IN,s="notLogin",i=ua(t8.SIGN_IN)))),t2.l.tracker.info({name:"routeChange",message:"路由改变 => "+a,payload:{to:a,redirect:"".concat(r),redirected:"".concat(i),redirectReason:s,redirectTo:o,hasToken:"".concat(t),hasUserInfo:"".concat(n)}})}),so.A.subscribe({next(e){let{method:t,args:n}=e;"beUnauthenticated"===t?ur(n):"routerNavigate"===t&&ua(n.to)}}),function(){for(let t in c){var e;aD[aP[(e=c[t]).lang]]=e.loader}}(),function(e){let{region:t,tracker:n,disabled:a}=e;if(a||document.querySelector("script[data-smcp]"))return;R=n;let r=document.createElement("script");r.dataset.smcp="true";let s=null;if(t&&t in j.hW&&(s=(0,j.a)(t)),null===s||"CN"===s.iso2)r.src="https://castatic.fengkongcloud.cn/pr/v1.0.4/smcp.min.js",N="CN";else switch(s.continent){case"AS":case"OC":r.src="https://castatic-xjp.fengkongcloud.cn/pr/v1.0.4/smcp.min.js",N="SG";break;default:r.src="https://castatic.fengkongcloud.cn/pr/v1.0.4/smcp.min.js",N="GLOBAL"}null==R||R.info({name:"__shumeiScriptSetup",message:"数美验证码 script 设置",payload:{rawRegion:t,region:N}}),document.head.appendChild(r),r.onload=()=>{A.resolve(),null==R||R.info({name:"__shumeiScriptLoadOk",message:"数美验证码 script 加载成功",payload:{rawRegion:t,region:N}})},r.onerror=e=>{A.reject(e),null==R||R.error({name:"__shumeiScriptLoadFailed",message:"数美验证码 script 加载失败",payload:R.withError(e,{rawRegion:t,region:N})})}}({region:t2.l.getRegion(),tracker:t2.l.tracker,disabled:"CN"!==t2.l.getRegion()&&null!==t2.l.getRegion()}),function(e){let{appId:t,tracker:n,logger:s,isBeta:o}=e;O=t,a=n,r=s,P=o}({appId:m5(),tracker:t2.l.tracker,logger:t2.l.logger,isBeta:!1}),function(e){let{organization:t,tracker:n}=e;window._smConf={organization:t,appId:"default",publicKey:"MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDetfEgYD4aE1ZjmWJ6/jnPurhzI+yeRoJHWrnNtQMte3stQ4VjG3yu21FuN75E6cDpA9KtDXwcB2M/FiGUAe3G0rNotbWI8+SjZfUbW/OILFTzY0uaeEkmVGW5WyJ6weQbbr1xTCPa2OO3YIMeZljWUYHG5h21WAm/PATg8im8cQIDAQAB",staticHost:"static.portal101.cn",protocol:"https",apiHost:"fp-it-acc.portal101.cn"},D=n}({organization:"P9usCUBauxft8eAmUXaZ",tracker:t2.l.tracker}),(0,eF.Zu)({sitekey:"0x4AAAAAAA1jQEh8YFk064tz",tracker:t2.l.tracker,logger:t2.l.logger,ignoreFailed:!0}),t2.l.isMobile&&function(){let e=document.createElement("style");e.innerHTML="\n.ds-scroll-area__gutters {\n  display: none !important;\n}\n  ",document.head.appendChild(e)}()},onAfterRender(){},onLocaleChange(){},onVisibilityChange(){}})},95258:function(e,t,n){e.exports={wrap:"_363cb01",title:"_3ad1932",desc:"_93e2bfa",confirmButton:"_3340925",selects:"_4702dbb",select:"_2338f44"}},68002:function(e,t,n){e.exports={sider:"dc04ec1d",wideSider:"a2f3d50e",shrinkSider:"ca6d4be1",mask:"_4cbcd96",collapsed:"a02af2e6",hide:"_70b689f",transparent:"_7d10bb1"}},52440:function(e,t,n){e.exports={frame:"c994dda2",banner:"_47c279e",main:"_99ad066",footer:"_5178cc4"}},39721:function(e,t,n){e.exports={assistantMessage:"_4f9bf79",isLast:"d7dc56a8",showActions:"_43c05b5",showLoading:"_1988f4b",actions:"_965abe9",shareView:"_448e4c0",alwaysShowActions:"_54866f7",loading:"b4e4476b",blank:"_2f297cc"}},49741:function(e,t,n){e.exports={wrap:"_0a3d93b"}},61718:function(e,t,n){e.exports={sites:"_972436e",text:"_9256b0a"}},64399:function(e,t,n){e.exports={deepSearch:"_7d763a7",noDetail:"_45cdda5",bottomCoverDetect:"ddd2f74b",topCoverDetect:"_68f84dc"}},36807:function(e,t,n){e.exports={wrap:"_0a35f0b",icon:"_989fa50"}},902:function(e,t,n){e.exports={thinkingWrap:"_48edb25",contentWrap:"e1675d8b",contentIcon:"_9b52f6c",contentLine:"_9ecc93a"}},10212:function(e,t,n){e.exports={titleWrap:"_245c867",selected:"a51c5344",clickArea:"_5ab5d64",titleText:"_4d41763",mask:"c99b79f8"}},68578:function(e,t,n){e.exports={loadingIcon:"_8f4e435"}},4553:function(e,t,n){e.exports={searchRow:"ffdab56b",clickable:"ddbfd84f",content:"_0cea5b0",icon:"bbe89fe9",sadly:"a7e8fbfb"}},61949:function(e,t,n){e.exports={queryGroup:"_42b3783",query:"_20a2ea8"}},72132:function(e,t,n){e.exports={siteLogoGroup:"_287b564",siteLogo:"_8e95474"}},33096:function(e,t,n){e.exports={}},34754:function(e,t,n){e.exports={copyButton:"db183363"}},41946:function(e,t,n){e.exports={userAvatar:"ede5bc47",picture:"fdf01f38",downloadAppContainer:"_5a6ad65",text:"_9e0c9c6",settingDialogModalWrapper:"e390ef68"}},56495:function(e,t,n){e.exports={switchContainer:"_663bc35",customSwitch:"e21a51cb"}},60613:function(e,t,n){e.exports={settingsItem:"_50b3d9e",themeSelect:"_0315fb1",main:"f2ff50b5",content:"_574eb80",navigationWrapper:"ab016168",navigation:"d316d158",item:"_266abb8",active:"_699d482",settingDialogModalContent:"_6c040bb",shareLinksManageHeader:"_89ee9b2"}},5996:function(e,t,n){e.exports={button:"cdf736f8"}},39386:function(e,t,n){e.exports={labelContainer:"_4a66405",description:"d6e050ed"}},55056:function(e,t,n){n.r(e.exports={inputFullContainer:"aaff8b8f",inputWrapper:"_77cefa5",session:"_3d616d3",share:"e0f12fee",agent:"_9996a53",none:"_974d5d0",withFile:"_1d5e44c",ocrTip:"_7ca114c",textarea:"_27c9245",textareaMirror:"b13855df",belowInputWrapper:"_020ab5b",functionRow:"ec4f5d61",functionRowRightColumn:"bf38813a",textareaAlignWrapper:"_24fad49",scrollEnd:"d96f2d2a",sendButton:"_7436101",disabled:"bcc55ca1",debugTip:"_8ac69d6"})},27499:function(e,t,n){e.exports={mask:"_9f00468",wrap:"_116ea5b",title:"_59bd16b",desc:"_43a83ad"}},26879:function(e,t,n){e.exports={scrollToBottomButton:"_0e98de6"}},7632:function(e,t,n){e.exports={button:"f79352dc",text:"_6dbc175",hide:"_51c583b"}},43495:function(e,t,n){e.exports={uploadLaunchButton:"f02f0e25",uploadButtonTooltipText:"_393efd7"}},91081:function(e,t,n){e.exports={sider:"_5a20a69",logo:"_6acebc2",group:"e5bf614e",icon:"_4f3769f",avatarContainer:"_5fcec83",avatar:"d5b40417"}},46523:function(e,t,n){e.exports={contentSidebarMask:"fffe1848",contentSidebarClose:"_5d271a3",contentSidebar:"_519be07",appearActive:"_4771b62",appearDone:"_27fc06b",exit:"_3390f94",exitActive:"_6c15980",contentContainer:"_26c5bc2",contentSidebarTitle:"_2c74d7a",leftSlot:"_560dc64",rightSlot:"f59a0d3b",contentSidebarInner:"fcd12e6e"}},59007:function(e,t,n){e.exports={}},21045:function(e,t,n){e.exports={id:"_2005580"}},65545:function(e,t,n){e.exports={container:"febb9909",dot:"_29ef3c7",fading:"_3f11678"}},46688:function(e,t,n){e.exports={content:"_74d6322"}},27267:function(e,t,n){e.exports={inMessage:"_5cadb25",inInput:"_80c60d0",fileItem:"_76cd190",fileItemBox:"d2d04dae",fileIcon:"b3a5d6c1",failedFile:"_9e85dae",content:"_789aea7",caption:"f3a54b52",shareCaption:"_570dc8a",subCaption:"_5119742",captionRow:"_7e13492",hoverToShow:"a9f62e3d",closeButton:"_35730b2",forceShow:"f80241fa",failed:"_4ebfd18",couldPreview:"_0004e59",opaque:"_942c3bb",failedCloseButton:"_9a41837",loadingWrapper:"_48289ac"}},69605:function(e,t,n){n.r(e.exports={item:"_9bc997d",left:"_33882ae",right:"_28d7e84"})},84733:function(e,t,n){e.exports={switch:"_81e8954",buttons:"efa13877",zoomButton:"e4ec2a75",disabled:"f199b2c5",verticalLine:"ae809fef",codeInfoName:"d813de27",disableOption:"_3343133"}},10311:function(e,t,n){e.exports={container:"_121d384",sidePart:"d2a24f03",right:"_246a029"}},18910:function(e,t,n){e.exports={wrapper:"_1210dd7"}},34831:function(e,t,n){e.exports={errorContent:"_6c50daf",standIn:"_4a23c6b"}},37719:function(e,t,n){e.exports={wrap:"_17e14c5",branch:"dd7e4fda",icon:"e7367035"}},99630:function(e,t,n){e.exports={messageRiskWarn:"dbe8cf4a"}},91230:function(e,t,n){e.exports={input:"_0632724"}},1839:function(e,t,n){e.exports={button:"_5a8ac7a",icon:"_1c42ad7",windows:"a084f19e"}},15495:function(e,t,n){e.exports={newChatButton:"_217e214"}},86236:function(e,t,n){e.exports={errorContainer:"fba535c8",main:"_07c5e23",title:"cfffee1e",action:"_79a73be",error:"f309f19b"}},92563:function(e,t,n){e.exports={container:"_3f79b51"}},73330:function(e,t,n){e.exports={container:"b40079d7",navMask:"_17296f2",button:"c2ea1664",left:"_77c3bd0",right:"_1ef577a"}},46242:function(e,t,n){e.exports={container:"_33fe369",content:"dc433409",item:"_79fcd13"}},81367:function(e,t,n){e.exports={floatCard:"de80ba65"}},26382:function(e,t,n){e.exports={wrap:"_426ebf9",clickable:"_5130389",meta:"a93786a8",siteIcon:"c16074e9",siteName:"d2eca804",divider:"a7055679",date:"caa1ee14",index:"ba26051b",title:"f664d0b2",snippet:"c56273f9",cardAnchorWrap:"_24fe229"}},68830:function(e,t,n){e.exports={}},59024:function(e,t,n){e.exports={titleShared:"e37a04e4",titleText:"afa34042",editable:"e0a1edb7",skeleton:"b9ba0ed4"}},24663:function(e,t,n){e.exports={sessionItem:"_546d736",content:"c08e6e93",actionButton:"_2090548",active:"b64fb9ae",actionButtonMask:"_254829d",input:"db5b5408"}},5420:function(e,t,n){e.exports={scrollContainer:"_6d215eb",empty:"f27d1011",scrollContainerWrap:"_3586175",sectionHeader:"_48cdfc1",section:"_5d4b535",emptyContent:"fd90d2b2",loadmoreSentinel:"de3d058c",noMore:"be66d622",sessionLoading:"_873c4d4",error:"_47ef3ad",errorEmpty:"ede76300",skeletonWrap:"_196bcac",show:"_8a693f3",skeletonContainer:"_68953bc",skeleton:"_5c2e5a9",sessionList:"_77cdc67",gradientMask:"_1d72f01"}},27329:function(e,t,n){e.exports={messageListContainer:"_3919b83",messageListScrollContainer:"_8f60047",scrollContentWrapper:"_0f72b0b",messageListScrollWrapper:"dad65929",messageListLoading:"_772e792",error:"df4cb668",newChatButtonContainer:"_88681e8",loginButtonContainer:"a8119a4e"}},34947:function(e,t,n){e.exports={messageListHeader:"_2be88ba",guest:"ce3c7788",share:"a221e010",mobileHeader:"_0efe408",sep:"_348bebe",sessionHeader:"f8d1e4c0",shareBtn:"_57370c5"}},83095:function(e,t,n){e.exports={content:"_01bdeed",scrollContainer:"_12b9c2d",empty:"c33d97ac",sharesList:"_87c2ebb",shareItem:"_126ee3f",shareDate:"f5af7aa0",shareTitle:"_6f6e1cb",shareLink:"e0067510",deleteButton:"_12201d1",shareTitleAndDate:"_5d587ec",loadingSentinel:"_7dfbb0a"}},88339:function(e,t,n){e.exports={shareButton:"_5dedc1e"}},19654:function(e,t,n){e.exports={checkboxWrap:"d30139ff",checkbox:"ad950ab7"}},3183:function(e,t,n){e.exports={panel:"_43d222b",content:"_9f86274",count:"dcaa34cd",actions:"fab07e97"}},84063:function(e,t,n){e.exports={waitingSelection:"_7729a77",hide:"fa1bcf13",unselectable:"b02531e6",wrapForShare:"_656c965",selectedForShare:"_6e8caf5"}},4749:function(e,t,n){e.exports={warning:"a9bc8553"}},5478:function(e,t,n){e.exports={shimmer:"_5255ff8",overlay:"e4b3a110","shimmer-text":"_5a7d2fc",moveBlock:"cac31b5e",mirrorText:"c53e25fd"}},94505:function(e,t,n){e.exports={topContainer:"_262baab",deepseekIconContainer:"e066abb8",collapsedDrawerButton:"_7d1f5e2"}},42095:function(e,t,n){e.exports={blockSelector:"_6c1fed6",selected:"_16a7dbe",blockSelectorGroup:"_50e2ab4"}},49905:function(e,t,n){e.exports={layout:"feec6a7a",disabled:"_8377d3b",hidden:"ffe10903",loading:"_252f78d"}},72613:function(e,t,n){n.r(e.exports={basicButton:"_75c2572",primary:"_122d2a2",outlined:"e1c686b9",danger:"d948b848"})},29062:function(e,t,n){n.r(e.exports={floatingButton:"_090c426",primary:"aec25216",icon:"_00d3b42",secondary:"_6894dc3",md:"_3b6959b",lg:"_74c9c17"})},4808:function(e,t,n){e.exports={textButton:"_8b5e24e",withIcon:"_7b40348"}},64004:function(e,t,n){n.r(e.exports={toggleButton:"_70150b8",selected:"_76f196b",disabled:"_2bdc0d7",sm:"_785bea4",md:"a567dba3"})},87512:function(e,t,n){e.exports={iconButton:"_17e543b",disabled:"_308c14b"}},2101:function(e,t,n){e.exports={selectOverride:"e311289c",selectMenuOverride:"_9afb5f9"}},29316:function(e,t,n){e.exports={resendButton:"a3b9bd76",besideFiles:"_59c20ea",besideContent:"_76a2310",resentIcon:"_6683dd4",disabled:"_7f04b94"}},61241:function(e,t,n){e.exports={userMessageContainer:"_9663006",editing:"_3111eee",userMessageActions:"_78e0558",actionsWithBranch:"_425ea0b",alwaysShow:"_0bbda35",editButton:"d4910adc",userMessage:"fbb737a4",belowFiles:"_8271fc3",wrapForShare:"d29f3d7d"}},58279:function(e,t,n){e.exports={bottomWrap:"_11d6b3a",hintWithBranch:"_60a11b2",hint:"_1ce76f5"}},44570:function(e,t,n){e.exports={textarea:"cc852ac5",belowFiles:"_67a34c7",overscrollContain:"de1201a8",textareaMidLayer:"_646a522"}},35478:function(e,t,n){e.exports={sider:"b8812f16",menuContainer:"_2afd28d",username:"_9d8da05",actionIcon:"_39cc453"}},49053:function(e,t,n){e.exports={container:"a02c1715",main:"e32c2b1a",title:"_1270bde",action:"_8e693ef"}},96598:function(e,t,n){e.exports={content:"_7463b82",loadingWrapper:"f0b28104"}},8619:function(e,t,n){e.exports={container:"aea2b515",logoContainer:"e84f084b",content:"_35401d9",imageContainer:"b99592af",description:"d355b87a"}},66392:function(e,t,n){e.exports={messageInputContainer:"_871cbca",backgroundMask:"d72636e2"}},44071:function(e,t,n){e.exports={frame:"cb86951c",layout:"c3ecdb44",banner:"cddfb2ed",main:"_7780f2e",messageColumn:"_765a5cd"}},81993:function(e,t,n){e.exports={contentCaveat:"_0fcaa63"}},91228:function(e,t,n){e.exports={onboardingContainer:"_660ca72",header:"_1551317",onboarding:"_9a2f8e4",sayHi:"_5758a85",muted:"_803e2cf",sayHiMain:"_6c7e7df",logo:"ce41ed1b",muteAlert:"_71d6bcf"}},13982:function(e,t,n){e.exports={icon:"e2394955"}},5752:function(e,t,n){e.exports={}},53017:function(e,t,n){e.exports={}},12800:function(e,t,n){e.exports={}},44574:function(e,t,n){e.exports={}},59081:function(e,t,n){e.exports={}},36071:function(e,t,n){e.exports={}},70133:function(e,t,n){e.exports={}},96671:function(e,t,n){e.exports={}},21228:function(e,t,n){e.exports={}},75464:function(e,t,n){e.exports={}},19650:function(e,t,n){e.exports={}},87985:function(e,t,n){e.exports={}},33401:function(e,t,n){e.exports={}},25978:function(e,t,n){e.exports={}},47321:function(e,t,n){e.exports={}},42029:function(e,t,n){e.exports={}},78656:function(e,t,n){e.exports={}},10806:function(e,t,n){e.exports={}},91474:function(e,t,n){n.r(e.exports={})},9106:function(e,t,n){e.exports={}},71295:function(e,t,n){e.exports={}},22677:function(e,t,n){e.exports={}},73706:function(e,t,n){e.exports={}},23140:function(e,t,n){e.exports={}},40514:function(e,t,n){e.exports={}},31409:function(e,t,n){e.exports={}},98302:function(e,t,n){e.exports={}},84849:function(e,t,n){e.exports={}},18255:function(e,t,n){e.exports={}},77090:function(e,t,n){e.exports={}},69263:function(e,t,n){e.exports={}},591:function(e,t,n){e.exports={}},61930:function(e,t,n){e.exports={}},97593:function(e,t,n){e.exports={}},97966:function(e,t,n){e.exports={}},16659:function(e,t,n){e.exports={}},13779:function(e,t,n){e.exports={}},78710:function(e,t,n){e.exports={}},85310:function(e,t,n){e.exports={}},2419:function(e,t,n){e.exports={}},56279:function(e,t,n){e.exports={}},5581:function(e,t,n){e.exports={}},84317:function(e,t,n){e.exports={}},85833:function(e,t,n){e.exports={}},73883:function(e,t,n){e.exports={}},99066:function(e,t,n){e.exports={}},9445:function(e,t,n){e.exports={}},46339:function(e,t,n){e.exports={}},12590:function(e,t,n){e.exports={}},67685:function(e,t,n){e.exports={}},66744:function(e,t,n){e.exports={}},92997:function(e,t,n){e.exports={}},99688:function(e,t,n){e.exports={}},29140:function(e,t,n){let a;function r(e,t){let{baseUrl:n,http:a}=t;return a.http.post("".concat(n,"/oauth/get_token"),{json:{nonce:e.nonce,provider:e.provider}}).then(e=>{var t,n;let{json:{data:a},context:r}=e;if(!(null===(t=a.biz_data)||void 0===t?void 0:t.token))throw Error("Unable to get token, code: ".concat(a.biz_code,", msg: ").concat(a.biz_msg));return{data:{token:null===(n=a.biz_data)||void 0===n?void 0:n.token},context:r}})}function s(e,t){let{baseUrl:n,http:a}=t;return a.http.post("".concat(n,"/check_email_code"),{json:{email:e.email,email_verification_code:e.emailVerificationCode}}).then(e=>{let{json:t,context:n}=e;return{data:{code:t.data.biz_code},context:n}})}function o(e,t){let{baseUrl:n,http:a}=t;return a.http.post("".concat(n,"/check_sms_code"),{json:{mobile_number:e.mobilePhoneNumber,area_code:e.areaCode,sms_verification_code:e.smsVerificationCode}}).then(e=>{let{json:t,context:n}=e;return{data:{code:t.data.biz_code},context:n}})}function i(e,t){let{email:n,turnstileToken:a,shumeiVerification:r,hcaptchaToken:s,locale:o,deviceId:i,scenario:l}=e,{baseUrl:d,http:c}=t;return c.http.post("".concat(d,"/create_email_verification_code"),{json:{email:n,turnstile_token:a,locale:o,shumei_verification:r,hcaptcha_token:s,device_id:null!=i?i:"",scenario:l}}).then(e=>{var t,n;let{json:a,context:r}=e;return{data:{code:a.data.biz_code,sendWindowSecs:null!==(n=null===(t=a.data.biz_data)||void 0===t?void 0:t.send_window_secs)&&void 0!==n?n:null},context:r}})}function l(e,t){let{mobileNumber:n,turnstileToken:a,locale:r,shumeiVerification:s,hcaptchaToken:o,deviceId:i}=e,{baseUrl:l,http:d}=t;return d.http.post("".concat(l,"/create_sms_verification_code"),{json:{locale:r,mobile_number:n,turnstile_token:a,shumei_verification:s,hcaptcha_token:o,device_id:null!=i?i:""}}).then(e=>{var t,n;let{json:a,context:r}=e;return{data:{code:a.data.biz_code,sendWindowSecs:null!==(n=null===(t=a.data.biz_data)||void 0===t?void 0:t.send_window_secs)&&void 0!==n?n:null},context:r}})}function d(e,t){let{baseUrl:n,http:a}=t;return a.http.post("".concat(n,"/email_reset_password"),{json:{email:e.email,email_verification_code:e.emailVerificationCode,password:e.password}}).then(e=>{let{json:t,context:n}=e;return{data:{code:t.data.biz_code},context:n}})}function c(e,t,n){let{baseUrl:a,http:r}=t;return r.http.post("".concat(a,"/login"),{json:{email:e.email,mobile:e.mobile,password:e.password,area_code:e.areaCode,device_id:e.deviceId,os:e.os},context:r.withDefaultHttpContext({withToken:!1})}).then(e=>{var t;let{json:{data:a},context:r}=e;return{data:{code:a.biz_code,user:n((null===(t=a.biz_data)||void 0===t?void 0:t.user)||null)},context:r}})}function u(e,t,n){let{baseUrl:a,http:r}=t;return r.http.post("".concat(a,"/login_by_mobile_sms"),{json:{region:e.region,locale:e.locale,mobile_number:e.mobileNumber,area_code:e.areaCode,sms_verification_code:e.smsVerificationCode,device_id:e.deviceId,os:e.os},context:r.withDefaultHttpContext({withToken:!1})}).then(e=>{var t;let{json:{data:a},context:r}=e;return{data:{code:a.biz_code,user:n((null===(t=a.biz_data)||void 0===t?void 0:t.user)||null)},context:r}})}function h(e,t){let{baseUrl:n,http:a}=t;return a.http.post("".concat(n,"/mobile_reset_password"),{json:{area_code:e.areaCode,mobile_number:e.mobile,password:e.password,sms_verification_code:e.smsVerificationCode}}).then(e=>{let{json:t,context:n}=e;return{data:{code:t.data.biz_code},context:n}})}function p(e,t,n){let{baseUrl:a,http:r}=t;return r.http.post("".concat(a,"/register"),{json:{locale:e.locale,region:e.region,payload:{email:e.payload.email,email_verification_code:e.payload.emailVerificationCode,password:e.payload.password},device_id:e.deviceId,os:"web"},context:r.withDefaultHttpContext({withToken:!1})}).then(e=>{var t;let{json:{data:a},context:r}=e;return{data:{code:a.biz_code,msg:a.biz_msg,user:n((null===(t=a.biz_data)||void 0===t?void 0:t.user)||null)},context:r}})}function g(e,t,n){let{baseUrl:a,http:r}=t;return r.http.post("".concat(a,"/register_by_mobile"),{json:{locale:e.locale,region:e.region,payload:{area_code:"+86",mobile_number:e.payload.mobile,sms_verification_code:e.payload.smsVerificationCode,audit_json_str:e.payload.auditJsonString,password:e.payload.password},device_id:e.deviceId,os:"web"},context:r.withDefaultHttpContext({withToken:!1})}).then(e=>{var t;let{json:{data:a},context:r}=e;return{data:{code:a.biz_code,msg:a.biz_msg,user:n((null===(t=a.biz_data)||void 0===t?void 0:t.user)||null)},context:r}})}async function m(e,t){let{baseUrl:n,http:a}=t,r=await a.http.post("".concat(n,"/unregister"));switch(r.json.data.biz_code){case B.UNREGISTER_ERROR_CODE.OK:return"OK";case B.UNREGISTER_ERROR_CODE.DELETE_IDENTITY_TOO_FREQUENT:return"TOO_FREQUENT";default:throw Error("Unknown unregister error, ".concat(JSON.stringify(r.json.data)))}}async function f(e,t){let{http:n,baseUrl:a}=t;return n.http.post("".concat(a,"/logout")).then(e=>{let{context:t}=e;return{data:null,context:t}})}function C(e,t,n){let{http:a,baseUrl:r}=t;return a.http.get("".concat(r,"/current")).then(e=>{let{json:{data:t},context:a}=e;return{data:{user:n(t.biz_data)},context:a}})}function v(e,t,n){let{baseUrl:a,http:r}=t;return r.http.post("".concat(a,"/oauth/wechat/mobile_verification"),{json:{signature:e.signature,area_code:e.areaCode,mobile_number:e.mobilePhoneNumber,sms_verification_code:e.smsVerificationCode}}).then(e=>{var t,a;let{json:{data:r},context:s}=e;return{data:{code:r.biz_code,user:n((null===(t=r.biz_data)||void 0===t?void 0:t.user)||null),successCode:(null===(a=r.biz_data)||void 0===a?void 0:a.biz_code)||null},context:s}})}n.d(t,{a$:()=>B,g2:()=>g,WL:()=>l,OT:()=>u,wh:()=>h,ev:()=>v,Rh:()=>p,I3:()=>C,ju:()=>z,Tk:()=>i,_4:()=>s,iD:()=>o,H$:()=>f,h_:()=>r,V6:()=>m,VB:()=>d,dw:()=>c}),(S=(x=B||(B={})).BIND_MOBILE_CHALLENGE_ERROR_CODE||(x.BIND_MOBILE_CHALLENGE_ERROR_CODE={}))[S.OK=0]="OK",S[S.SMS_SEND_TOO_FREQUENT=1]="SMS_SEND_TOO_FREQUENT",S[S.RECAPTCHA_VERIFY_FAILED=2]="RECAPTCHA_VERIFY_FAILED",S[S.MOBILE_ALREADY_BOUND=3]="MOBILE_ALREADY_BOUND",S[S.ACCOUNT_ALREADY_HAS_MOBILE=4]="ACCOUNT_ALREADY_HAS_MOBILE",S[S.MOBILE_VERIFY_FAILED=5]="MOBILE_VERIFY_FAILED",S[S.CLOUD_ERROR=99]="CLOUD_ERROR",(E=x.BIND_MOBILE_VALIDATE_ERROR_CODE||(x.BIND_MOBILE_VALIDATE_ERROR_CODE={}))[E.OK=0]="OK",E[E.SMS_EXPIRED=1]="SMS_EXPIRED",E[E.SMS_VERIFY_FAILED=2]="SMS_VERIFY_FAILED",E[E.ACCOUNT_ALREADY_HAS_MOBILE=3]="ACCOUNT_ALREADY_HAS_MOBILE",E[E.MOBILE_ALREADY_BOUND=4]="MOBILE_ALREADY_BOUND",E[E.UNKNOWN_ERROR=99]="UNKNOWN_ERROR",(b=x.CHECK_EMAIL_CODE_ERROR_CODE||(x.CHECK_EMAIL_CODE_ERROR_CODE={}))[b.OK=0]="OK",b[b.EMAIL_NOT_EXIST=2]="EMAIL_NOT_EXIST",b[b.ACCOUNT_BANNED=3]="ACCOUNT_BANNED",b[b.EMAIL_EXPIRED=7]="EMAIL_EXPIRED",b[b.EMAIL_VERIFY_FAILED=8]="EMAIL_VERIFY_FAILED",(_=x.CHECK_SMS_CODE_ERROR_CODE||(x.CHECK_SMS_CODE_ERROR_CODE={}))[_.OK=0]="OK",_[_.MOBILE_NOT_EXIST=2]="MOBILE_NOT_EXIST",_[_.ACCOUNT_BANNED=3]="ACCOUNT_BANNED",_[_.SMS_EXPIRED=7]="SMS_EXPIRED",_[_.SMS_VERIFY_FAILED=8]="SMS_VERIFY_FAILED",(y=x.CRAETE_EMAIL_VERIFICATION_CODE_ERROR_CODE||(x.CRAETE_EMAIL_VERIFICATION_CODE_ERROR_CODE={}))[y.OK=0]="OK",y[y.EMAIL_REQUEST_TOO_FREQUENT=1]="EMAIL_REQUEST_TOO_FREQUENT",y[y.RECAPTCHA_VERIFY_FAILED=2]="RECAPTCHA_VERIFY_FAILED",y[y.INVALID_EMAIL_FORMAT=3]="INVALID_EMAIL_FORMAT",y[y.EMAIL_DOMAIN_NOT_IN_WHITELIST=4]="EMAIL_DOMAIN_NOT_IN_WHITELIST",y[y.CLOUD_ERROR=99]="CLOUD_ERROR",(w=x.CREATE_SMS_VERIFICATION_CODE_ERROR_CODE||(x.CREATE_SMS_VERIFICATION_CODE_ERROR_CODE={}))[w.OK=0]="OK",w[w.SMS_SEND_TOO_FREQUENT=1]="SMS_SEND_TOO_FREQUENT",w[w.RECAPTCHA_VERIFY_FAILED=2]="RECAPTCHA_VERIFY_FAILED",w[w.NO_MOBILE_NUMBER=3]="NO_MOBILE_NUMBER",w[w.CLOUD_ERROR=99]="CLOUD_ERROR",(I=x.EMAIL_RESET_PASSWORD_ERROR_CODE||(x.EMAIL_RESET_PASSWORD_ERROR_CODE={}))[I.OK=0]="OK",I[I.EMAIL_NOT_EXIST=2]="EMAIL_NOT_EXIST",I[I.INVALID_PASSWORD=4]="INVALID_PASSWORD",I[I.EMAIL_EXPIRED=7]="EMAIL_EXPIRED",I[I.EMAIL_VERIFY_FAILED=8]="EMAIL_VERIFY_FAILED",I[I.ACCOUNT_BANNED=10]="ACCOUNT_BANNED",(T=x.LOGIN_ERROR_CODE||(x.LOGIN_ERROR_CODE={}))[T.OK=0]="OK",T[T.PASSWORD_OR_USER_NAME_IS_WRONG=2]="PASSWORD_OR_USER_NAME_IS_WRONG",T[T.USER_IS_BANNED=10]="USER_IS_BANNED",(k=x.GET_TOKEN_ERROR_CODE||(x.GET_TOKEN_ERROR_CODE={}))[k.OK=0]="OK",k[k.USER_IS_BANNED=10]="USER_IS_BANNED",(M=x.LOGIN_BY_MOBILE_SMS_ERROR_CODE||(x.LOGIN_BY_MOBILE_SMS_ERROR_CODE={}))[M.OK=0]="OK",M[M.LOGIN_TO_EXISTING_ACCOUNT=1]="LOGIN_TO_EXISTING_ACCOUNT",M[M.ACCOUNT_BANNED=3]="ACCOUNT_BANNED",M[M.ONLY_SUPPORT_REGISTER_FROM_MAINLAND=6]="ONLY_SUPPORT_REGISTER_FROM_MAINLAND",M[M.SMS_EXPIRED=7]="SMS_EXPIRED",M[M.SMS_VERIFY_FAILED=8]="SMS_VERIFY_FAILED",M[M.INTERNAL_SERVER_ERROR=9]="INTERNAL_SERVER_ERROR",M[M.SSO_SERVER_ERROR=99]="SSO_SERVER_ERROR",(j=x.MobileResetPasswordServerErrorCode||(x.MobileResetPasswordServerErrorCode={}))[j.OK=0]="OK",j[j.MOBILE_NOT_EXIST=2]="MOBILE_NOT_EXIST",j[j.INVALID_PASSWORD=4]="INVALID_PASSWORD",j[j.SMS_EXPIRED=7]="SMS_EXPIRED",j[j.SMS_VERIFY_FAILED=8]="SMS_VERIFY_FAILED",j[j.ACCOUNT_BANNED=10]="ACCOUNT_BANNED",(R=x.REGISTER_ERROR_CODE||(x.REGISTER_ERROR_CODE={}))[R.OK=0]="OK",R[R.EMAIL_EXISTS=1]="EMAIL_EXISTS",R[R.INVALID_PASSWORD=4]="INVALID_PASSWORD",R[R.REGISTER_FROM_MAINLAND=6]="REGISTER_FROM_MAINLAND",R[R.EMAIL_EXPIRED=7]="EMAIL_EXPIRED",R[R.EMAIL_PASSCODE_FAILED=8]="EMAIL_PASSCODE_FAILED",R[R.EMAIL_DOMAIN_NOT_SUPPORTED=9]="EMAIL_DOMAIN_NOT_SUPPORTED",(A=x.UNREGISTER_ERROR_CODE||(x.UNREGISTER_ERROR_CODE={}))[A.OK=0]="OK",A[A.ACCOUNT_NOT_FOUND=1]="ACCOUNT_NOT_FOUND",A[A.DELETE_IDENTITY_TOO_FREQUENT=2]="DELETE_IDENTITY_TOO_FREQUENT",(N=x.REGISTER_BY_MOBILE_ERROR_CODE||(x.REGISTER_BY_MOBILE_ERROR_CODE={}))[N.OK=0]="OK",N[N.MOBILE_ALREADY_REGISTER=3]="MOBILE_ALREADY_REGISTER",N[N.PASSWORD_TOO_SHORT_OR_TOO_LONG=4]="PASSWORD_TOO_SHORT_OR_TOO_LONG",N[N.ONLY_SUPPORT_REGISTER_FROM_MAINLAND=6]="ONLY_SUPPORT_REGISTER_FROM_MAINLAND",N[N.SMS_EXPIRED=7]="SMS_EXPIRED",N[N.SMS_VERIFY_FAILED=8]="SMS_VERIFY_FAILED",(L=x.OAUTH_WECHAT_MOBILE_VERIFICATION_ERROR_CODE||(x.OAUTH_WECHAT_MOBILE_VERIFICATION_ERROR_CODE={}))[L.OK=0]="OK",L[L.ACCOUNT_ALREADY_EXISTS=1]="ACCOUNT_ALREADY_EXISTS",L[L.REGISTRATION_EXPIRED=2]="REGISTRATION_EXPIRED",L[L.GET_PROFILE_FAILED=3]="GET_PROFILE_FAILED",L[L.SMS_VERIFY_FAILED=4]="SMS_VERIFY_FAILED",L[L.SMS_EXPIRED=5]="SMS_EXPIRED",L[L.MOBILE_PHONE_NUMBER_BANNED=6]="MOBILE_PHONE_NUMBER_BANNED",L[L.INTERNAL_SERVER_ERROR=7]="INTERNAL_SERVER_ERROR",L[L.MOBILE_ACCOUNT_ALREADY_HAS_OAUTH_ACCOUNT=8]="MOBILE_ACCOUNT_ALREADY_HAS_OAUTH_ACCOUNT",L[L.OAUTH_ACCOUNT_ALREADY_BOUND_MOBILE=9]="OAUTH_ACCOUNT_ALREADY_BOUND_MOBILE",L[L.MOBILE_PHONE_NUMBER_INVALID=10]="MOBILE_PHONE_NUMBER_INVALID",(F=x.OAUTH_WECHAT_MOBILE_VERIFICATION_OK_CODE||(x.OAUTH_WECHAT_MOBILE_VERIFICATION_OK_CODE={}))[F.BOUND_WECHAT_TO_EXISTING_MOBILE=1e3]="BOUND_WECHAT_TO_EXISTING_MOBILE",F[F.REGISTERED_WECHAT_AND_MOBILE=1001]="REGISTERED_WECHAT_AND_MOBILE",(O=x.OAUTH_CALLBACK_ERROR_MESSAGE_CODE||(x.OAUTH_CALLBACK_ERROR_MESSAGE_CODE={}))[O.SWAP_CODE_NETWORK_ERROR=1]="SWAP_CODE_NETWORK_ERROR",O[O.SWAP_CODE_INVALID=2]="SWAP_CODE_INVALID",O[O.GET_PROFILE_FAILED=3]="GET_PROFILE_FAILED",O[O.ACCOUNT_BANNED=4]="ACCOUNT_BANNED",O[O.RECAPTCHA_VERIFY_FAILED=5]="RECAPTCHA_VERIFY_FAILED",O[O.TOO_MANY_REQUESTS=429]="TOO_MANY_REQUESTS",O[O.UNEXCEPTED_ERROR=99]="UNEXCEPTED_ERROR",(P=x.MINIPROGRAM_LOGIN_ERROR_CODE||(x.MINIPROGRAM_LOGIN_ERROR_CODE={}))[P.LOGIN_SUCCESS=0]="LOGIN_SUCCESS",P[P.NEED_BIND_MOBILE=1]="NEED_BIND_MOBILE",P[P.ACCOUNT_BANNED=2]="ACCOUNT_BANNED",P[P.CODE2SESSION_ERROR=3]="CODE2SESSION_ERROR",(D=x.MINIPROGRAM_MOBILE_VERIFICATION_ERROR_CODE||(x.MINIPROGRAM_MOBILE_VERIFICATION_ERROR_CODE={}))[D.LOGIN_SUCCESS=0]="LOGIN_SUCCESS",D[D.ACCOUNT_ALREADY_EXISTS=1]="ACCOUNT_ALREADY_EXISTS",D[D.MOBILE_PHONE_NUMBER_BANNED=2]="MOBILE_PHONE_NUMBER_BANNED",D[D.CODE2SESSION_ERROR=3]="CODE2SESSION_ERROR",D[D.GET_PHONE_NUMBER_ERROR=4]="GET_PHONE_NUMBER_ERROR",D[D.MOBILE_ACCOUNT_ALREADY_HAS_WECHAT=5]="MOBILE_ACCOUNT_ALREADY_HAS_WECHAT",D[D.WECHAT_ACCOUNT_ALREADY_BOUND_MOBILE=6]="WECHAT_ACCOUNT_ALREADY_BOUND_MOBILE",D[D.ONLY_SUPPORT_REGISTER_FROM_MAINLAND=7]="ONLY_SUPPORT_REGISTER_FROM_MAINLAND",n(36631),n(1227),n(82538);var x,S,E,b,_,y,w,I,T,k,M,j,R,A,N,L,F,O,P,D,B,H=n(96723);let V=["/v0/users/register","/v0/users/register_by_mobile","/v0/users/login_by_mobile_sms","/api/v0/users/create_sms_verification_code","/api/v0/users/create_email_verification_code"],U=e=>V.some(t=>e.includes(t)),W=e=>new H.OS({getChallengeApi:e.getChallengeApi,getTracker:e.getTracker,solveChallenge:e.solveChallenge}),G=(a=null,e=>(a||(a=W(e)),a)),z=e=>async t=>{let n=t.url;if(!n||!U(n))return;let{getHttpService:a,getTracker:r,showErrorToast:s,getChallengeUrl:o,solveChallenge:i,encoder:l}=e,d=G({getChallengeApi:async e=>{let{url:t}=e,n=a(),r=(await n.http({method:"POST",url:o,json:{target_path:t}})).json,s=r.data.biz_data;if("guest_challenge"in s)return Z(s.guest_challenge);throw Error("guest_challenge not found:\n"+JSON.stringify(r))},getTracker:r,solveChallenge:i});try{let{challengeResponse:e}=await d.getChallengeAndSolve({url:n});t.headers=t.headers||{};let[a,r]=(0,H.Wc)(e,l);t.headers[a]=r}catch(e){s(e,n)}},Z=e=>({...e,expireAt:e.expire_at,expireAfter:e.expire_after})},78549:function(e,t,n){let a,r,s,o;n.d(t,{aD:()=>se,FT:()=>U,RZ:()=>eN,UK:()=>eL,Ax:()=>eJ,lD:()=>so,wF:()=>a8,HL:()=>W,Ye:()=>tb,Mj:()=>rr,dZ:()=>tr,a2:()=>eK,v7:()=>aW,Dk:()=>eB,mf:()=>eF,uT:()=>q,RJ:()=>st,q_:()=>eC,yB:()=>rf,jX:()=>rs,yZ:()=>rn,MQ:()=>eY,XQ:()=>r6,af:()=>rC,vv:()=>eD.vv,y0:()=>eD.y0,f9:()=>aY,od:()=>az,uF:()=>tE,FW:()=>e3,J8:()=>ra,YE:()=>sr,hP:()=>ec,ty:()=>eV,p5:()=>aG,l3:()=>tx,nH:()=>rd,al:()=>ee,aK:()=>ej,uk:()=>rc,Hr:()=>eO,cm:()=>rt,Yu:()=>rl,Hi:()=>aq,Qs:()=>a3,ZQ:()=>eq,dV:()=>z,S2:()=>r9}),n(63393);var i,l,d,c,u,h,p,g,m,f,C,v,x,S,E,b,_,y,w,I,T,k,M,j,R,A,N,L,F,O,P,D,B,H,V,U,W,G,z,Z,q,K,Y=n(45768),X=n(56766);function $(e,t){let n={};for(let a of t)n[a]=e[a];return n}n(82538);var Q=n(383);let J=(e,t)=>(0,Q.Z)(t,0,e.length-1);function ee(e){let{tracker:t,useLocale:n,getLocale:r,http:s,logger:o,withToast:i,getIsDebug:l,setLastSessionValue:d,__DEV__:c,platform:u,base64Encode:h,getSSEAutoResumeConfig:p}=e;a={useLocale:n,getLocale:r,http:s,tracker:t,logger:o,withToast:i,getIsDebug:l,setLastSessionValue:d,__DEV__:c,platform:u,base64Encode:h,getSSEAutoResumeConfig:p}}function et(){if(!a)throw Error("Chat SDK is not setup");return a}(l=(i=U||(U={})).HintType||(i.HintType={})).error="error",l.warning="warning",(d=i.CloseClickBehavior||(i.CloseClickBehavior={})).retry="retry",d.none="none",(c=i.NewSSEEventName||(i.NewSSEEventName={})).ready="ready",c.delta="delta",c.toast="toast",c.title="title",c.finish="finish",c.close="close",c.hint="hint",c.updateSession="updateSession",(h=(u=W||(W={})).MessageRole||(u.MessageRole={})).ASSISTANT="ASSISTANT",h.USER="USER",(p=u.MessageStatus||(u.MessageStatus={})).OK="FINISHED",p.WIP="WIP",p.INCOMPLETE="INCOMPLETE",p.CONTENT_FILTER="CONTENT_FILTER",p.CONTEXT_LENGTH_EXCEEDED="CONTEXT_LENGTH_EXCEEDED",p.TIMEOUT="TIMEOUT",(g=u.GenerateState||(u.GenerateState={})).INITIALIZING="INITIALIZING",g.AWAITING_FIRST_CHANGE="AWAITING_FIRST_CHANGE",g.GENERATING="GENERATING",(m=u.ResendScene||(u.ResendScene={})).completion="completion",m.edit="edit",(f=u.MessageFeedback||(u.MessageFeedback={})).LIKE="LIKE",f.DISLIKE="DISLIKE",(C=u.SessionStateEnum||(u.SessionStateEnum={})).idleWithNoHistory="idleWithNoHistory",C.fetchingHistory="fetchingHistory",C.historyError="historyError",C.sending="sending",C.completing="completing",C.idle="idle",(v=u.AgentId||(u.AgentId={})).CHAT="chat",v.CODER="coder",v.CHAT_CACHE1="chat_cache1",v.CHAT_CACHE2="chat_cache2",n(36631);let en=e=>({id:e.id,seqId:e.seq_id,title:e.title,messageStore:{},aborts:[],prompt:"",rootBranchIndex:0,rootBranchIds:[],scrollToBottomTrigger:0,forceScrollToBottomTrigger:0,updatedAt:1e3*e.updated_at,agent:W.AgentId.CHAT,state:W.SessionStateEnum.idleWithNoHistory,routeId:null,titleType:e.title_type,isHidden:!1});n(16841);let ea=(r=0,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e+r++});(S=(x=G||(G={})).ToastType||(x.ToastType={})).ERROR="error",S.WARNING="warning",(b=(E=z||(z={})).MessageRole||(E.MessageRole={})).ASSISTANT="ASSISTANT",b.USER="USER",(_=E.MessageStatus||(E.MessageStatus={})).FINISHED="FINISHED",_.WIP="WIP",_.CONTENT_FILTER="CONTENT_FILTER",_.INCOMPLETE="INCOMPLETE",_.CONTEXT_LENGTH_EXCEEDED="CONTEXT_LENGTH_EXCEEDED",_.TIMEOUT="TIMEOUT",(y=E.MessageFeedbackType||(E.MessageFeedbackType={})).LIKE="GOOD",y.DISLIKE="BAD",(w=E.SearchMessageFragmentStatus||(E.SearchMessageFragmentStatus={})).WIP="WIP",w.FINISHED="FINISHED",w.FAILED="FAILED",(I=E.HistoryMessagesErrorCode||(E.HistoryMessagesErrorCode={}))[I.INVALID_SESSION_ID=1]="INVALID_SESSION_ID",(T=E.AgentId||(E.AgentId={})).CODER="coder",T.CHAT="chat",T.CHAT_CACHE1="chat_cache1",T.CHAT_CACHE2="chat_cache2",(k=E.DeleteSessionErrorCode||(E.DeleteSessionErrorCode={}))[k.OK=0]="OK",k[k.SESSION_NOT_FOUND=1]="SESSION_NOT_FOUND",(M=E.DeleteAllSessionsErrorCode||(E.DeleteAllSessionsErrorCode={}))[M.OK=0]="OK",(j=E.ExportChatHistoryStatus||(E.ExportChatHistoryStatus={})).Created="CREATED",j.Pending="PENDING",j.Finished="FINISHED",(R=E.ExportAllDataErrorCode||(E.ExportAllDataErrorCode={}))[R.RATE_LIMIT=1]="RATE_LIMIT",(A=E.CreateShareErrorCode||(E.CreateShareErrorCode={}))[A.OK=0]="OK",A[A.INVALID_CHAT_SESSION=1]="INVALID_CHAT_SESSION",A[A.FAILED_TO_GET_ACCOUNT_INFO=2]="FAILED_TO_GET_ACCOUNT_INFO",A[A.BANNED_USER_CANNOT_CREATE_SHARES=3]="BANNED_USER_CANNOT_CREATE_SHARES",A[A.USER_IS_MUTED=4]="USER_IS_MUTED",A[A.SOME_MESSAGES_CANNOT_BE_SHARED=5]="SOME_MESSAGES_CANNOT_BE_SHARED",A[A.MESSAGES_MUST_APPEAR_IN_PAIRS=6]="MESSAGES_MUST_APPEAR_IN_PAIRS",A[A.TOO_MANY_SHARES_FOR_THIS_SESSION=7]="TOO_MANY_SHARES_FOR_THIS_SESSION",A[A.FAILED_TO_GENERATE_UNIQUE_SHARE_ID=8]="FAILED_TO_GENERATE_UNIQUE_SHARE_ID",A[A.RATE_LIMIT_REACHED=9]="RATE_LIMIT_REACHED",A[A.DUPLICATE_REQUEST=10]="DUPLICATE_REQUEST",(N=E.DeleteShareErrorCode||(E.DeleteShareErrorCode={}))[N.OK=0]="OK",N[N.SHARE_NOT_FOUND=1]="SHARE_NOT_FOUND",N[N.MULTIPLE_SHARES_DELETED=2]="MULTIPLE_SHARES_DELETED",(L=E.GetShareContentErrorCode||(E.GetShareContentErrorCode={}))[L.OK=0]="OK",L[L.SHARE_DOES_NOT_EXIST=1]="SHARE_DOES_NOT_EXIST",L[L.SHARE_IS_DELETED_OR_BANNED=2]="SHARE_IS_DELETED_OR_BANNED",L[L.ORIGINAL_SESSION_DELETED=3]="ORIGINAL_SESSION_DELETED",(F=E.ForkShareErrorCode||(E.ForkShareErrorCode={}))[F.OK=0]="OK",F[F.SHARE_DOES_NOT_EXIST=1]="SHARE_DOES_NOT_EXIST",F[F.SHARE_IS_DELETED_OR_BANNED=2]="SHARE_IS_DELETED_OR_BANNED",F[F.ORIGINAL_SESSION_DELETED=3]="ORIGINAL_SESSION_DELETED",F[F.USER_IS_MUTED=4]="USER_IS_MUTED",(O=s=E.FileParseStatus||(E.FileParseStatus={})).PENDING="PENDING",O.PARSING="PARSING",O.SUCCESS="SUCCESS",O.FAILED="FAILED",O.CONTENT_FILTER="CONTENT_FILTER",O.CONTENT_TOO_LONG="CONTENT_TOO_LONG",O.CANCELLED="CANCELLED",O.CONTENT_EMPTY="CONTENT_EMPTY",O._CUSTOM_SYSTEM_ERROR_FAIL="_CUSTOM_SYSTEM_ERROR_FAIL",O._CUSTOM_FROM_SHARE="_CUSTOM_FROM_SHARE",E.fileParseStatusMeaning={[s.PENDING]:{hasError:!1,isFinished:!1},[s.PARSING]:{hasError:!1,isFinished:!1},[s.SUCCESS]:{hasError:!1,isFinished:!0},[s.FAILED]:{hasError:!0,isFinished:!0},[s.CONTENT_FILTER]:{hasError:!0,isFinished:!0},[s.CONTENT_TOO_LONG]:{hasError:!0,isFinished:!0},[s.CANCELLED]:{hasError:!0,isFinished:!0},[s.CONTENT_EMPTY]:{hasError:!0,isFinished:!0},[s._CUSTOM_SYSTEM_ERROR_FAIL]:{hasError:!0,isFinished:!0},[s._CUSTOM_FROM_SHARE]:{hasError:!1,isFinished:!1}},(P=E.COMPLETION_ERROR_CODE||(E.COMPLETION_ERROR_CODE={}))[P.INVALID_SESSION_ID=1]="INVALID_SESSION_ID",P[P.PARENT_ROLE_NOT_ASSISTANT=2]="PARENT_ROLE_NOT_ASSISTANT",P[P.MAX_MESSAGE_COUNT_REACHED=3]="MAX_MESSAGE_COUNT_REACHED",P[P.REGENERATE_TEMPLATE_RESPONSE=4]="REGENERATE_TEMPLATE_RESPONSE",P[P.MUTED=5]="MUTED",P[P.EMPTY_PROMPT=6]="EMPTY_PROMPT",P[P.RESUME_MESSAGE_NOT_FOUND=7]="RESUME_MESSAGE_NOT_FOUND",P[P.RESUME_TIME_TOO_LONG=8]="RESUME_TIME_TOO_LONG",P[P.INVALID_REF_FILE_ID=9]="INVALID_REF_FILE_ID",P[P.SESSION_FILE_LIMIT_EXCEEDED=10]="SESSION_FILE_LIMIT_EXCEEDED",P[P.LAST_MESSAGE_IS_WIP=11]="LAST_MESSAGE_IS_WIP",P[P.THINKING_CANNOT_BE_WITH_FILE=13]="THINKING_CANNOT_BE_WITH_FILE",P[P.THINKING_QUOTA_EXCEEDED=15]="THINKING_QUOTA_EXCEEDED",P[P.SEARCH_CANNOT_WITH_FILE=17]="SEARCH_CANNOT_WITH_FILE",P[P.CHARACTER_NOT_AVAILABLE=20]="CHARACTER_NOT_AVAILABLE",P[P.SEARCH_NOT_ALLOWED_WITH_CHARACTER=21]="SEARCH_NOT_ALLOWED_WITH_CHARACTER",P[P.RESUME_MESSAGE_GOT_FULL_MESSAGE_CODE=22]="RESUME_MESSAGE_GOT_FULL_MESSAGE_CODE";var er=n(56549);let es=()=>[{id:W.AgentId.CHAT,isSending:!1,prompt:""},{id:W.AgentId.CODER,isSending:!1,prompt:""},{id:W.AgentId.CHAT,isSending:!1,prompt:""},{id:W.AgentId.CHAT_CACHE1,isSending:!1,prompt:""},{id:W.AgentId.CHAT_CACHE2,isSending:!1,prompt:""}],eo=()=>es().map(e=>e.id),ei=e=>{let t=null==e?void 0:e.status;if(!t)return!1;let{isFinished:n}=z.fileParseStatusMeaning[t];return n},el=()=>({agentFileIdsMap:Object.fromEntries(eo().map(e=>[e,[]])),sessionFileIdsMap:{},localFileIds:[],fileInfoMap:{},localServerIdMap:{},abortControllerMap:{}}),ed=()=>ea("local_file_"),ec=(0,Y.Ue)()((0,er.mW)((0,X.n)((e,t)=>({...el(),addFile(t,n){let a=ed();return e(e=>{if(e.localFileIds.push(a),e.fileInfoMap[a]={localInfo:{id:a,fileName:t.name,fileSize:t.size,insertedAt:0,updatedAt:0,status:z.FileParseStatus.PENDING,tokenUsage:null,errorCode:null},uploadInfo:{percent:0,isUploading:!0,failed:!1,failedMsg:void 0},serverInfo:null},n.sessionId){let t=e.sessionFileIdsMap[n.sessionId]||[];e.sessionFileIdsMap[n.sessionId]=[...t,a]}else if(n.agentId){let t=e.agentFileIdsMap[n.agentId]||[];e.agentFileIdsMap[n.agentId]=[...t,a]}}),a},addUploadedFiles(t){t.length&&e(e=>{t.forEach(t=>{let n=ed();e.localFileIds.push(n);let a={id:t.id,status:z.FileParseStatus.SUCCESS,errorCode:null,fileName:t.fileName,fileSize:t.fileSize,tokenUsage:t.tokenUsage,insertedAt:t.insertedAt,updatedAt:t.updatedAt};e.localServerIdMap[n]=t.id,e.fileInfoMap[n]={uploadInfo:{isUploading:!1,percent:1,failed:!1,failedMsg:void 0},localInfo:a,serverInfo:a}})})},getFilesCount:e=>t().getFileInfoByBelongInfo(e).length,getIsAllFilesReady:e=>t().getFileInfoByBelongInfo(e).every(e=>{let{serverInfo:t}=e;return!!t&&ei(t)&&!eu(t.status)}),getUploadingFiles:e=>t().getFileInfoByBelongInfo(e).filter(e=>e.uploadInfo.isUploading).map(e=>e.localInfo),getFileInfoByBelongInfo(e){let{agentFileIdsMap:n,sessionFileIdsMap:a,fileInfoMap:r}=t(),{sessionId:s,agentId:o}=e;return s?(a[s]||[]).map(e=>r[e]).filter(Boolean):o?(n[o]||[]).map(e=>r[e]).filter(Boolean):[]},getFilesTokenCount:e=>t().getFileInfoByBelongInfo(e).reduce((e,t)=>{var n;return e+((null===(n=t.serverInfo)||void 0===n?void 0:n.tokenUsage)||0)},0),getContainFilesRequireDelete(e){let{getFileInfoByBelongInfo:n}=t();return n(e).some(e=>eh(e).isRequireDelete)},getFileUploadInfo:e=>{var n;let a=t().getLocalIdByServerId(e)||e;return null===(n=t().fileInfoMap[a])||void 0===n?void 0:n.uploadInfo},getLocalIdByServerId(e){for(let[n,a]of Object.entries(t().localServerIdMap))if(a===e)return n},getAllServerIds(e){let{getFileInfoByBelongInfo:n}=t();return n(e).map(e=>e.serverInfo).filter(e=>!!e).map(e=>e.id)},getIsRequireDelete(e){var n;let{fileInfoMap:a}=t(),r=a[null!==(n=t().getLocalIdByServerId(e))&&void 0!==n?n:e];return r?eh(r):{isRequireDelete:!1,isUploadFailed:!1}},updateFileUploadInfo(n,a){e(e=>{if(!t().localFileIds.includes(n))return;let r=e.fileInfoMap[n];e.fileInfoMap[n]={...r,uploadInfo:a}})},removeAgentFilesAfterCreateSession(t){e(e=>{e.agentFileIdsMap[t]=[]})},removeSessionFiles:t=>{e(e=>{e.sessionFileIdsMap[t]=[]})},updateFileInfo(n,a){e(e=>{if(!t().localFileIds.includes(n))return;e.localServerIdMap[n]=a.id;let r=e.fileInfoMap[n];if(!r)throw Error("fileInfo not found");r.serverInfo=a})},moveFilesBelongingSession(t,n){e(e=>{e.sessionFileIdsMap[n]=e.sessionFileIdsMap[t],e.sessionFileIdsMap[t]=[]})},getUnparsedFileServerIds(e){let{getFileInfoByBelongInfo:n}=t();return n(e).map(e=>e.serverInfo).filter(e=>!!e).filter(e=>!ei(e)).map(e=>e.id)},getFileInfo(e){var n;let{fileInfoMap:a,getLocalIdByServerId:r}=t(),s=a[null!==(n=r(e))&&void 0!==n?n:e];return(null==s?void 0:s.serverInfo)||(null==s?void 0:s.localInfo)},getFileInfoList(e){let{getFileInfo:n}=t();return e.map(e=>n(e))},removeFileAndAbortUpload(n){e(e=>{var a,r;let s=null!==(r=t().getLocalIdByServerId(n))&&void 0!==r?r:n;e.localFileIds=e.localFileIds.filter(e=>e!==s),ep(e,s),delete e.fileInfoMap[s],delete e.localServerIdMap[s],null===(a=e.abortControllerMap[s])||void 0===a||a.abort(),t().removeAbortController(s)})},setAbortController(t,n){e(e=>{e.abortControllerMap[t]=n})},removeAbortController(t){e(e=>{delete e.abortControllerMap[t]})},abortAllUpload(){let{abortControllerMap:e}=t();Object.values(e).forEach(e=>{e.abort()})},clearByBelongInfo(e){let{getFileInfoByBelongInfo:n}=t();n(e).map(e=>e.localInfo.id).forEach(e=>{t().removeFileAndAbortUpload(e)})},clear(){e(el())}})),{name:"deepChat.useUploadFileStore",enabled:!1})),eu=e=>{let{hasError:t}=z.fileParseStatusMeaning[e];return t},eh=e=>{let t=e.uploadInfo.failed;if(t)return{isRequireDelete:!0,isUploadFailed:t};let{serverInfo:n}=e;return n?{isRequireDelete:eu(n.status),isUploadFailed:t}:{isRequireDelete:!1,isUploadFailed:t}},ep=(e,t)=>{let{agentFileIdsMap:n,sessionFileIdsMap:a}=e;Object.entries(n).forEach(e=>{let[a,r]=e;(null==r?void 0:r.includes(t))&&(n[a]=r.filter(e=>e!==t))}),Object.entries(a).forEach(e=>{let[n,r]=e;(null==r?void 0:r.includes(t))&&(a[n]=r.filter(e=>e!==t))})},eg=()=>({agents:es(),sessionsState:"init",sessionStore:{},sessionIdList:[],isMuted:!1,muteUntil:0,earliestSessionSeqId:null,noMoreSessions:void 0,firstPageSettled:void 0});n(11651),n(59863),n(11854);let em=-2,ef=()=>em--,eC=e=>null!==e&&e<=-2;var ev=n(15807);let ex=(e,t)=>e.sessionStore[t]||null,eS=(e,t,n)=>{var a;return(null===(a=((e,t)=>{let n=ex(e,t);return n?n.messageStore:null})(e,t))||void 0===a?void 0:a[n])||null},eE=(e,t,n)=>{let a=eS(e,t,n);return a&&null!==a.parentId?eS(e,t,a.parentId):null},eb=e=>{let t=e.findIndex(e=>!eC(e));return[e.slice(0,t),e.slice(t)]},e_={getSessionImpl:ex,getMessageImpl:eS,getParentMessageImpl:eE,getMessagePath:(e,t)=>{let n=e.sessionStore[t];if(!n)return[];let a=[],r=n.rootBranchIds[n.rootBranchIndex];for((0,ev.Z)(r)||a.push(r);!(0,ev.Z)(r);){let n=eS(e,t,r);if(!n)break;let[s]=eb(n.childIds);a.push(...s);let o=n.childIds[n.currentChildIndex];if((0,ev.Z)(o))break;s.includes(o)||a.push(o),r=o}return a},getMessageBranchCount:(e,t,n)=>{let a=e.getParentMessage(t,n);if(a){let[e,t]=eb(a.childIds);return e.includes(n)?1:t.length}let r=e.getSession(t);return r?r.rootBranchIds.length:1},getMessageBranchIndex:(e,t,n)=>{let a=e.getParentMessage(t,n);if(!a){let n=e.getSession(t);return n?n.rootBranchIndex:0}let[r,s]=eb(a.childIds);return r.includes(n)?0:s.indexOf(n)},getLatestSentMessageId:(e,t)=>{var n;return null!==(n=e_.getMessagePath(e,t).findLast(e=>!eC(e)))&&void 0!==n?n:null},getLatestMessageId:(e,t)=>{var n;return null!==(n=e_.getMessagePath(e,t).at(-1))&&void 0!==n?n:null},getIsLastShowingUserMessage:(e,t,n)=>{let a=n=>{var a;let r=null!==(a=n.childIds[n.currentChildIndex])&&void 0!==a?a:-1;return e.getMessage(t,r)},r=e.getMessage(t,n);if(!r||r.role!==W.MessageRole.USER)return!1;if(!eC(n)){let e=a(r);return!e||!a(e)}let s=eE(e,t,n);if(!s)return!0;let[,o]=eb(s.childIds);return o.includes(n)},getMatchingMessageImpl:(e,t,n)=>{let a=eS(e,t,n);return a?a.role===W.MessageRole.USER?eS(e,t,a.childIds[a.currentChildIndex]):a.parentId?eS(e,t,a.parentId):null:null},getBranchRestoreScrollPosKey:(e,t,n)=>{let a=e.getParentMessage(t,n),r=e=>"BranchPos_S".concat(t,"_P").concat(e);if(a)return r(a.id);let s=e.getSession(t);return r(s?s.rootBranchIds.length:Math.random())}};function ey(){try{return!1}catch{return!1}}let{getParentMessageImpl:ew,getSessionImpl:eI,getMessageImpl:eT,getMatchingMessageImpl:ek}=e_,eM=(()=>{try{var e;return parseInt(null!==(e=localStorage.getItem("__session_page_size__"))&&void 0!==e?e:"")||null}catch{return null}})(),ej=(0,Y.Ue)()((0,er.mW)((0,X.n)((e,t)=>({...eg(),reset(){e(eg())},getAgent:e=>eR(t(),e),setSessionsState(t){e(e=>{e.sessionsState=t})},updateAgent(t,n){e(e=>{let a=eR(e,t);if(a)n(a);else{let a={id:t,isSending:!1,prompt:""};e.agents.push(a),n(a)}})},clearPrompt(t){let{sessionId:n}=t;e(e=>{let t=eI(e,n);t&&(t.prompt="")})},async fetchSessions(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eM,a=arguments.length>1?arguments[1]:void 0,{tracker:r}=et(),s={beforeSeqId:a=a||t().earliestSessionSeqId,count:n};r.info({name:"fetchSessionsApi",message:"开始请求fetch_page接口",payload:s}),e(e=>{e.sessionsState="loading"});try{let{data:{sessions:t,hasMore:n},context:a}=await function(e){let{beforeSeqId:t,count:n}=e;return et().http.http.get("/api/v0/chat_session/fetch_page",{query:{before_seq_id:t,count:n}}).then(e=>{let{context:t,json:n}=e;return{data:{hasMore:n.data.biz_data.has_more,sessions:n.data.biz_data.chat_sessions.map(e=>({...en(e)})),characters:[]},context:t}})}(s);r.info({name:"fetchSessionsApiOk",message:"请求fetch_page接口成功",payload:{...s,logId:a.logId}}),e(e=>{e.sessionsState="loaded",e.noMoreSessions=!1===n,t.forEach(t=>{var n;e.earliestSessionSeqId=Math.min(t.seqId,null!==(n=e.earliestSessionSeqId)&&void 0!==n?n:1/0);let a=eI(e,t.id);a?Object.assign(a,$(t,["seqId","title","updatedAt"])):(e.sessionIdList.push(t.id),e.sessionStore[t.id]={...t,agentId:"chat"})})})}catch(t){r.error({name:"fetchSessionsApiFailed",message:"请求fetch_page接口失败",payload:r.withError(t,{reason:"api"})}),e(e=>{"loading"===e.sessionsState&&(e.sessionsState="error")})}finally{e(e=>{e.firstPageSettled=!0})}},getSession:e=>eI(t(),e),updateSession(t,n){e(e=>{!function(e,t,n){let a=e_.getSessionImpl(e,t);a&&n(a)}(e,t,n)})},addSession(t){e(e=>{e.sessionIdList.includes(t.id)||e.sessionIdList.push(t.id),e.sessionStore[t.id]=t})},deleteSession(t){e(e=>{e.sessionIdList=e.sessionIdList.filter(e=>e!==t),delete e.sessionStore[t]})},clearSessions(){e(e=>{e.sessionIdList=[],e.sessionStore={},e.sessionsState="loaded"})},getSessionMessages(e){let n=t().getSession(e);return n?n.messageStore:null},addMessage(e,n){t().updateSession(e,e=>{e&&(e.messageStore[n.id]=n)})},getMessage:(e,n)=>eT(t(),e,n),getMatchingMessage:(e,n)=>ek(t(),e,n),getParentMessage:(e,n)=>ew(t(),e,n),updateMessage(t,n,a){e(e=>{let r=eI(e,t);if(!r)return;let s=r.messageStore[n];s&&a(s)})},deleteMessage(t,n){e(e=>{let a=eI(e,t);if(!a)return;let r=ew(e,t,n);r&&(r.childIds=r.childIds.filter(e=>e!==n),r.currentChildIndex=J(r.childIds,r.currentChildIndex)),a.rootBranchIds=a.rootBranchIds.filter(e=>e!==n);let s=a.rootBranchIndex;a.rootBranchIds[s]===n&&(a.rootBranchIndex=s%(a.rootBranchIds.length-1)),delete a.messageStore[n]})},replaceChildId(t,n,a){let{from:r,to:s}=a;e(e=>{let a=eT(e,t,n);if(!a)return;if(!a.childIds.length){a.childIds=[s];return}let o=a.childIds.indexOf(r);o>-1?a.childIds.splice(o,1,s):a.childIds.push(s)})},replaceRootBranchId:(t,n)=>{let{from:a,to:r}=n;e(e=>{let n=eI(e,t);if(!n)return;let s=n.rootBranchIds.indexOf(a);s>-1&&n.rootBranchIds.splice(s,1,r)})},navigateMessageBranch(e,n,a){let r=t().getMessage(e,n),s=t().getSession(e);if(r&&s){if(null===r.parentId){let n=J(s.rootBranchIds,s.rootBranchIndex+a);t().updateSession(e,e=>{e.rootBranchIndex=n})}else{let n=t().getMessage(e,r.parentId);if(!n)return;t().updateMessage(e,n.id,e=>{e.currentChildIndex=J(e.childIds,e.currentChildIndex+a)})}}},transferSessionAbortStatus:(e,n)=>{let{clearAborts:a,toIdle:r}=n;t().updateSession(e,e=>{a&&(e.aborts=[]),r&&(e.state=W.SessionStateEnum.idle)})},onUnauthenticated(){t().reset()},setMuted(t){let{isMuted:n,muteUntil:a}=t;e(e=>{e.isMuted=n,a&&(e.muteUntil=a)}),et().setLastSessionValue(e=>(e.userIsMuted=n,a&&(e.userMuteUntil=a),{...e}))}})),{name:"deepChat.useChatStore",enabled:ey()})),eR=(e,t)=>e.agents.find(e=>e.id===t)||null,eA=e=>{ec.getState().clearByBelongInfo({agentId:null,sessionId:e})};function eN(){let{http:e}=et();return e.http.get("/api/v0/download_export_history").then(e=>{let{context:t,json:n}=e;return{data:n.data.biz_code===Z.NO_TASK||n.data.biz_code===Z.EXPIRED?{status:"EMPTY"}:{status:"INIT"===n.data.biz_data.status?"PENDING":n.data.biz_data.status,historyDownloadUrl:n.data.biz_data.history_download_url,legacyHistoryDownloadUrl:n.data.biz_data.legacy_history_download_url,exportAt:n.data.biz_data.exported_at,expireAt:n.data.biz_data.expires_at},context:t}})}function eL(){let{http:e}=et();return e.http.get("/api/v0/export_all").then(e=>{let{context:t,json:n}=e;if(0!==n.code)throw n;return{data:{code:n.data.biz_code},context:t}})}function eF(){return et().http.http.post("/api/v0/chat_session/delete_all").then(e=>{let{context:t,json:n}=e;return{data:{code:n.data.biz_code},context:t}})}(D=Z||(Z={}))[D.NO_TASK=1]="NO_TASK",D[D.EXPIRED=2]="EXPIRED";let eO=async e=>{let{targetPath:t}=e,{biz_data:n,biz_code:a,biz_msg:r}=(await et().http.http.post("/api/v0/chat/create_pow_challenge",{json:{target_path:t}})).json.data;if(0!==a)throw Error("Failed to create pow challenge: targetPath=".concat(t,", biz_code=").concat(a,", biz_msg=").concat(r));let s=n.challenge;return{...s,expireAt:s.expire_at,expireAfter:s.expire_after}};n(16798);var eP=n(96723),eD=n(42154);let eB=(e,t)=>{var n,a;let r=e.split(".");return r.length<=1?"":"lower"===t?(null===(a=r.pop())||void 0===a?void 0:a.toLocaleLowerCase())||"":(null===(n=r.pop())||void 0===n?void 0:n.toLocaleUpperCase())||""},eH=()=>{let e=new Date,t=e.getDate();return e.setDate(t+7),e.valueOf()},eV="/api/v0/chat/completion",eU=e=>{switch(e.scene){case"completion":case"firstCompletion":return{type:"completion",request:e};case"regenerate":return{type:"regenerate",request:e};case"continue":return{type:"continue",request:e};case"resumeStream":return{type:"resumeStream",request:e};case"editMessage":return{type:"editMessage",request:e};default:return(0,eD.y0)(e)}},eW=(e,t)=>{e.info({name:"chatCompletionApi",message:"chatCompletionApi 被调用",payload:{scene:t.type,chatSessionId:t.request.chatSessionId,withFile:"".concat("completion"===t.type&&t.request.refFileIds.length>0),thinkingEnabled:"thinkingEnabled"in t.request&&t.request.thinkingEnabled?"true":"false",messageId:"messageId"in t.request?String(t.request.messageId):"",challengeResponse:"challengeResponse"in t.request&&t.request.challengeResponse?"true":"false",searchEnabled:"searchEnabled"in t.request&&t.request.searchEnabled?"true":"false"}})},eG=e=>{let t=e.type;switch(t){case"completion":return eV;case"regenerate":return"/api/v0/chat/regenerate";case"continue":return"/api/v0/chat/continue";case"editMessage":return"/api/v0/chat/edit_message";case"resumeStream":return"/api/v0/chat/resume_stream";default:return(0,eD.y0)(t)}},ez=e=>"completion"===e.type?{chat_session_id:e.request.chatSessionId,parent_message_id:e.request.parentMessageId,prompt:e.request.prompt,ref_file_ids:e.request.refFileIds,thinking_enabled:e.request.thinkingEnabled,search_enabled:e.request.searchEnabled,client_stream_id:e.request.clientStreamId}:"regenerate"===e.type?{chat_session_id:e.request.chatSessionId,child_message_id:e.request.childMessageId,search_enabled:e.request.searchEnabled,thinking_enabled:e.request.thinkingEnabled}:"continue"===e.type?{chat_session_id:e.request.chatSessionId,message_id:e.request.messageId,fallback_to_resume:e.request.fallbackToResume}:"editMessage"===e.type?{chat_session_id:e.request.chatSessionId,message_id:e.request.messageId,prompt:e.request.prompt,search_enabled:e.request.searchEnabled,thinking_enabled:e.request.thinkingEnabled,client_stream_id:e.request.clientStreamId}:{chat_session_id:e.request.chatSessionId,message_id:e.request.messageId},eZ=e=>{if("challengeResponse"in e.request&&e.request.challengeResponse){let t=et().base64Encode,[n,a]=(0,eP.g6)(e.request.challengeResponse,eV,t);return{[n]:a}}return{}},eq="/api/v0/file/upload_file";async function eK(e,t){let{file:n,headers:a}=e,{onUploadProgress:r,abortSignal:s}=t,o=new FormData;return o.append("file",n),(await et().http.http.post(eq,{body:o,onUploadProgress:r,signal:s,headers:a})).json}let eY=async e=>{let{http:t,tracker:n}=et();try{await t.http.post("/api/v0/client/span",{json:e})}catch(t){n.error({name:"clientSpanApiError",message:"用户行为上报失败",payload:n.withError(t,e)})}};var eX=n(15629),e$=n(3697),eQ=n(34552);function eJ(){let e=ej((0,eQ.N)(e=>e.sessionIdList.map(t=>e.getSession(t)).filter(e=>!!e).filter(e=>!e.isHidden).sort((e,t)=>t.updatedAt-e.updatedAt)));return(0,eX.useMemo)(()=>{let t=[],n=[],a=[],r=[],s=[],o=e$();return e.forEach(e=>{let i=e$(e.updatedAt).startOf("date"),l=o.diff(i,"day"),d=e.id;if(l<=0)t.push(d);else if(l<=1)n.push(d);else if(l<7)a.push(d);else if(l<30)r.push(d);else{let e=i.format("YYYY-MM"),t=s.find(t=>t.month===e);t?t.sessions.push(d):s.push({month:e,sessions:[d]})}}),{todaySessions:t,days7Sessions:a,days30Sessions:r,yesterdaySessions:n,previousSessions:s,isEmpty:0===e.length}},[e])}(B=q||(q={})).idle="idle",B.verifying="verifying",B.receiving="receiving";let e1=e=>ej(t=>{if(!e)return q.idle;let n=t.getSession(e);if(!n)return q.idle;let a=n.state;return a===W.SessionStateEnum.sending?q.verifying:a===W.SessionStateEnum.completing?q.receiving:q.idle}),e0=e=>ej(t=>{if(!e)return!1;let n=t.getAgent(e);return!!n&&n.isSending}),e2=e=>{let{isAgentOrSession:t,sessionId:n,agentId:a}=e,r=e0(a),s=e1(n);return t&&r?q.verifying:s},e3={useChatStatus:e2,useSessionChatStatus:e=>e2({isAgentOrSession:!0,sessionId:e,agentId:void 0}),useMessagePath:e=>ej((0,eQ.N)(t=>e?e_.getMessagePath(t,e):[])),useScrollToBottomCounter:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ej(n=>{var a;if(!e)return 0;let r=n.getSession(e);return null!==(a=t?null==r?void 0:r.forceScrollToBottomTrigger:null==r?void 0:r.scrollToBottomTrigger)&&void 0!==a?a:0})}};var e6=n(16446);let e4={zh_CN:{__placeholder:e=>"",characterNotAvailable:"该角色已不可用",completionGenerationTimeout:"当前聊天的人有点多，请稍后再提问吧。",completionInvalidParamsToast:"异常请求（1）",completionLastMessageIsWIP:"正在生成中，请稍后再试",completionNetworkErrorToast:"消息未能发送，请检查网络",completionPromptEmptyToast:"发送的信息为空",completionPromptInvalidToast:"你输入的消息包含错误的 Unicode 字符，请调整后重试",completionPromptTooLongToast:"你输入的信息过长，请调整后重试",completionRateLimitReachedToast:"你发送消息的频率过快，请稍后再发",completionRegenerateOnBadMessageToast:"无法重新生成此消息",completionServerBusyToast:"服务器繁忙，请稍后再试",completionServerErrorToast:"服务器暂时不可用",completionWipNetworkErrorToast:"网络异常，请稍后重试",createSessionFailedToast:"创建会话失败",deepSearchSearching:"正在搜索",fileContentCannotBeEmpty:"文件大小不能为空",fileCountLimitExceededToast:"上传文件数达到上限，每个对话可上传 50 个文件",fileExceedSizeLimit:"文件超出大小限制",fileNameCannotBeEmpty:"文件名不能为空",filenameTooLong:"文件名过长",hintFallback:"消息未能发送",hintInvalidParams:"消息未能发送，异常请求",hintLastMessageIsWIP:"有消息正在生成，请刷新页面查看",hintMaxMessageCount:"消息数量达到上限，请开启新对话",hintMessageSearchWithFileError:"上传文件时不支持联网搜索",hintNetworkError:"请检查网络后重试",invalidFileRefToast:"无效的文件引用，请检查你上传的文件并重试",invalidRequest:"异常请求",messageSearching:"搜索中...",messageSearchingWithQuery:"搜索",messageSearchNoResult:"未搜索到相关内容",messageSearchResult:"已阅读 1 个网页",messageSearchResults:e=>{let{n:t}=e;return"已阅读 ".concat(t," 个网页")},messageSearchSummaries:e=>{let{n:t}=e;return"".concat(t," 个网页")},messageSearchSummary:"1 个网页",messageThinkDuration:e=>{let{n:t}=e;return"已深度思考（用时 ".concat(t," 秒）")},messageThinking:"正在思考",messageThinkStopped:"已停止",protocolViolationToast:"当前网络环境无法连接服务，请尝试切换网络或联系网络管理员",renameFailed:"重命名失败",requestConcurrencyTooHigh:"并发请求过多",requestFrequencyTooHigh:"请求频率过高",resumeMessageNotFoundToast:"异常请求（2）",resumeMessageTimeTooLongToast:"异常请求（3）",riskTipFinance:"本回答可能包含金融投资建议。内容由 AI 生成，仅供参考，建议咨询专业金融顾问。",riskTipGeneral:"本回答由 AI 生成，内容仅供参考，请仔细甄别。",riskTipLegal:"本回答可能包含法律建议。内容由 AI 生成，仅供参考，建议咨询专业律师。",riskTipMedical:"本回答可能包含医疗建议。内容由 AI 生成，仅供参考，如有需求请及时就医。",riskTipProfanity:"本回答可能包含不文明用语，内容由 AI 生成，不代表任何真实意见或立场。",searchStopped:"搜索已停止",serverBusy:"服务器繁忙",sessionDeleted:"该对话已被删除",sessionNotExist:"该对话不存在",systemServiceException:"系统服务异常",thinkingQuotaUsedUpToast:e=>{let{total:t}=e;return"今日使用次数已达上限，北京时间 24:00 刷新（".concat(t,"次/天）")},unsupportedFileFormat:"该格式暂不支持"},en_US:{__placeholder:e=>"",characterNotAvailable:"The agent is not available.",completionGenerationTimeout:"DeepSeek is currently busy. Please check back later.",completionInvalidParamsToast:"Unexpected request (1)",completionLastMessageIsWIP:"Generating, please try again later.",completionNetworkErrorToast:"Check your internet connection and try again.",completionPromptEmptyToast:"The prompt sent is empty.",completionPromptInvalidToast:"The message you sent contains invalid Unicode character. Please modify it and resend.",completionPromptTooLongToast:"The message you sent is too long. Please modify it and resend.",completionRateLimitReachedToast:"You are sending messages too frequently. Please wait a moment before sending again.",completionRegenerateOnBadMessageToast:"Can't regenerate the message.",completionServerBusyToast:"Server busy, please try again later.",completionServerErrorToast:"Server is temporarily unavailable.",completionWipNetworkErrorToast:"Network error, please try again later.",createSessionFailedToast:"Failed to create session.",deepSearchSearching:"Searching the web",fileContentCannotBeEmpty:"File size cannot be empty",fileCountLimitExceededToast:"File limit reached. 50 files max per session.",fileExceedSizeLimit:"File exceeds size limit",fileNameCannotBeEmpty:"File name cannot be empty",filenameTooLong:"File name too long",hintFallback:"Send failed.",hintInvalidParams:"Send failed. Invalid request.",hintLastMessageIsWIP:"A message is being generated, refresh to view.",hintMaxMessageCount:"Message limit reached. Please start a new chat.",hintMessageSearchWithFileError:"Web search unavailable with file uploads.",hintNetworkError:"Check network and retry.",invalidFileRefToast:"Invalid file reference. Check uploads and retry.",invalidRequest:"Invalid request.",messageSearching:"Searching...",messageSearchingWithQuery:"Searching for",messageSearchNoResult:"No relevant results found",messageSearchResult:"Read 1 web page",messageSearchResults:e=>{let{n:t}=e;return"Read ".concat(t," web pages")},messageSearchSummaries:e=>{let{n:t}=e;return"".concat(t," web pages")},messageSearchSummary:"1 web page",messageThinkDuration:e=>{let{n:t}=e;return"Thought for ".concat(t," seconds")},messageThinking:"Thinking",messageThinkStopped:"Stopped",protocolViolationToast:"Network access restricted. Try switching networks or contact your IT admin.",renameFailed:"Rename failed",requestConcurrencyTooHigh:"Too many concurrent requests",requestFrequencyTooHigh:"RPD rate limit reached",resumeMessageNotFoundToast:"Unexpected request (2)",resumeMessageTimeTooLongToast:"Unexpected request (3)",riskTipFinance:"This response may contain financial investment advice. AI-generated content, for reference only. Please consult a professional financial advisor.",riskTipGeneral:"This response is AI-generated, for reference only.",riskTipLegal:"This response may contain legal advice. AI-generated content, for reference only. Please consult a professional lawyer.",riskTipMedical:"This response may contain medical advice. AI-generated content, for reference only. Please seek medical attention if necessary.",riskTipProfanity:"This response may contain inappropriate language. AI-generated content, not reflective of any real opinions or positions.",searchStopped:"Search stopped",serverBusy:"Server busy",sessionDeleted:"This chat has been deleted.",sessionNotExist:"Chat not found.",systemServiceException:"System temporarily unavailable",thinkingQuotaUsedUpToast:e=>{let{total:t}=e;return"You're out of Deep Thinking messages until 12:00 AM Beijing Time (".concat(t," messages per day).")},unsupportedFileFormat:"Unsupported file format"}},e5={};function e9(e){return t=>e4[e][t]}let e7=["epub","mobi","azw3","pdf","png","jpg","jpeg","svg","svgz","bmp","gif","webp","ico","xbm","dib","pjp","tif","pjpeg","avif","apng","tiff","jfif","txt","md","csv","tsv","html","json","log","dot","go","h","c","cpp","cxx","cc","cs","java","js","css","jsp","php","py","py3","asp","yaml","yml","ini","conf","ts","tsx","doc","docx","ppt","pptx","xls","xlsx","abap","asc","ash","ampl","mod","g4","apib","apl","dyalog","asax","ascx","ashx","asmx","aspx","axd","dats","hats","sats","as","adb","ada","ads","agda","als","apacheconf","vhost","cls","applescript","scpt","arc","ino","asciidoc","adoc","aj","asm","a51","inc","nasm","aug","ahk","ahkl","au3","awk","auk","gawk","mawk","nawk","bat","cmd","befunge","bison","bb","decls","bmx","bsv","boo","b","bf","brs","bro","cats","idc","w","cake","cshtml","csx","c++","cp","h++","hh","hpp","hxx","inl","ipp","tcc","tpp","c-objdump","chs","clp","cmake","in","cob","cbl","ccp","cobol","cpy","capnp","mss","ceylon","chpl","ch","ck","cirru","clw","icl","dcl","click","clj","boot","cl2","cljc","cljs","hl","cljscm","cljx","hic","coffee","_coffee","cjsx","cson","iced","cfm","cfml","cfc","lisp","asd","cl","l","lsp","ny","podsl","sexp","cps","coq","v","cppobjdump","c++-objdump","c++objdump","cpp-objdump","cxx-objdump","creole","cr","feature","cu","cuh","cy","pyx","pxd","pxi","d","di","d-objdump","com","dm","zone","arpa","darcspatch","dpatch","dart","diff","patch","dockerfile","djs","dylan","dyl","intr","lid","E","ecl","eclxml","sch","brd","epj","e","ex","exs","elm","el","emacs","desktop","em","emberscript","erl","es","escript","hrl","xrl","yrl","fs","fsi","fsx","fx","flux","f90","f","f03","f08","f77","f95","for","fpp","factor","fy","fancypack","fan","fth","4th","forth","fr","frt","ftl","g","gco","gcode","gms","gap","gd","gi","tst","s","ms","glsl","fp","frag","frg","fsh","fshader","geo","geom","glslv","gshader","shader","vert","vrx","vsh","vshader","gml","kid","ebuild","eclass","po","pot","glf","gp","gnu","gnuplot","plot","plt","golo","gs","gst","gsx","vark","grace","gradle","gf","graphql","gv","man","1in","1m","1x","3in","3m","3qt","3x","me","n","rno","roff","groovy","grt","gtpl","gvy","gsp","hcl","tf","hlsl","fxh","hlsli","htm","st","xht","xhtml","mustache","jinja","eex","erb","deface","phtml","http","haml","handlebars","hbs","hb","hs","hsc","hx","hxsl","hy","pro","dlm","ipf","cfg","prefs","properties","irclog","weechatlog","idr","lidr","ni","i7x","iss","io","ik","thy","ijs","flex","jflex","geojson","lock","topojson","json5","jsonld","jq","jsx","jade","j","_js","bones","es6","jake","jsb","jscad","jsfl","jsm","jss","njs","pac","sjs","ssjs","sublime-build","sublime-commands","sublime-completions","sublime-keymap","sublime-macro","sublime-menu","sublime-mousemap","sublime-project","sublime-settings","sublime-theme","sublime-workspace","sublime_metrics","sublime_session","xsjs","xsjslib","jl","ipynb","krl","kicad_pcb","kit","kt","ktm","kts","lfe","ll","lol","lsl","lslp","lvproj","lasso","las","lasso8","lasso9","ldml","latte","lean","hlean","less","lex","ly","ily","m","ld","lds","liquid","lagda","litcoffee","lhs","ls","_ls","xm","x","xi","lgt","logtalk","lookml","lua","fcgi","nse","pd_lua","rbxs","wlua","mumps","m4","mcr","mtml","muf","mak","mk","mkfile","mako","mao","markdown","mkd","mkdn","mkdown","ron","mask","mathematica","cdf","ma","map","mt","nb","nbp","wl","wlt","matlab","maxpat","maxhelp","maxproj","mxt","pat","mediawiki","wiki","moo","metal","minid","druby","duby","mir","mirah","mo","mms","mmk","monkey","moon","myt","ncl","nl","nsi","nsh","axs","axi","nlogo","nginxconf","nim","nimrod","ninja","nit","nix","nu","numpy","numpyw","numsc","ml","eliom","eliomi","ml4","mli","mll","mly","objdump","mm","sj","omgrofl","opa","opal","opencl","p","scad","org","ox","oxh","oxo","oxygene","oz","pwn","aw","ctp","php3","php4","php5","php6","php7","php8","phps","phpt","pls","pck","pkb","pks","plb","plsql","sql","pov","pan","psc","parrot","pasm","pir","pas","dfm","dpr","lpr","pp","pl","al","cgi","perl","ph","plx","pm","pod","psgi","t","6pl","6pm","nqp","p6","p6l","p6m","pl6","pm6","pkl","pig","pike","pmod","pogo","pony","ps","eps","ps1","psd1","psm1","pde","prolog","yap","spin","proto","pub","pd","pb","pbi","purs","bzl","gyp","lmi","pyde","pyi","pyp","pyt","pyw","rpy","tac","wsgi","xpy","pytb","qml","qbs","pri","r","rd","rsx","raml","rdoc","rbbas","rbfrm","rbmnu","rbres","rbtbar","rbuistate","rhtml","rmd","rkt","rktd","rktl","scrbl","rl","raw","reb","r2","r3","rebol","red","reds","cw","rs","rsh","robot","rg","rb","builder","gemspec","god","irbrc","jbuilder","mspec","pluginspec","podspec","rabl","rake","rbuild","rbw","rbx","ru","ruby","thor","watchr","sas","scss","smt2","smt","sparql","rq","sqf","hqf","cql","ddl","prc","tab","udf","viw","db2","ston","sage","sagews","sls","sass","scala","sbt","sc","scaml","scm","sld","sps","ss","sci","sce","self","sh","bash","bats","command","ksh","tmux","tool","zsh","sh-session","shen","sl","slim","smali","tpl","sp","sma","nut","stan","ML","fun","sig","sml","do","ado","doh","ihlp","mata","matah","sthlp","styl","scd","swift","sv","svh","vh","toml","txl","tcl","adp","tm","tcsh","csh","tex","aux","bbx","bib","cbx","dtx","ins","lbx","ltx","mkii","mkiv","mkvi","sty","toc","tea","no","textile","thrift","tu","ttl","twig","upc","anim","asset","mat","meta","prefab","unity","uno","uc","ur","urs","vcl","vhdl","vhd","vhf","vhi","vho","vhs","vht","vhw","vala","vapi","veo","vim","vb","bas","frm","frx","vba","vbhtml","vbs","volt","vue","owl","webidl","x10","xc","xml","ant","axml","ccxml","clixml","cproject","csl","csproj","ct","dita","ditamap","ditaval","config","dotsettings","filters","fsproj","fxml","glade","grxml","iml","ivy","jelly","jsproj","kml","launch","mdpolicy","mxml","nproj","nuspec","odd","osm","plist","props","ps1xml","psc1","pt","rdf","rss","scxml","srdf","storyboard","stTheme","sublime-snippet","targets","tmCommand","tml","tmLanguage","tmPreferences","tmSnippet","tmTheme","ui","urdf","ux","vbproj","vcxproj","vssettings","vxml","wsdl","wsf","wxi","wxl","wxs","x3d","xacro","xaml","xib","xlf","xliff","xmi","dist","xproj","xsd","xul","zcml","xsp-config","metadata","xpl","xproc","xquery","xq","xql","xqm","xqy","xs","xslt","xsl","xojo_code","xojo_menu","xojo_report","xojo_script","xojo_toolbar","xojo_window","xtend","reek","rviz","sublime-syntax","syntax","yaml-tmlanguage","yang","y","yacc","yy","zep","zimpl","zmpl","zpl","ec","eh","edn","fish","mu","nc","ooc","rst","rest","wisp","prg","prw","gitignore","gitkeep","gitmodules","example","avifs","blp","bufr","bw","cur","dcx","dds","emf","fit","fits","flc","fli","ftc","ftu","gbr","grib","h5","hdf","hif","icb","icns","iim","im","j2c","j2k","jp2","jpc","jpe","jpf","jpx","mpeg","mpg","msp","pbm","pcd","pcx","pfm","pgm","pnm","ppm","psd","pxr","qoi","ras","rgb","rgba","sgi","tga","vda","vst","wmf","xpm"];var e8=n(19409);let te=new class{increase(){this.count++}decrease(){if(this.count--,this.count<this.maxConcurrent){let e=this.queue.shift();e&&this.callByQueue(e)}}callByQueue(e){this.count<this.maxConcurrent?(this.increase(),e().then(()=>this.decrease(),()=>this.decrease())):this.queue.push(e)}limitConcurrent(e){var t=this;return function(){for(var n=arguments.length,a=Array(n),r=0;r<n;r++)a[r]=arguments[r];return new Promise((n,r)=>t.callByQueue(()=>e(...a).then(n).catch(r)))}}constructor(e){(0,e6._)(this,"maxConcurrent",void 0),(0,e6._)(this,"count",0),(0,e6._)(this,"queue",[]),this.maxConcurrent=e}}(3),tt=te.limitConcurrent.bind(te);n(82833),n(50868),n(31881),n(13464),n(64386),n(47120),n(14861),n(7195);let tn=(e,t)=>{let{interval:n,name:a}=t,r=new Set,s=null,o=0,i=t=>{e().then(e=>{o===t&&r.forEach(t=>{try{t(e)}catch(t){let e=et().tracker;e.error({name:"pollingListenerError",message:"轮询监听回调执行错误",payload:e.withError(t,{})})}})}).catch(e=>{let t=et().tracker;t.error({name:"pollingFailed",message:"轮询失败，预期外的错误",payload:t.withError(e,{name:a})})}).finally(()=>{o===t&&(s=setTimeout(()=>i(t),n))})},l=()=>{s&&(clearTimeout(s),s=null),o++};return{startPolling:()=>{l(),i(++o)},subscribe:e=>(r.add(e),{unsubscribe:()=>{r.delete(e)}}),stopPolling:l}},ta=e=>({id:e.id,fileName:e.file_name,status:e.status,fileSize:e.file_size,insertedAt:e.inserted_at,updatedAt:e.updated_at,tokenUsage:e.token_usage,errorCode:e.error_code});class tr{get nonreactiveStore(){return ec.getState()}checkFilesCountOrSize(e,t){if(this.nonreactiveStore.getFilesCount(t)+e.length>50)return{validFiles:[],problem:"exceedCount"};let n=e.filter(e=>e.size>0x6400000),a=e.filter(e=>e.size<=0x6400000);return n.length>0?{validFiles:a,problem:"exceedSize"}:{validFiles:e,problem:null}}async addFileAndUpload(e){let{file:t,fileBelongInfo:n,thinkingEnabled:a}=e,{tracker:r}=et(),s=this.nonreactiveStore.addFile(t,n);r.info({name:"uploadFile",message:"选取并开始上传文件",payload:{fileName:t.name}}),this.nonreactiveStore.updateFileUploadInfo(s,{percent:0,isUploading:!0,failed:!1,failedMsg:void 0});let o=new e8.c;this.nonreactiveStore.setAbortController(s,o);try{let e=await this.uploadFile({file:t,headers:{"x-thinking-enabled":a?"1":"0"}},{onUploadProgress:e=>{if(o.signal.aborted)return;let{percent:t}=e;this.nonreactiveStore.updateFileUploadInfo(s,{percent:t,isUploading:!0,failed:!1,failedMsg:void 0})},abortSignal:o.signal});this.nonreactiveStore.updateFileUploadInfo(s,{percent:1,isUploading:!1,failed:!1,failedMsg:void 0});let{biz_code:n,biz_data:i,biz_msg:l}=e.data;if(0!==n){this.nonreactiveStore.updateFileUploadInfo(s,{percent:0,isUploading:!1,failed:!0,failedMsg:ts(n,this.getLocale)}),r.error({name:"uploadFileFailed",message:"文件上传失败",payload:r.withError(Error(l),{fileName:t.name})});return}this.nonreactiveStore.updateFileInfo(s,ta(i)),r.info({name:"uploadFileSuccess",message:"文件上传成功",payload:{fileName:t.name,fileId:i.id}}),eu(i.status)&&r.error({name:"parseFileFailed",message:"解析文件失败",payload:{fileId:i.id,reason:i.status,file_name:i.file_name,stage:"upload"}})}catch(e){this.nonreactiveStore.updateFileUploadInfo(s,{failed:!0,isUploading:!1,percent:0,failedMsg:void 0}),r.error({name:"uploadFileFailed",message:"文件上传失败",payload:r.withError(e,{fileName:t.name})})}finally{this.nonreactiveStore.removeAbortController(s)}}async fetchFilesInfoOnce(e){if(this.pollLimiter.isPaused)return{success:!0,infoList:[]};let t=this.nonreactiveStore.getUnparsedFileServerIds(e);if(0===t.length)return{success:!0,infoList:[]};try{let e=(await function(e){let{fileIds:t}=e;return et().http.http.get("/api/v0/file/fetch_files",{context:et().http.withDefaultHttpContext({shouldWaitSse:!0}),query:{file_ids:t}})}({fileIds:t})).json.data.biz_data.files.map(e=>({localId:this.nonreactiveStore.getLocalIdByServerId(e.id),info:e})).filter(e=>!!e.localId);return{success:!0,infoList:e}}catch(n){let{tracker:e}=et();return e.error({name:"fetchFilesInfoFailed",message:"获取文件信息失败",payload:e.withError(n,{fileIds:t})}),{success:!1,failIdList:t.map(e=>this.nonreactiveStore.getLocalIdByServerId(e)).filter(e=>!!e)}}}async startPollingFilesInfo(e){this.stopPolling();let{subscribe:t,startPolling:n,stopPolling:a}=tn(()=>this.fetchFilesInfoOnce(e),{interval:3e3,name:"fetchFilesInfo"});n();let r=t(e=>{if(e.success){let t=e.infoList;t.forEach(e=>{let{localId:t,info:n}=e;this.nonreactiveStore.updateFileInfo(t,ta(n))});let{tracker:n}=et();t.filter(e=>{let{info:t}=e;return eu(t.status)}).forEach(e=>{let{info:t}=e;n.error({name:"parseFileFailed",message:"解析文件失败",payload:{fileId:t.id,reason:t.status,file_name:t.file_name,stage:"parse"}})})}else e.failIdList.forEach(e=>{let t=this.nonreactiveStore.getFileInfo(e);t&&this.nonreactiveStore.updateFileInfo(e,{...t,status:z.FileParseStatus._CUSTOM_SYSTEM_ERROR_FAIL})})});this.stopPolling=()=>{a(),r.unsubscribe()}}getRefFileIds(e){return this.nonreactiveStore.getAllServerIds(e)}getFilesCount(e){return this.nonreactiveStore.getFilesCount(e)}deleteFile(e){this.nonreactiveStore.removeFileAndAbortUpload(e)}removeAgentFilesAfterCreateSession(e){this.nonreactiveStore.removeAgentFilesAfterCreateSession(e)}removeSessionFilesAfterCreateSession(e){this.nonreactiveStore.removeSessionFiles(e)}moveFilesBelongingSession(e,t){this.nonreactiveStore.moveFilesBelongingSession(e,t)}constructor(e,t,n){(0,e6._)(this,"getLocale",void 0),(0,e6._)(this,"pollLimiter",void 0),(0,e6._)(this,"stopPolling",()=>void 0),(0,e6._)(this,"uploadFile",void 0),(0,e6._)(this,"hooks",{useIsAllSettled:e=>ec(t=>{let n=!t.getUploadingFiles(e).length,a=!t.getUnparsedFileServerIds(e).length;return n&&a}),useIsAllReady:e=>ec(t=>t.getIsAllFilesReady(e)),useIsContainFilesRequireDelete:e=>ec(t=>t.getContainFilesRequireDelete(e)),useFilesCountScale:e=>ec(t=>{let n=t.getFilesCount(e);return n?1===n?"single":"multi":"empty"}),useFileList:e=>ec(t=>t.getFileInfoByBelongInfo(e)),useIsMaxCount:e=>ec(t=>t.getFilesCount(e)>=50),useFilesTokenCount:e=>ec(t=>t.getFilesTokenCount(e))}),this.getLocale=e,this.pollLimiter=t,this.uploadFile=tt(n)}}(0,e6._)(tr,"transformServerFileInfoToClient",ta),(0,e6._)(tr,"getAcceptFileTypes",()=>e7.map(e=>".".concat(e)).join(",")),(0,e6._)(tr,"getAcceptFileTypeList",()=>e7),(0,e6._)(tr,"maxFileSize",0x6400000),(0,e6._)(tr,"maxFileCount",50);let ts=(e,t)=>{let n=Object({1:"fileNameCannotBeEmpty",2:"fileContentCannotBeEmpty",3:"fileExceedSizeLimit",4:"filenameTooLong",5:"systemServiceException",7:"requestFrequencyTooHigh",8:"requestConcurrencyTooHigh",9:"unsupportedFileFormat",15:"serverBusy"})[String(e)];return e9(t())(n)};var to=n(23279);let ti=new(n(70595)).x,tl={types:{RESPONSE_TYPES:["RESPONSE","TEMPLATE_RESPONSE"],MAIN_RESPONSE_TYPES:["RESPONSE"],TEMPLATE_RESPONSE_TYPES:["TEMPLATE_RESPONSE"],INFO_TYPES:["REQUEST","RESPONSE","TEMPLATE_RESPONSE"],_DEEP_SEARCH_KNOWN_TYPES:["SEARCH","THINK"],SEARCH_TYPES:["SEARCH"],TIP_TYPES:["TIP"]},getUserQuery:e=>{var t,n;return e&&null!==(n=null===(t=e.fragments.find(e=>"REQUEST"===e.type))||void 0===t?void 0:t.content)&&void 0!==n?n:null},getResponseFragments:e=>e?tl.filterFragments(e,tl.types.RESPONSE_TYPES):[],getHasTemplateResponse:e=>!!e&&!!tl.filterFragments(e,tl.types.TEMPLATE_RESPONSE_TYPES).length,getHasMainResponse:e=>!!tl.filterFragments(e,tl.types.MAIN_RESPONSE_TYPES).length,getResponse:e=>{var t;return e?null===(t=tl.getResponseFragments(e).find(e=>e.content))||void 0===t?void 0:t.content:null},getThinkFragments:e=>e?e.fragments.filter(e=>"THINK"===e.type):[],getSearchFragments:e=>e?tl.filterFragments(e,tl.types.SEARCH_TYPES):[],getSearchResults:(e,t)=>tl.getSearchFragments(e).filter(t).reduce((e,t)=>e.concat(t.results),[]),getSearchQueries:(e,t)=>tl.getSearchFragments(e).filter(t).reduce((e,t)=>e.concat(t.queries),[]),getStandardTipFragments:e=>e?tl.filterFragments(e,tl.types.TIP_TYPES):[],filterFragments:(e,t)=>e.fragments.filter(e=>t.includes(e.type)),getUnknownTip:e=>e.fragments.filter(e=>"TIP"===e.type&&"UNKNOWN"===e.style),isUnknownTip:e=>"TIP"===e.type&&"UNKNOWN"===e.style,isDeepSearchFragment:e=>!!tl.types._DEEP_SEARCH_KNOWN_TYPES.includes(e.type)||tl.isUnknownTip(e),getDeepSearchKnownFragments:e=>e.fragments.filter(tl.isDeepSearchFragment)},td=()=>{var e;return e=et().useLocale(),(0,eX.useCallback)(t=>e4[e][t],[e])};var tc=W.MessageStatus;let tu={isInterrupted:e=>![tc.WIP,tc.OK].includes(e),shouldExecuteStopStream:e=>[W.MessageStatus.WIP,W.MessageStatus.INCOMPLETE].includes(e),isWIP:e=>e===tc.WIP,isFinished:e=>e===tc.OK};var th=z.SearchMessageFragmentStatus;class tp{listenOpenView(e){return this.openViewListeners.add(e),()=>{this.openViewListeners.delete(e)}}getSearchResult(e,t){return tg(this.nonreactiveChatStore,e,t)}convertCiteIndexToListIndex(e,t){let n=ej.getState().getMessage(e.sessionId,e.messageId),a=tl.getSearchResults(n,Boolean).findIndex(e=>e.citeIndex===t);return a<0?{valid:!1,text:String(t)}:{valid:!0,text:String(a+1)}}dispose(){this.subscription.unsubscribe()}get nonreactiveChatStore(){return ej.getState()}getResults(e,t){let n=e.getMessage(t.sessionId,t.messageId);return"composed"===t.fragmentId?tl.getSearchResults(n,Boolean):tl.getSearchResults(n,e=>e.id===t.fragmentId)}autoToggleView(e){if(this.getIsShowingSearchView(e)){this.closeSearchView();return}this.getResults(this.nonreactiveChatStore,e).length&&(this.openViewListeners.forEach(e=>e()),ti.next({method:"openSearchView",args:null}),this.useSearchViewStore.getState().setSearchViewIndex(e))}closeSearchView(){this.useSearchViewStore.getState().closeSearchView()}getIsShowingSearchView(e){let t=this.useSearchViewStore.getState().getSearchViewIndex();return!!t&&t.sessionId===e.sessionId&&t.messageId===e.messageId&&t.fragmentId===e.fragmentId}getShowingSearchView(){return this.useSearchViewStore.getState().getSearchViewIndex()}constructor(e){(0,e6._)(this,"useSearchViewStore",void 0),(0,e6._)(this,"openViewListeners",new Set),(0,e6._)(this,"subscription",void 0),(0,e6._)(this,"_hooks",{useSearchResult:e=>ej(function(e){let t=(0,eX.useRef)(null);return n=>{let a=e(n);return tm(t.current,a)?t.current:t.current=a}}(t=>e?this.getResults(t,e):[]))||[]}),(0,e6._)(this,"hooks",{useIsShowSearchView:()=>this.useSearchViewStore(e=>e.getSearchViewIndex()),useShowingSearchResult:()=>{let e=this.useSearchViewStore((0,eQ.N)(e=>e.getSearchViewIndex()));return this._hooks.useSearchResult(e)},useCiteSearchResult:(e,t)=>ej((0,eQ.N)(n=>tg(n,e,t))),useIndexOffset:()=>{let e=this.useSearchViewStore.getState().getSearchViewIndex();return ej(t=>{if(!e)return 0;let n=t.getMessage(e.sessionId,e.messageId),a=tl.getSearchFragments(n),r=a.findIndex(t=>t.id===e.fragmentId);return r<=0?0:a.slice(0,r).reduce((e,t)=>e+t.results.length,0)})},useSearchTitle:e=>{let t=td();return ej(n=>{if(null===e)return null;let a=n.getMessage(e.sessionId,e.messageId);if(!a)return null;let r=a.fragments.findIndex(t=>t.id===e.fragmentId),s=a.fragments.at(r);if((null==s?void 0:s.type)!=="SEARCH")return null;let o=(()=>{let{status:e,queries:n,results:a,content:r}=s;switch(e){case th.WIP:if(!n.length)return{text:t("messageSearching"),phase:"wait_query"};return{text:t("messageSearchingWithQuery"),phase:"querying"};case th.FINISHED:{let e=a.length;if(!e)return{text:t("messageSearchNoResult"),phase:"found_nothing"};if(e<2)return{text:t("messageSearchResult"),phase:"read_results"};return{text:t("messageSearchResults")({n:a.length}),phase:"read_results"}}case th.FAILED:return{text:r,phase:"failed"};default:return(0,eD.vv)(e),null}})();return r===a.fragments.length-1&&tu.isInterrupted(a.status)&&o&&["querying","wait_query"].includes(o.phase)?{phase:"interrupted",text:t("searchStopped")}:o})}}),this.useSearchViewStore=e,this.subscription=ti.subscribe(e=>{let{method:t}=e;"openPreview"===t&&this.closeSearchView()})}}let tg=(e,t,n)=>n<0?null:tl.getSearchFragments(e.getMessage(t.sessionId,t.messageId)).map(e=>e.results).reduce((e,t)=>e.concat(t),[]).find(e=>e.citeIndex===n),tm=(e,t)=>null!==e&&null!==t&&e.length===t.length&&e.every((e,n)=>e.citeIndex===t[n].citeIndex&&e.url===t[n].url),tf=()=>({currentSearchViewMessage:null}),tC=()=>(0,Y.Ue)()((0,X.n)((e,t)=>({...tf(),setSearchViewIndex:t=>{e(e=>{e.currentSearchViewMessage={...t}})},getSearchViewIndex:()=>t().currentSearchViewMessage,closeSearchView:()=>{e(e=>{e.currentSearchViewMessage=null})}}))),tv=(0,eX.createContext)({searchViewController:null}),tx=e=>{let{children:t,location:n}=e,a=tS();(0,eX.useEffect)(()=>{a.closeSearchView()},[n,a]),(0,eX.useEffect)(()=>()=>{a.dispose()},[a]);let r=(0,eX.useMemo)(()=>({searchViewController:a}),[a]);return(0,to.jsx)(tv.Provider,{value:r,children:t})};tv.displayName="SearchContext";let tS=()=>{let e=(0,eX.useRef)();return e.current||(e.current=new tp(tC())),e.current},tE=()=>{let{searchViewController:e}=(0,eX.useContext)(tv);if(!e)throw Error("useSearchViewController must be used within a SearchViewProvider");return e};class tb{get isPaused(){return this._isPaused}pause(){this._isPaused=!0}resume(){this._isPaused=!1}constructor(){(0,e6._)(this,"_isPaused",!1)}}n(1227);var t_=n(84027),ty=n(20877);let tw=["ban_edit","mode"],tI=e=>tw.includes(e),tT={results:1,queries:1},tk={REQUEST:{type:"type",content:"content",id:"id"},THINK:{type:"type",content:"content",elapsed_secs:"elapsedSecs",id:"id"},SEARCH:{type:"type",queries:{mode:"array_mapping",clientField:"queries",mapping:{query:"query"}},content:"content",status:"status",results:{mode:"array_mapping",clientField:"results",mapping:{cite_index:"citeIndex",published_at:"publishedAt",site_icon:"siteIcon",site_name:"siteName",snippet:"snippet",title:"title",url:"url"}},id:"id"},RESPONSE:{type:"type",content:"content",id:"id"},TEMPLATE_RESPONSE:{type:"type",content:"content",id:"id"},TIP:{type:"type",style:"style",content:"content",hide_on_wip:"hideOnWip",id:"id"}},tM=e=>e in tT,tj={isClientMessageWithFragments:e=>{if(!("fragments"in e))throw Error("cannot find fragments field");if(!Array.isArray(e.fragments))throw Error("expect fragment as Array type")},isFragmentExists:(e,t)=>{if(!e)throw Error("fragment not exist, in: ".concat(t))},isClientFragments:e=>{},isClientSearchFragment:e=>{if("SEARCH"!==e.type)throw Error("expect search fragment, get: ".concat(e.type))}};class tR{write(e,t){switch(this.parts.length){case 1:this.writeFullFragments(e,t);return;case 2:this.writeFragmentByIndex(this.parts[1],e,t);return;default:this.writeFragmentNested(e,t)}}writeFragmentNested(e,t){var n;if(this.parts.length>5)throw Error("cannot handle path: ".concat(this.path));tj.isClientMessageWithFragments(e);let a=this.parseFragmentsIndex(this.parts[1],e.fragments),r=e.fragments.at(a);if(tj.isFragmentExists(r,this.path),"SEARCH"===r.type){tj.isClientSearchFragment(r),this.writeSearchFragmentNested(r,t);return}let s=this.debug?tk[r.type][this.parts[2]]:null===(n=tk[r.type])||void 0===n?void 0:n[this.parts[2]];switch(this.mode){case"set":r[s]=t;return;case"append":if("string"==typeof r[s])r[s]+=t;else throw Error("Cannot append to non-string value, type: ".concat(typeof r[s],", in: ").concat(this.path));return;default:(0,eD.vv)(this.mode)}}writeSearchFragmentNested(e,t){let n=this.parts[2],a=()=>{let e=parseInt(this.parts[3]);if(!Number.isInteger(e))throw Error("expect number index, got: ".concat(this.parts[3],", in ").concat(this.path));return e};switch(this.parts.length){case 3:switch(this.mode){case"set":e[n]=t;break;case"append":e[n].push(...t);break;default:(0,eD.vv)(this.mode)}return;case 4:{let r=a();switch(this.mode){case"set":e[n]=t;break;case"append":e[n].splice(r,0,...t);break;default:(0,eD.vv)(this.mode)}return}case 5:{let r=a(),s=e[n].at(r);if(!s)throw Error("target not exists: ".concat(this.path));let o=tk.SEARCH[n].mapping,i=this.parts[4];if(!(i in o))throw Error("unexpected nested path: ".concat(i,", in: ").concat(this.path));let l=o[i];switch(this.mode){case"set":s[l]=t;break;case"append":if(Array.isArray(s[l])){s[l].push(...t);break}if("string"!=typeof s[l])throw Error("Cannot append to non-string value, type: ".concat(typeof s[l],", in: ").concat(this.path));s[l]+=t;break;default:(0,eD.vv)(this.mode)}return}default:throw Error("cannot handle path: ".concat(this.path))}}writeFragmentByIndex(e,t,n){tj.isClientMessageWithFragments(t);let a=this.parseFragmentsIndex(e,t.fragments);switch(this.mode){case"set":tj.isClientFragments(n),t.fragments[a]=n;return;case"append":t.fragments.splice(a,0,...n);return;default:(0,eD.vv)(this.mode)}}writeFullFragments(e,t){switch(this.mode){case"set":if(!Array.isArray(t))throw Error("expect set fragment with Array, got ".concat(typeof t));e.fragments=t;return;case"append":tj.isClientMessageWithFragments(e),e.fragments.push(...t);return;default:(0,eD.vv)(this.mode)}}parseFragmentsIndex(e,t){let n="number"==typeof e?e:parseInt(e);if(!Number.isInteger(n))throw Error("unexpected fragments index: ".concat(n,", in: ").concat(this.path));if(Math.abs(n)>t.length)throw Error("out range of fragments index: ".concat(n,", in: ").concat(this.path));return n<0?t.length+n:n}constructor(e,t,n){(0,e6._)(this,"mode",void 0),(0,e6._)(this,"path",void 0),(0,e6._)(this,"debug",void 0),(0,e6._)(this,"parts",void 0),this.mode=e,this.path=t,this.debug=n,this.parts=tN(this.path)}}let tA="response",tN=e=>{let t=e.split("/").filter(Boolean);if(t[0]!==tA)throw Error("路径必须以 ".concat(tA," 开头，当前值：").concat(t[0]));return t.slice(1)};class tL{transfer(e){return this.parts.length<3?Array.isArray(e)?e.map(e=>tL.transferFragment(e,{debug:this.debug})):tL.transferFragment(e,{debug:this.debug}):this.transferFragmentField(e)}transferFragmentField(e){let t=this.parts,n=parseInt(t[1]);if(!Number.isInteger(n))throw Error("expect number index, get: ".concat(t[1],", in: ").concat(this.path));let a=this.refer.fragments.at(n);return(tj.isFragmentExists(a,this.path),"SEARCH"===a.type)?new tF(this.path,{debug:this.debug}).transfer(t,e):e}constructor(e,t,n){(0,e6._)(this,"path",void 0),(0,e6._)(this,"refer",void 0),(0,e6._)(this,"parts",void 0),(0,e6._)(this,"debug",void 0),this.path=e,this.refer=t,this.debug=n.debug,this.parts=tN(this.path)}}(0,e6._)(tL,"mapNestedFragment",(e,t,n)=>{let{mapping:a}=e;return Object.keys(t).reduce((e,r)=>{if(!(r in a)&&n)throw Error("unknown key: ".concat(r));return e[a[r]]=t[r],e},{})}),(0,e6._)(tL,"transferFragment",(e,t)=>{if(!Object.keys(tk).includes(Object(e).type))return e;let n=tk[e.type];return Object.keys(e).reduce((a,r)=>{if(!(r in n)&&t.debug)throw Error("unknown key: ".concat(r));let s=n[r];if("string"==typeof s)return a[s]=e[r],a;let{clientField:o}=s,i=e[r];return a[o]=i.map(e=>tL.mapNestedFragment(s,e,t.debug)),a},{})});class tF{transfer(e,t){let n=e[2];return tM(n)?this.transferNested(n,e,t):t}transferNested(e,t,n){let a=tk.SEARCH[e];if(3===t.length)switch(e){case"queries":case"results":if(Array.isArray(n))return n.map(e=>tL.mapNestedFragment(a,e,this.debug));return tL.mapNestedFragment(a,n,this.debug);default:(0,eD.vv)(e)}if(4===t.length)switch(e){case"queries":case"results":return tL.mapNestedFragment(a,n,this.debug);default:(0,eD.vv)(e)}if(5===t.length)return n;throw Error("cannot handle path: ".concat(this.path))}constructor(e,t){(0,e6._)(this,"path",void 0),(0,e6._)(this,"debug",void 0),this.path=e,this.debug=t.debug}}let tO={message_id:"id",parent_id:"parentId",role:"role",ban_regenerate:"banRegenerate",status:"status",accumulated_token_usage:"accumulatedTokenUsage",inserted_at:"insertedAt",thinking_enabled:"thinkingEnabled",search_enabled:"searchEnabled",has_pending_fragment:"hasPendingFragment"},tP={write:ty.Z,transfer:ty.Z};class tD{resolve(){let{write:e,transfer:t}=this.resolveImpl();return{write:(n,a)=>{e(n,t(n,a))}}}resolveImpl(){return"fragments"===this.parts[0]?this.handleFragment():this.handleShallow()}handleShallow(){if("append"===this.mode)throw Error("cannot append: ".concat(this.path));let e=this.parts[0];if(tI(e))return tP;if(!tB(e)){if(!this.debug)return tP;throw Error("unexpected field: ".concat(e))}let t=tO[e];return{write:(e,n)=>{e[t]=n},transfer:(e,t)=>t}}handleFragment(){return{write:(e,t)=>new tR(this.mode,this.path,this.debug).write(e,t),transfer:(e,t)=>(tj.isClientMessageWithFragments(e),new tL(this.path,e,{debug:this.debug}).transfer(t))}}constructor(e,t,n){(0,e6._)(this,"mode",void 0),(0,e6._)(this,"path",void 0),(0,e6._)(this,"parts",void 0),(0,e6._)(this,"debug",void 0),this.mode=e,this.path=t,this.parts=tN(t),this.debug=n.debug}}let tB=e=>e in tO,tH={set:(e,t,n)=>{let{write:a}=new tD("set",t,{debug:et().__DEV__}).resolve();a(e,n)},append:(e,t,n)=>{let{write:a}=new tD("append",t,{debug:et().__DEV__}).resolve();a(e,n)}},tV=e=>{switch(e){case z.MessageStatus.FINISHED:return W.MessageStatus.OK;case z.MessageStatus.CONTENT_FILTER:return W.MessageStatus.CONTENT_FILTER;case z.MessageStatus.CONTEXT_LENGTH_EXCEEDED:return W.MessageStatus.CONTEXT_LENGTH_EXCEEDED;case z.MessageStatus.INCOMPLETE:return W.MessageStatus.INCOMPLETE;case z.MessageStatus.WIP:return W.MessageStatus.WIP;case z.MessageStatus.TIMEOUT:return W.MessageStatus.TIMEOUT;default:return(0,eD.vv)(e),W.MessageStatus.OK}},tU=e=>e?e.feedback_type===z.MessageFeedbackType.LIKE?W.MessageFeedback.LIKE:W.MessageFeedback.DISLIKE:null,tW=(e,t)=>{var n,a,r,s;let o=tV(e.status),i=null!==(n=e.accumulated_token_usage)&&void 0!==n?n:tG(e);return{id:e.message_id,parentId:e.parent_id,isEditing:!1,accumulatedTokenUsage:i,status:o,generateState:null,role:e.role===z.MessageRole.ASSISTANT?W.MessageRole.ASSISTANT:W.MessageRole.USER,childIds:t.childIds,currentChildIndex:t.currentChildIndex,feedback:tU(e.feedback),files:e.files.map(tr.transformServerFileInfoToClient),banRegenerate:null!==(a=e.ban_regenerate)&&void 0!==a&&a,searchEnabled:e.search_enabled||!1,thinkingEnabled:null!==(r=e.thinking_enabled)&&void 0!==r&&r,insertedAt:null!==(s=e.inserted_at)&&void 0!==s?s:0,hint:null,resendInfo:null,responseMessageId:null,requestMessageId:null,clientStreamId:null,fragments:e.fragments.map(e=>tL.transferFragment(e,{debug:et().__DEV__})),hasPendingFragment:e.has_pending_fragment,isContinuing:!1}},tG=e=>e.status===z.MessageStatus.CONTEXT_LENGTH_EXCEEDED?1/0:e.accumulated_token_usage||0;class tz{get nonReactiveStore(){return ej.getState()}enterStatus(e,t,n){this.updateMessageByFn(e,t,e=>{e.status=n})}updateMessageByFn(e,t,n){this.nonReactiveStore.updateMessage(e,t,n)}completeMessage(e,t,n){this.nonReactiveStore.updateMessage(e,t,e=>{let t=tW(n,{childIds:[],currentChildIndex:0});(0,t_.Z)(e,t)})}applyDeltaToMessage(e,t){let{chatSessionId:n,messageId:a}=t;this.updateMessageByFn(n,a,t=>{let{op:n,value:a,path:r}=e;switch(n){case"SET":tH.set(t,r,a);break;case"APPEND":tH.append(t,r,a);break;default:(0,eD.vv)(e)}})}upsertAssistantMessage(e,t){this.nonReactiveStore.addMessage(e,t)}addNewUserMessage(e,t,n){let a=t.chatSessionId,{messageId:r,childIds:s}=n,o=t.prompt,i=t.searchEnabled,l=t.thinkingEnabled,d=this.grabParentTokenCount(a,e),c={id:r,role:W.MessageRole.USER,status:W.MessageStatus.OK,parentId:e,childIds:s,currentChildIndex:0,feedback:null,isEditing:!1,files:tZ(t),accumulatedTokenUsage:d,banRegenerate:!1,thinkingEnabled:l,insertedAt:Date.now(),searchEnabled:i,generateState:null,hint:null,resendInfo:t.resendInfo,responseMessageId:null,requestMessageId:null,clientStreamId:t.clientStreamId,fragments:[{type:"REQUEST",content:o,id:-1}],hasPendingFragment:!1,isContinuing:!1};return this.nonReactiveStore.addMessage(a,c),c}updateFakeUserMessageId(e){let{chatSessionId:t,newMessageId:n,fakeId:a}=e;if(n===a)return;let r=this.nonReactiveStore.getMessage(t,a);if(!r)return;let s=r.parentId,o={from:a,to:n};this.nonReactiveStore.addMessage(t,{...r,id:n}),null!==s?this.nonReactiveStore.replaceChildId(t,s,o):this.nonReactiveStore.replaceRootBranchId(t,o),this.nonReactiveStore.deleteMessage(t,a)}deleteMessage(e,t){this.nonReactiveStore.deleteMessage(e,t)}getChildIndex(e,t){let{parent:n,child:a}=t,r=this.nonReactiveStore.getMessage(e,n);return r&&r.childIds.includes(a)?r.childIds.indexOf(a):null}getMessage(e,t){return this.nonReactiveStore.getMessage(e,t)}getMessageResponse(e,t){let n=this.getMessage(e,t);return n?tl.getResponse(n):null}clearStopResponseId(e,t){this.nonReactiveStore.updateMessage(e,t,e=>{e.responseMessageId=null})}getBranchInfo(e,t){let n=e_.getMessageBranchCount(this.nonReactiveStore,e,t);return{count:n,index:e_.getMessageBranchIndex(this.nonReactiveStore,e,t),isInBranch:n>1}}updateBranchIndex(e,t,n){this.nonReactiveStore.updateMessage(e,t,e=>{e.currentChildIndex=n})}addNewUserMessageCompose(e,t){let{onNoParentMessage:n,parentMessageId:a,targetIndex:r,messageId:s,childIds:o}=t,i=this.addNewUserMessage(a,e,{messageId:s,childIds:o});return this.addMessageIdToParent({chatSessionId:e.chatSessionId,newMessageId:s,onNoParentMessage:n,targetIndex:r}),i}getParentMessage(e,t){return this.nonReactiveStore.getParentMessage(e,t)}grabParentTokenCount(e,t){if(null===t)return 0;let n=this.getParentMessage(e,t);return n?n.accumulatedTokenUsage:0}onMessageComplete(e,t){null!==t&&this.nonReactiveStore.updateMessage(e,t,e=>{e.status===W.MessageStatus.WIP&&(e.status=W.MessageStatus.OK)})}markMessageAsNotEditing(e,t){!(0,ev.Z)(t)&&this.nonReactiveStore.updateMessage(e,t,e=>{e.isEditing=!1})}markMessageAsContinuing(e,t,n){this.nonReactiveStore.updateMessage(e,t,e=>{e.isContinuing=n})}constructor(){(0,e6._)(this,"addMessageIdToParent",e=>{let{chatSessionId:t,newMessageId:n,onNoParentMessage:a,targetIndex:r}=e,s=this.getParentMessage(t,n);if(!s){a({sessionId:t,messageId:n,index:r});return}let o=s.id;this.nonReactiveStore.updateMessage(t,o,e=>{if(e.childIds.includes(n)){if(et().__DEV__)throw Error("messageId ID ".concat(n," already in childIds of ").concat(e.id));return}null===r?(e.childIds.push(n),e.currentChildIndex=J(e.childIds,e.childIds.length-1)):(e.childIds.splice(r,0,n),e.currentChildIndex=J(e.childIds,r))})})}}let tZ=e=>"files"in e?e.files:tq(e.refFileIds),tq=e=>ec.getState().getFileInfoList(e).filter(e=>!!e),tK=function(e,t){let{duration:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{withToast:a}=et(),r=e9(et().getLocale());a(a=>{var s;let o=(s=et().useLocale,e5[t]?e5[t]:e5[t]=function(){for(var e=arguments.length,n=Array(e),a=0;a<e;a++)n[a]=arguments[a];let r=e9(s())(t);return"string"==typeof r?r:r(...n)}),i=r(t);a[e]({node:(0,to.jsx)(o,{}),description:i},{duration:n})})},tY={error:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return tK("error",e,t)}};class tX{get nonReactiveStore(){return ej.getState()}async createSession(e){let{tracker:t}=et();t.info({name:"createSession",message:"开始创建对话",payload:{agentId:e}});try{let{data:{session:e}}=await function(e){let{characterId:t}=e;return et().http.http.post("/api/v0/chat_session/create",{json:{character_id:t}}).then(e=>{let{context:t,json:n}=e,a=n.data.biz_data;return{data:{session:{id:a.id,seqId:a.seq_id,title:a.title,messageStore:{},aborts:[],prompt:"",rootBranchIndex:0,rootBranchIds:[],scrollToBottomTrigger:0,forceScrollToBottomTrigger:0,agent:W.AgentId.CHAT,updatedAt:1e3*a.updated_at,state:W.SessionStateEnum.idle,routeId:null,titleType:a.title_type,agentId:W.AgentId.CHAT,isHidden:!1}},context:t}})}({});return{session:e}}catch(n){return t.error({name:"createSessionAndStartCompletionFailed",message:"创建对话失败",payload:t.withError(n,{stage:"createSession"})}),tY.error("createSessionFailedToast"),this.nonReactiveStore.updateAgent(e,e=>{e.isSending=!1}),null}}deleteSession(e){this.nonReactiveStore.deleteSession(e)}markSessionAsSending(e){var t;(null===(t=this.nonReactiveStore.getSession(e))||void 0===t?void 0:t.state)!==W.SessionStateEnum.sending&&this.nonReactiveStore.updateSession(e,e=>{e.state=W.SessionStateEnum.sending})}clearSessionAbortsAndMarkAsIdle(e){this.nonReactiveStore.updateSession(e,e=>{e.aborts=[],e.state=W.SessionStateEnum.idle})}updateSessionTitle(e,t,n){this.nonReactiveStore.updateSession(e,e=>{e.title=t,e.titleType=n})}updateSessionHidden(e,t){this.nonReactiveStore.updateSession(e,e=>{e.isHidden=t})}addAbort(e,t){this.nonReactiveStore.updateSession(e,e=>{e.aborts.push(t)})}updateSessionUpdatedAt(e,t){this.nonReactiveStore.updateSession(e,e=>{e.updatedAt<t&&(e.updatedAt=t)})}forceScrollToBottom(e){this.nonReactiveStore.updateSession(e,e=>{e.forceScrollToBottomTrigger++})}requireScrollToBottom(e){this.nonReactiveStore.updateSession(e,e=>{e.scrollToBottomTrigger++})}addSession(e){this.nonReactiveStore.addSession(e)}markSessionAsIdle(e){this.nonReactiveStore.updateSession(e,e=>{e.state=W.SessionStateEnum.idle})}markAgentAsSending(e){this.nonReactiveStore.updateAgent(e,e=>{e.isSending=!0})}markAgentAsIdleKeepPrompt(e){this.nonReactiveStore.updateAgent(e,e=>{e.isSending=!1})}markAgentAsIdleAndClearPrompt(e){this.nonReactiveStore.updateAgent(e,e=>{e.isSending=!1,e.prompt=""})}markSessionCompleting(e){this.nonReactiveStore.updateSession(e,e=>{e.state=W.SessionStateEnum.completing})}clearSessionPrompt(e){this.nonReactiveStore.updateSession(e,e=>{e.prompt=""})}getAgentIsSending(e){var t;return null===(t=this.nonReactiveStore.getAgent(e))||void 0===t?void 0:t.isSending}getLatestSentMessageId(e){return e_.getLatestSentMessageId(this.nonReactiveStore,e)}constructor(){(0,e6._)(this,"addMessageIdToRootBranch",e=>{let{sessionId:t,messageId:n,index:a}=e;this.nonReactiveStore.updateSession(t,e=>{if(e.rootBranchIds.includes(n)){if(et().__DEV__)throw Error("Root Branch ID ".concat(n," already exists"));return}null===a?(e.rootBranchIds.push(n),e.rootBranchIndex=J(e.rootBranchIds,e.rootBranchIds.length-1)):(e.rootBranchIds.splice(a,0,n),e.rootBranchIndex=J(e.rootBranchIds,a))})})}}var t$=n(25907),tQ=n(15838),tJ=n(92847),t1=n(29873);let t0=function(e){let{fallback:t,onError:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return JSON.parse(e)}catch(e){return null==n||n(e),t}},t2=t1.Ryn({content:t1.Z_8()}),t3=t1.Ryn({response_message_id:t1.Rxh(),request_message_id:t1.Rxh()}),t6=t1.Ryn({content:t1.Z_8(),type:t1.G0j([t1.i0J("warning"),t1.i0J("error")])}),t4=t1.Ryn({p:t1.jtO(t1.Z_8()),o:t1.jtO(t1.G0j([t1.i0J("SET"),t1.i0J("BATCH"),t1.i0J("APPEND")])),v:t1.YjB()}),t5=t1.Ryn({type:t1.G0j([t1.i0J("warning"),t1.i0J("error")]),content:t1.Z_8(),clear_response:t1.O72()}),t9=t1.Ryn({updated_at:t1.Rxh()}),t7=t1.Ryn({click_behavior:t1.jtO(t1.G0j([t1.i0J("retry"),t1.i0J("none")]))}),t8={abortEarly:!0},ne=e=>t1.AsG(t2,e,t8),nt=e=>t1.AsG(t3,e,t8),nn=e=>t1.AsG(t6,e,t8),na=e=>t1.AsG(t4,e,t8),nr=e=>t1.AsG(t9,e,t8),ns=e=>t1.AsG(t5,e,t8),no=e=>t1.AsG(t7,e,t8),ni=e=>({parseTitle:t=>ne(t0(t,{onError:n=>null==e?void 0:e(n,t)})),parseReady:t=>nt(t0(t,{onError:n=>null==e?void 0:e(n,t)})),parseToast:t=>nn(t0(t,{onError:n=>null==e?void 0:e(n,t)})),parseDelta:(t,n)=>na(t0(t,{onError:a=>null==e?void 0:e(a,t,n)})),parseHint:t=>ns(t0(t,{onError:n=>null==e?void 0:e(n,t)})),parseUpdateSession:t=>nr(t0(t,{onError:n=>null==e?void 0:e(n,t)})),parseClose:t=>no(t0(t,{onError:n=>null==e?void 0:e(n,t)}))});class nl{parse(e){var t,n;let a=this.op=null!==(t=e.o)&&void 0!==t?t:this.op,r=this.path=null!==(n=e.p)&&void 0!==n?n:this.path;if("BATCH"!==a)return[{path:r,op:a,value:e.v}];if("BATCH"===a){let t=new nl,{v:n}=e,a=[];if(!Array.isArray(n))throw Error("expect batch op with v array");for(let e of n){let n=t.parse(e);for(let e of n)e.path=(r?"".concat(r,"/"):"")+e.path;a.push(...n)}return a}throw Error("Unknown delta operation: ".concat(e.o))}constructor(){(0,e6._)(this,"op","SET"),(0,e6._)(this,"path","")}}class nd{get triggered(){return this._triggered}onReady(){this.ready=!0}onParseError(){!this._triggered&&(this.parseErrorBeforeReady++,!this.ready&&this.parseErrorBeforeReady>=2&&(this.onViolation(),this._triggered=!0))}constructor(e){(0,e6._)(this,"onViolation",void 0),(0,e6._)(this,"ready",!1),(0,e6._)(this,"parseErrorBeforeReady",0),(0,e6._)(this,"_triggered",!1),this.onViolation=e}}let nc=U.NewSSEEventName;class nu{onServerEvent(e){switch(e.event){case"delta":this.deltaParser.parse(e.data).forEach(e=>{this.onEvent({event:nc.delta,data:e},this.context)});break;case"ready":this.onEvent({event:nc.ready,data:{responseMessageId:e.data.response_message_id,requestMessageId:e.data.request_message_id}},this.context);break;case"close":this.onEvent({event:nc.close,data:{clickBehavior:e.data.click_behavior}},this.context);break;case"finish":this.onEvent({event:nc.finish,data:e.data},this.context);break;case"title":this.onEvent({event:nc.title,data:e.data},this.context);break;case"toast":this.onEvent({event:nc.toast,data:e.data},this.context);break;case"update_session":this.onEvent({event:nc.updateSession,data:{updatedAt:1e3*e.data.updated_at}},this.context);break;case"hint":this.onEvent({event:nc.hint,data:{content:e.data.content,type:e.data.type,clearResponse:e.data.clear_response,clickBehavior:U.CloseClickBehavior.none}},this.context);break;default:(0,eD.vv)(e)}}parse(e,t){this.recentFeed=e,this.context=t;let n=e.slice(this.consumed);this.consumed=e.length,this.feeds.push(n),this.eventParser.feed(n)}constructor(e,t,n){(0,e6._)(this,"onEvent",void 0),(0,e6._)(this,"errorHandler",void 0),(0,e6._)(this,"consumed",0),(0,e6._)(this,"eventParser",void 0),(0,e6._)(this,"eventDataParser",void 0),(0,e6._)(this,"deltaParser",new nl),(0,e6._)(this,"context",void 0),(0,e6._)(this,"recentFeed","[null]"),(0,e6._)(this,"protocolGuard",void 0),(0,e6._)(this,"onEventParse",e=>{let{onEventDataValidateError:t,onUnexpectedSSEEvent:n}=this.errorHandler;if(!e.event&&e.data){let n=this.eventDataParser.parseDelta(e.data,this.feeds);if(!n.success){t("delta",n.issues);return}this.onServerEvent({event:"delta",data:n.output});return}switch(e.event){case"ready":{this.protocolGuard.onReady();let n=this.eventDataParser.parseReady(e.data);if(!n.success){t("ready",n.issues);return}this.onServerEvent({event:e.event,data:{response_message_id:n.output.response_message_id,request_message_id:n.output.request_message_id}});break}case"finish":this.onServerEvent({event:e.event,data:{}});break;case"close":{let n=this.eventDataParser.parseClose(e.data);if(!n.success){t("close",n.issues);return}this.onServerEvent({event:"close",data:{click_behavior:n.output.click_behavior||"none"}});break}case"hint":{let n=this.eventDataParser.parseHint(e.data);if(!n.success){t("hint",n.issues);return}this.onServerEvent({event:"hint",data:n.output});break}case"toast":{let n=this.eventDataParser.parseToast(e.data);if(!n.success){t("toast",n.issues);return}this.onServerEvent({event:e.event,data:n.output});break}case"title":{let n=this.eventDataParser.parseTitle(e.data);if(!n.success){t("title",n.issues);return}this.onServerEvent({event:e.event,data:n.output});break}case"update_session":{let n=this.eventDataParser.parseUpdateSession(e.data);if(!n.success){t("update_session",n.issues);return}this.onServerEvent({event:e.event,data:n.output});break}default:n(e)}}),(0,e6._)(this,"feeds",[]),this.onEvent=e,this.errorHandler=t,this.protocolGuard=new nd(n),this.eventParser=(0,tJ.j)({onEvent:this.onEventParse,onError:e=>{!this.protocolGuard.triggered&&(this.errorHandler.onEventParseError(e,this.recentFeed),this.protocolGuard.onParseError())}}),this.eventDataParser=ni(this.errorHandler.onEventDataJsonParseError)}}(V=(H=K||(K={})).EventNames||(H.EventNames={})).resumeMessageGotFullMessage="resumeMessageGotFullMessage",V.invalidSessionId="invalidSessionId",V.streamDispose="streamDispose",V.requestAborted="requestAborted",V.nonStreamError="nonStreamError";let nh=new Set,np=e=>{if(!e||e===tQ.WN)return!1;let t=nh.has(e);return nh.add(e),t},ng=()=>{let{tracker:e}=et();return{onReqFinal:(t,n,a)=>{let{statesSnap:r,scene:s}=t;!np(n)&&e.info({name:"clientStreamNetworkMonitor",message:"流式请求信息",payload:{streamErrorStage:nC(r,a),streamScenario:s,logId:n||tQ.WN}})},onFinish:(t,n)=>{if(np(n))return;let a=t.type;if("resumeStream"===a)return;let r=nm(a);e.info({name:"clientStreamNetworkMonitor",message:"流式请求信息",payload:{streamErrorStage:null,streamScenario:r,logId:n||tQ.WN}})}}},nm=e=>"editMessage"===e?"edit":e,nf=e=>"editMessage"===e?"edit":"firstCompletion"===e?"completion":e,nC=(e,t)=>t?e.ready?e.delta?e.close?null:"wip":"waitFirstDelta":"waitReady":"send",nv=(e,t)=>{let{states:n,context:a,scene:r}=t;"resumeStream"!==r&&e.event===K.EventNames.streamDispose&&ng().onReqFinal({statesSnap:n.snap,scene:nf(r)},null==a?void 0:a.logId,e.data.isHeaderReceived)};class nx{ping(){this.lastPing=Date.now()}dispose(){this.taskId&&clearTimeout(this.taskId),this.isDisposed=!0}scheduleCheck(){!this.isDisposed&&(this.taskId=setTimeout(()=>{this.check()},this.config.checkInterval))}check(){if(this.isDisposed)return;let e=Date.now()-this.lastPing,{maxPingInterval:t}=this.config;e>t?this.onTimeout({lastPing:this.lastPing,now:Date.now(),timeout:t}):this.scheduleCheck()}constructor(e,t){(0,e6._)(this,"config",void 0),(0,e6._)(this,"onTimeout",void 0),(0,e6._)(this,"lastPing",void 0),(0,e6._)(this,"taskId",null),(0,e6._)(this,"isDisposed",!1),this.config=e,this.onTimeout=t,this.lastPing=Date.now(),this.scheduleCheck()}}let nS=e=>{let{tracker:t,getSSEAutoResumeConfig:n}=et();return new nx({maxPingInterval:n().maxChunkInterval||7e4,checkInterval:3e3},n=>{e.abort("timeout"),t.error({name:"SSENetRequestDisconnect",message:"流式接口长时间未更新数据，自动中断",payload:nE(n)})})},nE=e=>{let t=e=>e$(e).format("MM/DD HH:mm:ss.SSS");return{lastPing:t(e.lastPing),now:t(e.now),timeout:e.timeout}},nb=e=>({logId:e.current||tQ.WN}),n_=(e,t)=>{let{tracker:n,http:a}=et(),r={current:null},s=new nu((e,n)=>{t.onEvent(e,n)},t,t.onProtocolViolation);eW(n,e);let o=new e8.c,i=nS(o),l=!0,d=!1;return a.http({json:ez(e),context:a.withDefaultHttpContext({mayMissingApiCode:!0}),extraOptions:{timeout:6e5},headers:eZ(e),signal:o.signal,method:"post",url:eG(e),hooks:{onInit:[async e=>("miniprogram"===et().platform&&await et().http.monitor.waitUntil(t=>{let{requests:n}=t;return n[0].id===e.context.id}),e)],onHeadersReceived:[e=>{let{requestOptions:t,headers:a}=e;r.current=t.context.logId,d=!0;let s=String(a["content-type"]);s&&!nw(s)&&(l=!1,n.info({name:"SSENetNotStreamResponse",message:"SSE请求响应不是流式",payload:{contentType:s}}))}]},onDownloadProgress:e=>{let{originalRequest:t,requestOptions:n,detail:a}=e;if(i.ping(),!l||o.signal.aborted)return;let r=n.context.logId;"miniprogram"===et().platform?s.parse(a.responseText,{logId:r}):s.parse(t.responseText,{logId:r})}}).then(n=>{if(ng().onFinish(e,r.current),l||nw(n.headers["content-type"]||""))return;let a=ny(n.json);if(null===a)return;let s=nb(r);switch(a.code){case z.COMPLETION_ERROR_CODE.RESUME_MESSAGE_GOT_FULL_MESSAGE_CODE:{let e=n.json.data.biz_data;t.onEvent({event:K.EventNames.resumeMessageGotFullMessage,data:{message:e}},s);return}case z.COMPLETION_ERROR_CODE.INVALID_SESSION_ID:t.onEvent({event:K.EventNames.invalidSessionId,data:{sessionId:e.request.chatSessionId}},s);return;default:t.onEvent({event:K.EventNames.nonStreamError,data:a},s);return}},e=>{if(!a.isHttpClientError(e)){t.onSSENetUnexpectedError(e);return}if(e.type===a.HTTP_CLIENT_ERROR.ABORTED){t.onEvent({event:K.EventNames.requestAborted,data:{}},{logId:r.current||tQ.WN});return}t.onSSENetworkError(e)}).finally(()=>{i.dispose(),t.onFinally({isHeaderReceived:d})}),{logIdRef:r,abort:()=>{o.abort()}}},ny=e=>{let t=(0,t$.Z)(e,["data","biz_code"],null);return null===t?null:{code:t,msg:(0,t$.Z)(e,["data","biz_msg"],""),data:(0,t$.Z)(e,["data","biz_data"],null)}},nw=e=>e.includes("text/event-stream"),nI=e=>e9(et().getLocale())(e);var nT=z.COMPLETION_ERROR_CODE,nk=U.NewSSEEventName,nM=U.HintType,nj=U.CloseClickBehavior;let nR=e=>{let t=nF(e);return t||nO(e)},nA=()=>({event:nk.hint,data:{type:nM.error,content:nI("hintFallback"),clearResponse:!0,clickBehavior:nj.none}}),nN=new Map([[nT.INVALID_SESSION_ID,{t:"hintInvalidParams",r:!1}],[nT.PARENT_ROLE_NOT_ASSISTANT,{t:"hintInvalidParams",r:!1}],[nT.MAX_MESSAGE_COUNT_REACHED,{t:"hintMaxMessageCount",r:!1}],[nT.EMPTY_PROMPT,{t:"completionPromptEmptyToast",r:!1}],[nT.LAST_MESSAGE_IS_WIP,{t:"hintLastMessageIsWIP",r:!0}]]),nL=new Map([[nT.REGENERATE_TEMPLATE_RESPONSE,"completionRegenerateOnBadMessageToast"],[nT.RESUME_MESSAGE_NOT_FOUND,"invalidRequest"],[nT.RESUME_TIME_TOO_LONG,"invalidRequest"],[nT.INVALID_REF_FILE_ID,"invalidFileRefToast"],[nT.SESSION_FILE_LIMIT_EXCEEDED,"fileCountLimitExceededToast"],[nT.SEARCH_CANNOT_WITH_FILE,"hintMessageSearchWithFileError"]]),nF=e=>{let t=nN.get(e);if(!t)return null;let n=nI(t.t);if("string"!=typeof n&&et().__DEV__)throw Error("content is not string");return{event:nk.hint,data:{type:nM.error,content:String(n),clearResponse:!0,clickBehavior:t.r?nj.retry:nj.none}}},nO=e=>{let t=nL.get(e);if(!t)return null;let n=nI(t);if("string"!=typeof n&&et().__DEV__)throw Error("content is not string");return{event:nk.toast,data:{type:G.ToastType.ERROR,content:String(n)}}};var nP=U.NewSSEEventName,nD=U.CloseClickBehavior;let nB=e=>{var t;if(!et().http.isHttpClientError(e))return null;let n=null===(t=e.response)||void 0===t?void 0:t.status;return(0,ev.Z)(n)?null:nH(n)},nH=e=>{let t=429===e?[nI("requestFrequencyTooHigh"),!0]:e>=500?[nI("completionServerErrorToast"),!1]:[nI("hintFallback"),!1];return{event:nP.hint,data:{type:U.HintType.error,content:t[0],clearResponse:!1,clickBehavior:t[1]?nD.retry:nD.none}}};var nV=z.COMPLETION_ERROR_CODE,nU=U.NewSSEEventName;let nW=new Map;class nG{startStream(e,t){let{tracker:n}=et(),{abort:a,logIdRef:r}=n_(eU(e),{onEvent:(e,n)=>{switch(e.event){case nU.toast:nz(e);return;case nU.title:nZ(e,t,n);return;case nU.delta:t.onEvent({event:e,context:n});return;case nU.finish:nq(e,t,n);return;case nU.close:nK(e,t,n);return;case nU.ready:nY(e,t,n);return;case K.EventNames.resumeMessageGotFullMessage:nX(e,t,n);return;case K.EventNames.requestAborted:n$(e,t,n);return;case nU.updateSession:nQ(e,t,n);return;case nU.hint:n1(e,t,n);return;case K.EventNames.invalidSessionId:t.onEvent({event:e,context:n});return;case K.EventNames.nonStreamError:nJ(e,t,n),t.onEvent({event:e,context:n});return;default:(0,eD.vv)(e)}},onFinally:e=>{let{isHeaderReceived:a}=e;n.info({name:"SSENetStreamDispose",message:"SSE请求终止",payload:{isHeaderReceived:a}}),t.onEvent({event:{event:K.EventNames.streamDispose,data:{isHeaderReceived:a}},context:{logId:r.current||tQ.WN}})},onSSENetUnexpectedError:e=>{n.error({name:"SSENetUnexpectedError",message:"SSENet 意外错误",payload:n.withError(e,{})})},onSSENetworkError:e=>{var a;let s=(null===(a=e.response)||void 0===a?void 0:a.headers["x-ds-trace-id"])||r.current||tQ.WN;n.error({name:"SSENetNetworkError",message:"SSENet 网络错误",payload:n.withError(e,{logId:s})});let o=nB(e);o&&n1(o,t,{logId:s})},onEventParseError:(e,t)=>{n.error({name:"SSEOnEventParseError",message:"eventsource-parser 解析错误",payload:n.withError(e,{recentFeed:t,logId:r.current||tQ.WN})})},onEventDataJsonParseError:(e,t,a)=>{let s=r.current,o=()=>n.error({name:"SSEOnEventDataJsonParseError",message:"event 中的 data 字段 json 解析错误",payload:n.withError(e,{str:t,logId:s||tQ.WN,feeds:((null==a?void 0:a.at(-1))||"").slice(-2e3)})});if(!s){o();return}let i=nW.get(s)||0;!(i>3)&&(nW.set(s,i+1),o())},onEventDataValidateError:(e,t)=>{n.error({name:"SSEOnEventDataValidateError",message:"event 中的 data 字段验证错误",payload:{event:e,issue:JSON.stringify(t),logId:r.current||tQ.WN}})},onUnexpectedSSEEvent:e=>{n.error({name:"SSEOnUnexpectedSSEEvent",message:"在 SSE 事件文档中未定义的事件",payload:{event:e.event||"",data:e.data}})},onProtocolViolation:t.onProtocolViolation});return{abort:a}}}let nz=e=>{let{withToast:t,tracker:n}=et(),{type:a,content:r}=e.data;n.info({name:"SSENetToast",message:"SSE 显示 toast",payload:{type:a,content:r}}),t(t=>{let{type:n,content:a}=e.data;"error"===n||"warning"===n?t.error(a):t.info(a)})},nZ=(e,t,n)=>{let{tracker:a}=et();a.info({name:"SSENetTitle",message:"SSE title事件",payload:{title:e.data.content}}),t.onEvent({event:e,context:n})},nq=(e,t,n)=>{let{tracker:a}=et();a.info({name:"SSENetFinish",message:"SSE finish事件",payload:{}}),t.onEvent({event:e,context:n})},nK=(e,t,n)=>{let{tracker:a}=et();a.info({name:"SSENetClose",message:"SSE close事件",payload:{}}),t.onEvent({event:e,context:n})},nY=(e,t,n)=>{let{tracker:a}=et();a.info({name:"SSENetReady",message:"SSE ready事件",payload:{}}),t.onEvent({event:e,context:n})},nX=(e,t,n)=>{let{tracker:a}=et();a.info({name:"SSENetGotFullMessage",message:"流式接口得到了完整消息",payload:{scene:"continue"}}),t.onEvent({event:e,context:n})},n$=(e,t,n)=>{let{tracker:a}=et();a.info({name:"SSENetAborted",message:"请求取消",payload:{logId:(null==n?void 0:n.logId)||""}}),t.onEvent({event:e,context:n})},nQ=(e,t,n)=>{let{tracker:a}=et();a.info({name:"SSENetUpdateSession",message:"更新session信息",payload:{updatedAt:e.data.updatedAt}}),t.onEvent({event:e,context:n})},nJ=(e,t,n)=>{let{tracker:a}=et(),r={code:e.data.code,msg:e.data.msg};a.error({name:"SSENetNonStreamError",message:"SSE接口非流式报错(json)",payload:r});let s=nR(e.data.code);if((null==s?void 0:s.event)===nU.hint){n1(s,t,n);return}if((null==s?void 0:s.event)===nU.toast){nz(s);return}if(e.data.code===nV.MUTED){t.onMuted({muteUntil:1e3*(0,t$.Z)(e.data.data,["mute_until"])||eH()}),n1(nA(),t,n);return}a.error({name:"SSENetUnableConvertNonStreamError",message:"无法识别转化的错误",payload:r})},n1=(e,t,n)=>{let{tracker:a}=et();a.info({name:"SSENetHint",message:"消息hint事件",payload:e.data}),t.onEvent({event:e,context:n})};var n0=n(2480);class n2{constructor(e){(0,e6._)(this,"services",void 0),this.services=e}}var n3=W.MessageRole;let n6=e=>{let{parent:t,id:n,clientStreamId:a,thinkingEnabled:r,searchEnabled:s}=e;return{id:n,parentId:t.id,role:n3.ASSISTANT,thinkingEnabled:r,insertedAt:Date.now(),banRegenerate:!1,searchEnabled:s,status:W.MessageStatus.WIP,generateState:W.GenerateState.INITIALIZING,childIds:[],currentChildIndex:0,accumulatedTokenUsage:t.accumulatedTokenUsage,feedback:null,isEditing:!1,files:[],hint:null,resendInfo:null,responseMessageId:null,requestMessageId:null,clientStreamId:a,fragments:[],hasPendingFragment:!0,isContinuing:!1}},n4=(e,t)=>{var n,a,r,s,o,i;let{op:l}=e,{response:d}=e.value;if("SET"!==l)throw Error("首条 delta 必须为 SET 操作，当前值：".concat(l));return{id:d.message_id,parentId:d.parent_id,role:d.role,thinkingEnabled:null!==(n=d.thinking_enabled)&&void 0!==n&&n,insertedAt:null!==(a=d.inserted_at)&&void 0!==a?a:Date.now(),accumulatedTokenUsage:null!==(r=d.accumulated_token_usage)&&void 0!==r?r:0,files:(null!==(s=d.files)&&void 0!==s?s:[]).map(tr.transformServerFileInfoToClient),searchEnabled:null!==(o=d.search_enabled)&&void 0!==o&&o,status:tV(d.status),generateState:W.GenerateState.INITIALIZING,banRegenerate:null!==(i=d.ban_regenerate)&&void 0!==i&&i,childIds:[],currentChildIndex:0,feedback:tU(d.feedback),isEditing:!1,hint:null,resendInfo:null,responseMessageId:t.responseMessageId,requestMessageId:null,clientStreamId:null,fragments:d.fragments.map(e=>tL.transferFragment(e,{debug:et().__DEV__})),hasPendingFragment:d.has_pending_fragment,isContinuing:!1}};var n5=U.HintType,n9=W.MessageStatus;let n7={onReady:e=>{var t;let{event:n,common:a,getParams:r}=e,{responseMessageId:s,requestMessageId:o}=n.data,{services:{messageService:i,sessionService:l},idSync:d}=a,{chatSessionId:c}=r();i.updateMessageByFn(c,d.assistantMessageId,e=>{e.responseMessageId=s}),i.updateMessageByFn(c,d.userMessageId,e=>{e.requestMessageId=o}),l.markSessionCompleting(c),null===(t=a.generateStateManager)||void 0===t||t.onReady()},cleanUpSimple:e=>{let{common:t,getParams:n}=e,{services:{sessionService:a,messageService:r},generateStateManager:s,idSync:o}=t,{chatSessionId:i,statesSnap:l}=n();if(l.sessionInvalid)return;a.markSessionAsIdle(i),null==s||s.dispose();let d=r.getMessage(i,o.assistantMessageId);if(d&&tu.isWIP(d.status)){let e=l.close?n9.OK:n9.INCOMPLETE;r.enterStatus(i,o.assistantMessageId,e)}r.clearStopResponseId(i,o.assistantMessageId)},cleanUp:(e,t)=>{let{common:n,getParams:a}=e,{services:{messageService:r,sessionService:s},generateStateManager:o,idSync:i}=n,{chatSessionId:l,statesSnap:d}=a(),c=eC(i.assistantMessageId);if(!d.sessionInvalid){if(c&&t.allowHint){let e=e9(et().getLocale())("hintNetworkError"),t=r.getMessage(l,i.userMessageId);(null==t?void 0:t.hint)===null&&r.updateMessageByFn(l,i.userMessageId,t=>{t.hint={clearResponse:!1,content:e,type:n5.error,clickBehavior:U.CloseClickBehavior.retry}})}if(c&&r.deleteMessage(l,i.assistantMessageId),!c&&!d.close){let e=r.getMessage(l,i.assistantMessageId);(null==e?void 0:e.status)===n9.WIP&&r.updateMessageByFn(l,i.assistantMessageId,e=>{e.status=n9.INCOMPLETE})}s.markSessionAsIdle(l),null==o||o.dispose(),r.clearStopResponseId(l,i.assistantMessageId)}},onGetPowFail:e=>{let{onHint:t,common:n,getParams:a}=e,{services:{messageService:r,sessionService:s},idSync:o}=n,i=a(),{chatSessionId:l}=i,{getLocale:d}=et();t({type:U.HintType.error,content:e9(d())("hintNetworkError"),clearResponse:!1,clickBehavior:U.CloseClickBehavior.retry},i),r.deleteMessage(l,o.assistantMessageId),s.markSessionAsIdle(l)},onClose:(e,t)=>{let{common:{services:{messageService:n},idSync:a},getParams:r}=t,{chatSessionId:s}=r(),o=e.data.clickBehavior;o&&n.updateMessageByFn(s,a.userMessageId,e=>{e.hint&&(e.hint.clickBehavior=o)})},onNewAssistantMessage:(e,t)=>{let{common:{services:{messageService:n,sessionService:a},idSync:r}}=e,{chatSessionId:s}=e.getParams(),o=r.assistantMessageId,i=r.userMessageId,l=t.id,d=t.parentId,c=n.getChildIndex(s,{parent:r.userMessageId,child:r.assistantMessageId});n.deleteMessage(s,o),n.upsertAssistantMessage(s,t),a.markSessionCompleting(s),n.updateFakeUserMessageId({chatSessionId:s,newMessageId:d,fakeId:i}),r.set.assistantMessageId(l),r.set.userMessageId(d),n.addMessageIdToParent({chatSessionId:s,newMessageId:l,onNoParentMessage:ty.Z,targetIndex:c})},onDelta:e=>{var t,n;let{event:a,common:r,getParams:s,onSent:o}=e,{services:{messageService:i},generateStateManager:l,idSync:d}=r,{chatSessionId:c}=s();if(null==l||l.onDelta(a),!eC(d.assistantMessageId)){i.applyDeltaToMessage(a.data,{chatSessionId:c,messageId:d.assistantMessageId});return}let u=n4(a.data,{responseMessageId:null!==(n=null===(t=i.getMessage(c,d.assistantMessageId))||void 0===t?void 0:t.responseMessageId)&&void 0!==n?n:null});n7.onNewAssistantMessage(e,u),null==l||l.updateMessageId(u.id,a),null==o||o()}};var n8=U.NewSSEEventName;class ae{attach(e){e!==this&&e&&this.attached.add(e)}get cannotAutoResume(){return this._close||this._sessionInvalid||this._userAborted||this._nonStreamError}get snap(){return{ready:this._ready,delta:this._delta,close:this._close,sessionInvalid:this._sessionInvalid,userAborted:this._userAborted,nonStreamError:this._nonStreamError}}constructor(){(0,e6._)(this,"_ready",!1),(0,e6._)(this,"_delta",!1),(0,e6._)(this,"_close",!1),(0,e6._)(this,"_sessionInvalid",!1),(0,e6._)(this,"_userAborted",!1),(0,e6._)(this,"_nonStreamError",!1),(0,e6._)(this,"attached",new Set),(0,e6._)(this,"onReady",e=>{this._ready=!0,this!==e&&this.attached.forEach(t=>t.onReady(e||this))}),(0,e6._)(this,"onDelta",e=>{this._delta=!0,this._ready=!0,this!==e&&this.attached.forEach(t=>t.onDelta(e||this))}),(0,e6._)(this,"onNonStreamError",e=>{this._nonStreamError=!0,this!==e&&this.attached.forEach(t=>t.onNonStreamError(e||this))}),(0,e6._)(this,"onClose",e=>{this._close=!0,this._ready=!0,this._delta=!0,this!==e&&this.attached.forEach(t=>t.onClose(e||this))}),(0,e6._)(this,"onSessionInvalid",e=>{this._sessionInvalid=!0,this!==e&&this.attached.forEach(t=>t.onSessionInvalid(e||this))}),(0,e6._)(this,"onUserAborted",e=>{this._userAborted=!0,this!==e&&this.attached.forEach(t=>t.onUserAborted(e||this))})}}let at=(e,t)=>{switch(e){case n8.ready:t.onReady();return;case n8.delta:t.onDelta();return;case K.EventNames.requestAborted:return;case K.EventNames.invalidSessionId:t.onSessionInvalid();return;case K.EventNames.resumeMessageGotFullMessage:case n8.close:t.onClose();return;case K.EventNames.nonStreamError:t.onNonStreamError();return;default:return}};var an=W.GenerateState;class aa{getMessage(){return ej.getState().getMessage(this.sessionId,this.messageId)}read(){var e;return(null===(e=ej.getState().getMessage(this.sessionId,this.messageId))||void 0===e?void 0:e.generateState)||null}write(e){ej.getState().updateMessage(this.sessionId,this.messageId,t=>{t.generateState=e})}updateMessageId(e){this.messageId=e}constructor(e,t){(0,e6._)(this,"sessionId",void 0),(0,e6._)(this,"messageId",void 0),this.sessionId=e,this.messageId=t}}let ar={[an.INITIALIZING]:0,[an.AWAITING_FIRST_CHANGE]:1,[an.GENERATING]:2},as=(e,t)=>{if(e===t)return!1;if(!e||e&&!t||!t)return!0;let n=ar[e];return ar[t]>n};class ao{static mayLoading(e){return!!e&&[an.AWAITING_FIRST_CHANGE,an.INITIALIZING].includes(e)}write(e){as(this.accessor.read(),e)&&this.accessor.write(e)}start(){this.write(an.INITIALIZING)}updateMessageId(e,t){this.accessor.updateMessageId(e),this.onDelta(t)}onReady(){this.write(an.AWAITING_FIRST_CHANGE)}onDelta(e){let t=e.data;if(ai(t,()=>this.accessor.getMessage())){this.write(an.GENERATING);return}if("string"!=typeof t.value){this.write(an.AWAITING_FIRST_CHANGE);return}if(ai(t,()=>this.accessor.getMessage())&&t.value!==this.initContent){this.write(an.GENERATING);return}this.write(an.AWAITING_FIRST_CHANGE)}dispose(){this.write(null)}constructor(e,t){(0,e6._)(this,"initContent",void 0),(0,e6._)(this,"accessor",void 0),this.initContent=e,this.accessor=new aa(t.sessionId,t.messageId),this.start()}}let ai=(e,t)=>{let n=t();return!!n&&al(e,n)},al=(e,t)=>{if(!e.path)return!1;let n=e.path.split("/").filter(Boolean).slice(1);if("fragments"!==n.at(0))return!1;let{value:a}=e,r=["THINK","RESPONSE"];return(Array.isArray(a)?a.some(e=>r.includes((0,t$.Z)(e,"type"))&&(0,t$.Z)(e,"content")):r.includes(String((0,t$.Z)(a,"type")))&&!!(0,t$.Z)(a,"content"))||(()=>{if("string"!=typeof a&&"number"!=typeof a)return!1;let e=parseInt(n.at(1)||"NaN");if(!Number.isInteger(e))return!1;let s=t.fragments.at(e);return!!s&&r.includes(s.type)&&"content"===n.at(-1)})()};class ad{bindSync(e){e!==this&&this.bound.add(e)}get userMessageId(){return this._userMsgId}get assistantMessageId(){return this._asstMsgId}constructor(e){var t,n;(0,e6._)(this,"_userMsgId",-1),(0,e6._)(this,"_asstMsgId",-1),(0,e6._)(this,"bound",new Set),(0,e6._)(this,"set",{userMessageId:(e,t)=>{if(this._userMsgId=e,this===t)return;let n=t||this;this.bound.forEach(t=>t.set.userMessageId(e,n))},assistantMessageId:(e,t)=>{if(this._asstMsgId=e,this===t)return;let n=t||this;this.bound.forEach(t=>t.set.assistantMessageId(e,n))}}),this._userMsgId=null!==(t=e.userMessageId)&&void 0!==t?t:-1,this._asstMsgId=null!==(n=e.assistantMessageId)&&void 0!==n?n:-1}}let ac=U.NewSSEEventName;class au extends n2{execute(e){let{params:t}=e,{sessionService:n,messageService:a,baseCompletion:r}=this.services,{chatSessionId:s,messageId:o}=t;this.idSync.set.assistantMessageId(this.resolveAssistantMessageId(t)),this.idSync.set.userMessageId(this.resolveUserMessageId(t)),this.generateStateManager=new ao(a.getMessageResponse(s,o)||"",{sessionId:s,messageId:o}),n.markSessionAsSending(s);let i=a.getMessage(s,o);this.onBeforeCompletion(t);let{abort:l}=r({...t,scene:"resumeStream",startContent:i&&tl.getResponse(i)||""},{onEvent:e=>{let{event:n}=e;switch(n.event){case K.EventNames.resumeMessageGotFullMessage:this.onGotFullMessage(t,n);break;case ac.delta:this.onDelta(t,n);break;case ac.hint:this.onHint(t,n);break;case ac.ready:break;case ac.finish:a.onMessageComplete(s,o);break;case ac.close:n7.onClose(n,{common:this,getParams:this.getGetParams(s)});break;case K.EventNames.requestAborted:break;case K.EventNames.streamDispose:this.onDispose(t);break;default:(0,eD.vv)(n)}}},{states:this.states});return{abort:l,getStatesSnap:()=>this.states.snap,promise:this.getQuitPromise()}}onDelta(e,t){var n;let{chatSessionId:a,messageId:r}=e;null===(n=this.generateStateManager)||void 0===n||n.onDelta(t);let{messageService:s,sessionService:o}=this.services;if(!this.isFirstDelta){s.applyDeltaToMessage(t.data,{chatSessionId:a,messageId:r});return}if(this.isFirstDelta=!1,eC(this.idSync.assistantMessageId)){n7.onDelta({event:t,common:this,getParams:this.getGetParams(a),onSent:void 0});return}let i=n4(t.data,{responseMessageId:e.messageId});s.upsertAssistantMessage(a,i),o.markSessionCompleting(a),o.forceScrollToBottom(a)}onHint(e,t){var n;let{data:a}=t,{messageService:r,sessionService:s}=this.services,{chatSessionId:o}=e;s.markSessionAsIdle(o),r.updateMessageByFn(o,this.idSync.userMessageId,e=>{e.hint=a}),a.clearResponse&&r.deleteMessage(o,e.messageId),null===(n=this.generateStateManager)||void 0===n||n.dispose()}onGotFullMessage(e,t){let{messageService:n,sessionService:a}=this.services,{chatSessionId:r}=e;eC(this.idSync.assistantMessageId)?n7.onNewAssistantMessage({common:this,getParams:this.getGetParams(r)},tW(t.data.message,{childIds:[],currentChildIndex:0})):n.completeMessage(e.chatSessionId,e.messageId,t.data.message),this.onAfterGotFullMessage(e,t),a.clearSessionAbortsAndMarkAsIdle(e.chatSessionId),a.requireScrollToBottom(r)}constructor(...e){super(...e),(0,e6._)(this,"states",new ae),(0,e6._)(this,"generateStateManager",void 0),(0,e6._)(this,"idSync",new ad({})),(0,e6._)(this,"getGetParams",e=>()=>({chatSessionId:e,statesSnap:this.states.snap})),(0,e6._)(this,"isFirstDelta",!0)}}class ah extends au{resolveUserMessageId(e){let{chatSessionId:t}=e,{messageService:n}=this.services,a=n.getParentMessage(t,e.messageId);if(!a)throw Error("cannot find parent message: ".concat(t," ").concat(e.messageId));return a.id}resolveAssistantMessageId(e){return e.messageId}async getQuitPromise(){return Promise.resolve()}onBeforeCompletion(e){let{tracker:t}=et(),{chatSessionId:n,messageId:a}=e;t.info({name:"resumeCompletion",message:"恢复对话生成",payload:{sessionId:n,messageId:"".concat(a),from:"history"}})}onAfterGotFullMessage(){}async onDispose(e){let{chatSessionId:t,messageId:n}=e,a=this.states.snap;!a.close&&a.delta&&await this.services.autoResume({states:this.states,chatSessionId:t,resumeId:n,idSync:this.idSync}),n7.cleanUp({common:this,getParams:this.getGetParams(t)},{allowHint:!0})}}class ap extends au{resolveAssistantMessageId(e){return e.autoResume.idSync.assistantMessageId}resolveUserMessageId(e){return e.autoResume.idSync.userMessageId}async getQuitPromise(){return this.autoResumeDeferred.promise}onBeforeCompletion(e){let{tracker:t}=et(),{chatSessionId:n,messageId:a}=e;t.info({name:"resumeCompletion",message:"恢复对话生成",payload:{sessionId:n,messageId:"".concat(a),from:"streamDispose"}});let r=e.autoResume;this.states.attach(r.states),this.idSync.bindSync(r.idSync)}onAfterGotFullMessage(e,t){let n=e.autoResume,a=t.data.message.parent_id;null!==a&&n.idSync.set.userMessageId(a),n.idSync.set.assistantMessageId(t.data.message.message_id)}async onDispose(e){let{chatSessionId:t,messageId:n}=e,a=this.states.snap;!a.close&&a.delta&&await this.services.autoResume({states:this.states,chatSessionId:t,resumeId:n,idSync:this.idSync}),this.autoResumeDeferred.resolve()}constructor(...e){super(...e),(0,e6._)(this,"autoResumeDeferred",new n0.B)}}n(62100);var ag=n(84975);let am=()=>{let e=e$().format("YYYYMMDD"),t=(0,ag.Z)().replace(/-/g,"").substring(0,16);return"".concat(e,"-").concat(t)};var af=W.ResendScene;let aC=U.NewSSEEventName;class av extends n2{get userMessageId(){return this.idSync.userMessageId}get assistantMessageId(){return this.idSync.assistantMessageId}initFakeMessages(e){let{chatSessionId:t}=e,{sessionService:n,messageService:a}=this.services;n.markSessionAsSending(t);let r=am(),s=n.getLatestSentMessageId(t),o=n6({parent:a.addNewUserMessageCompose({...e,resendInfo:{scene:af.completion,editMessageId:null},clientStreamId:r},{messageId:this.userMessageId,childIds:[this.assistantMessageId],parentMessageId:s,onNoParentMessage:n.addMessageIdToRootBranch,targetIndex:e.targetIndex}),id:this.assistantMessageId,clientStreamId:r,thinkingEnabled:e.thinkingEnabled,searchEnabled:e.searchEnabled});return a.upsertAssistantMessage(t,o),e.keepPrompt||(n.clearSessionPrompt(t),eA(t)),a.enterStatus(t,this.assistantMessageId,W.MessageStatus.WIP),this.generateStateManager=new ao(tl.getResponse(o)||"",{sessionId:t,messageId:o.id}),n.forceScrollToBottom(t),{reqParentId:s,clientStreamId:r}}async execute(e){let{params:t,callbacks:n}=e,{chatSessionId:a}=t,{messageService:r,baseCompletion:s}=this.services,{reqParentId:o,clientStreamId:i}=this.initFakeMessages(t),l=await t.getPowRes();if(!l.success){n.onInterrupted(),n7.onGetPowFail({onHint:this.onHint.bind(this),getParams:this.getGetParams(a),common:this});return}s({...t,challengeResponse:l.res,parentMessageId:o,scene:"completion",clientStreamId:i},{onEvent:e=>{let{event:s}=e;switch(s.event){case aC.delta:n7.onDelta({event:s,common:this,getParams:this.getGetParams(a),onSent:n.onSent});break;case aC.finish:if(eC(this.assistantMessageId)){var o;null===(o=n.onUnsent)||void 0===o||o.call(n)}else r.onMessageComplete(a,this.assistantMessageId);break;case aC.hint:this.onHint(s.data,t);break;case aC.close:n7.onClose(s,{common:this,getParams:this.getGetParams(a)});break;case K.EventNames.requestAborted:case K.EventNames.resumeMessageGotFullMessage:break;case K.EventNames.streamDispose:this.onDispose({params:t,callbacks:n});break;case aC.ready:n7.onReady({event:s,common:this,getParams:this.getGetParams(a)});break;default:(0,eD.vv)(s)}}},{states:this.states})}onHint(e,t){var n;let{messageService:a,sessionService:r}=this.services,{chatSessionId:s}=t;r.markSessionAsIdle(s),a.updateMessageByFn(s,this.userMessageId,t=>{t.hint=e}),e.clearResponse&&a.deleteMessage(s,this.assistantMessageId),null===(n=this.generateStateManager)||void 0===n||n.dispose()}async onDispose(e){let{params:t,callbacks:n}=e,{chatSessionId:a}=t;await this.services.autoResume({states:this.states,chatSessionId:a,resumeId:this.assistantMessageId,idSync:this.idSync}),n7.cleanUp({common:this,getParams:this.getGetParams(a)},{allowHint:!0}),this.states.snap.delta||n.onInterrupted()}constructor(...e){super(...e),(0,e6._)(this,"generateStateManager",void 0),(0,e6._)(this,"states",new ae),(0,e6._)(this,"idSync",new ad({userMessageId:ef(),assistantMessageId:ef()})),(0,e6._)(this,"getGetParams",e=>()=>({chatSessionId:e,statesSnap:this.states.snap}))}}class ax extends n2{async execute(e){let{params:t,callbacks:n}=e,{sessionService:a}=this.services,{agentId:r}=t;if(a.getAgentIsSending(r))return;a.markAgentAsSending(r);let s=await a.createSession(r);if(!s)return;let{session:o}=s;o.title="",o.state=W.SessionStateEnum.completing,o.isHidden=!0,a.addSession(o);let i=new av(this.services),l={...t,chatSessionId:o.id,targetIndex:null};await i.execute({params:l,callbacks:{onSent:()=>{a.updateSessionHidden(o.id,!1),a.markAgentAsIdleAndClearPrompt(r),n.onSent({sessionId:o.id})},onUnsent:()=>{a.markAgentAsIdleKeepPrompt(r),n.onUnsent()},onInterrupted:()=>{tY.error("completionWipNetworkErrorToast"),a.markAgentAsIdleKeepPrompt(r)}}})}}class aS extends n2{async execute(e){let{params:t}=e,n=new av(this.services);await n.execute({params:t,callbacks:{onInterrupted:ty.Z}})}}let aE=U.NewSSEEventName;class ab extends n2{get userMessageId(){return this.idSync.userMessageId}get assistantMessageId(){return this.idSync.assistantMessageId}initFakeMessages(e){let{chatSessionId:t,childMessageId:n}=e,{sessionService:a,messageService:r}=this.services,s=r.getParentMessage(t,n);if(!s)throw Error("cannot find parent message: ".concat(t));let o=am();this.idSync.set.userMessageId(s.id);let i=n6({parent:s,id:this.assistantMessageId,clientStreamId:o,thinkingEnabled:e.thinkingEnabled,searchEnabled:e.searchEnabled});return a.markSessionAsSending(t),r.upsertAssistantMessage(t,i),r.addMessageIdToParent({chatSessionId:t,newMessageId:i.id,onNoParentMessage:()=>0,targetIndex:null}),this.generateStateManager=new ao(tl.getResponse(i)||"",{sessionId:t,messageId:i.id}),a.forceScrollToBottom(t),{parentMessage:s,clientStreamId:o}}async execute(e){let{params:t}=e,{messageService:n,baseCompletion:a}=this.services,{chatSessionId:r,childMessageId:s}=t,{tracker:o}=et();o.info({name:"regenerateMessage",message:"重新生成",payload:{sessionId:r,messageId:String(s)}}),this.recordInitBranchIndex(t);let{clientStreamId:i}=this.initFakeMessages(t),l=await t.getPowRes();if(!l.success){n7.onGetPowFail({onHint:this.onHint.bind(this),getParams:this.getGetParams(r),common:this});return}a({...t,challengeResponse:l.res,parentMessageId:this.userMessageId,scene:"regenerate",clientStreamId:i},{onEvent:e=>{let{event:a}=e;switch(a.event){case aE.delta:this.onDelta(a,t);break;case aE.finish:n.onMessageComplete(r,this.assistantMessageId);break;case aE.hint:this.onHint(a.data,t);break;case aE.ready:n7.onReady({event:a,common:this,getParams:this.getGetParams(r)});break;case aE.close:case K.EventNames.resumeMessageGotFullMessage:case K.EventNames.requestAborted:break;case K.EventNames.streamDispose:this.onDispose(t);break;default:(0,eD.vv)(a)}}},{states:this.states})}recordInitBranchIndex(e){let{chatSessionId:t,childMessageId:n}=e,{messageService:a}=this.services,{index:r}=a.getBranchInfo(t,n);this.initialBranchIndex=r}restoreBranchIndex(e){let{chatSessionId:t,childMessageId:n}=e;if(!eC(this.assistantMessageId))return;let{messageService:a}=this.services,r=a.getParentMessage(t,n);r&&a.updateBranchIndex(t,r.id,this.initialBranchIndex)}onHint(e,t){var n;let{sessionService:a,messageService:r}=this.services,{chatSessionId:s}=t;e.clearResponse&&r.deleteMessage(s,this.assistantMessageId),a.markSessionAsIdle(s),et().withToast(t=>{t.error(e.content)}),null===(n=this.generateStateManager)||void 0===n||n.dispose()}onDelta(e,t){var n;let{chatSessionId:a}=t;null===(n=this.generateStateManager)||void 0===n||n.onDelta(e),n7.onDelta({common:this,onSent:void 0,event:e,getParams:this.getGetParams(a)})}async onDispose(e){let{chatSessionId:t}=e;await this.services.autoResume({states:this.states,chatSessionId:t,resumeId:this.assistantMessageId,idSync:this.idSync}),this.restoreBranchIndex(e),n7.cleanUp({getParams:this.getGetParams(t),common:this},{allowHint:!1})}constructor(...e){super(...e),(0,e6._)(this,"generateStateManager",void 0),(0,e6._)(this,"states",new ae),(0,e6._)(this,"initialBranchIndex",0),(0,e6._)(this,"idSync",new ad({assistantMessageId:ef()})),(0,e6._)(this,"getGetParams",e=>()=>({chatSessionId:e,statesSnap:this.states.snap}))}}var a_=W.ResendScene;let ay=U.NewSSEEventName;class aw extends n2{get userMessageId(){return this.idSync.userMessageId}get assistantMessageId(){return this.idSync.assistantMessageId}initFakeMessages(e){var t;let{sessionService:n,messageService:a}=this.services,{chatSessionId:r,messageId:s}=e;n.markSessionAsSending(r);let o=a.getMessage(r,s);if(!o)throw Error("Cannot find message of id: ".concat(s));a.markMessageAsNotEditing(r,s);let{files:i}=o,l=a.getParentMessage(r,s),d=am(),c=n6({parent:a.addNewUserMessageCompose({...e,files:i,resendInfo:{scene:a_.edit,editMessageId:e.messageId},clientStreamId:d},{messageId:this.userMessageId,childIds:[this.assistantMessageId],parentMessageId:null!==(t=null==l?void 0:l.id)&&void 0!==t?t:null,onNoParentMessage:n.addMessageIdToRootBranch,targetIndex:e.targetIndex}),id:this.assistantMessageId,clientStreamId:d,thinkingEnabled:e.thinkingEnabled,searchEnabled:e.searchEnabled});return a.upsertAssistantMessage(r,c),n.forceScrollToBottom(r),this.generateStateManager=new ao(tl.getResponse(c)||"",{sessionId:r,messageId:c.id}),{clientStreamId:d}}async execute(e){let{params:t,callbacks:n}=e,{messageService:a,baseCompletion:r}=this.services,{chatSessionId:s}=t,{clientStreamId:o}=this.initFakeMessages(t),i=await t.getPowRes();if(!i.success){n7.onGetPowFail({onHint:this.onHint.bind(this),getParams:this.getGetParams(s),common:this});return}r({...t,challengeResponse:i.res,scene:"editMessage",clientStreamId:o},{onEvent:e=>{let{event:r}=e;switch(r.event){case ay.delta:n7.onDelta({event:r,common:this,getParams:this.getGetParams(s),onSent:n.onSent});break;case ay.finish:eC(this.assistantMessageId)||a.onMessageComplete(s,this.assistantMessageId);break;case ay.ready:n7.onReady({common:this,getParams:this.getGetParams(s),event:r});break;case ay.hint:this.onHint(r.data,t);break;case ay.close:n7.onClose(r,{common:this,getParams:this.getGetParams(s)});break;case K.EventNames.resumeMessageGotFullMessage:case K.EventNames.requestAborted:break;case K.EventNames.streamDispose:this.onDispose({params:t});break;default:(0,eD.vv)(r)}}},{states:this.states})}onHint(e,t){var n;let{messageService:a,sessionService:r}=this.services,{chatSessionId:s}=t;r.markSessionAsIdle(s),a.updateMessageByFn(s,this.userMessageId,t=>{t.hint=e}),e.clearResponse&&a.deleteMessage(s,this.assistantMessageId),null===(n=this.generateStateManager)||void 0===n||n.dispose()}async onDispose(e){let{params:t}=e,{chatSessionId:n}=t;await this.services.autoResume({states:this.states,chatSessionId:n,resumeId:this.assistantMessageId,idSync:this.idSync}),n7.cleanUp({getParams:this.getGetParams(n),common:this},{allowHint:!0})}constructor(...e){super(...e),(0,e6._)(this,"generateStateManager",void 0),(0,e6._)(this,"states",new ae),(0,e6._)(this,"idSync",new ad({assistantMessageId:ef(),userMessageId:ef()})),(0,e6._)(this,"getGetParams",e=>()=>({chatSessionId:e,statesSnap:this.states.snap}))}}let aI=U.NewSSEEventName;class aT extends n2{prepare(e){let{sessionService:t,messageService:n}=this.services,{chatSessionId:a,messageId:r}=e,s=this.services.messageService.getParentMessage(a,r);if(!s)throw Error("cannot find parent of: ".concat(a," ").concat(r));this.idSync.set.assistantMessageId(e.messageId),this.idSync.set.userMessageId(s.id),t.markSessionAsSending(a),n.markMessageAsContinuing(a,r,!0);let{tracker:o}=et();o.info({name:"continueCompletion",message:"用户点击了继续生成对话按钮",payload:{sessionId:a,messageId:"".concat(r)}}),this.generateStateManager=new ao(n.getMessageResponse(a,r)||"",{sessionId:a,messageId:r})}execute(e){let{params:t}=e,{baseCompletion:n,messageService:a,sessionService:r}=this.services,{chatSessionId:s,messageId:o}=t;this.prepare(t),n({...t,fallbackToResume:!0,scene:"continue"},{onEvent:e=>{var n,i;let{event:l}=e;switch(l.event){case aI.delta:this.onDelta(l,t);break;case K.EventNames.resumeMessageGotFullMessage:a.completeMessage(t.chatSessionId,t.messageId,l.data.message),r.clearSessionAbortsAndMarkAsIdle(t.chatSessionId),r.requireScrollToBottom(s),null===(n=this.generateStateManager)||void 0===n||n.dispose();break;case aI.finish:a.onMessageComplete(s,o),null===(i=this.generateStateManager)||void 0===i||i.dispose();break;case aI.close:case K.EventNames.requestAborted:break;case K.EventNames.streamDispose:this.onDispose({params:t});break;case aI.hint:et().withToast(e=>{e.error(l.data.content)});break;case aI.ready:n7.onReady({event:l,common:this,getParams:this.getGetParams(t)});break;default:(0,eD.vv)(l)}}},{states:this.states})}onDelta(e,t){var n;let{sessionService:a,messageService:r}=this.services,{chatSessionId:s,messageId:o}=t;if(null===(n=this.generateStateManager)||void 0===n||n.onDelta(e),this.isFirstDelta){this.isFirstDelta=!1;let n=n4(e.data,{responseMessageId:t.messageId});r.upsertAssistantMessage(s,n),a.markSessionCompleting(s),a.forceScrollToBottom(s);return}r.applyDeltaToMessage(e.data,{chatSessionId:s,messageId:o})}async onDispose(e){let{params:t}=e,{chatSessionId:n,messageId:a}=t;await this.services.autoResume({states:this.states,chatSessionId:n,resumeId:a,idSync:this.idSync}),this.services.messageService.markMessageAsContinuing(n,a,!1),n7.cleanUpSimple({common:this,getParams:this.getGetParams(t)})}constructor(...e){super(...e),(0,e6._)(this,"generateStateManager",void 0),(0,e6._)(this,"states",new ae),(0,e6._)(this,"idSync",new ad({})),(0,e6._)(this,"getGetParams",e=>()=>({chatSessionId:e.chatSessionId,statesSnap:this.states.snap})),(0,e6._)(this,"isFirstDelta",!0)}}var ak=W.ResendScene;class aM extends n2{async execute(e){let{sessionId:t,messageId:n}=e,{messageService:a}=this.services,r=a.getMessage(t,n);if(!r)throw Error("cannot resolve message: ".concat(t," ").concat(n));let{resendInfo:s}=r;if(!s)throw Error("resend message without resendInfo");let{getPowRes:o,searchEnabled:i,thinkingEnabled:l}=e,d=r.childIds.at(0);(0,ev.Z)(d)||a.deleteMessage(t,d);let{index:c,isInBranch:u}=a.getBranchInfo(t,n);switch(a.deleteMessage(t,n),s.scene){case ak.completion:{let e=r.files;this.services.fileService.addUploadedFiles(e),await new aS(this.services).execute({params:{chatSessionId:t,refFileIds:r.files.map(e=>e.id),prompt:tl.getUserQuery(r)||"",thinkingEnabled:l,getPowRes:o,searchEnabled:i,targetIndex:u?c:null,keepPrompt:!0}});break}case ak.edit:{let e=s.editMessageId;if((0,ev.Z)(e))throw Error("unexpected editMessageId ".concat(e));await new aw(this.services).execute({callbacks:{onSent:ty.Z},params:{messageId:e,prompt:tl.getUserQuery(r)||"",chatSessionId:t,getPowRes:o,searchEnabled:i,thinkingEnabled:l,targetIndex:c}});break}default:(0,eD.vv)(s.scene)}}}class aj{get nonReactiveStore(){return ec.getState()}addUploadedFiles(e){this.nonReactiveStore.addUploadedFiles(e)}}let aR=function(e){let{stopNetwork:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{getSession:n,transferSessionAbortStatus:a,updateMessage:r}=ej.getState(),{tracker:s}=et();s.info({name:"abortCompletion",message:"停止生成对话",payload:{sessionId:e}});let o=n(e);if(o)for(let n of(o.aborts.length>1&&s.error({name:"abortMeetMultipleFn",message:"停止生成时遇到多个abort方法",payload:{sessionId:e,len:o.aborts.length}}),t&&setTimeout(()=>{for(let e of o.aborts)e();a(e,{clearAborts:!0,toIdle:!0})},6e3),Object.values(o.messageStore))){var i;null!==n.responseMessageId&&tu.shouldExecuteStopStream(n.status)&&(i={chatSessionId:e,messageId:n.responseMessageId},et().http.http.post("/api/v0/chat/stop_stream",{json:{chat_session_id:i.chatSessionId,message_id:i.messageId}})).then(()=>{r(e,n.id,e=>{(null==e?void 0:e.status)===W.MessageStatus.WIP&&(e.status=W.MessageStatus.INCOMPLETE),e.responseMessageId=null})}).catch(t=>{s.error({name:"abortCompletionFailed",message:"停止生成对话失败",payload:s.withError(t,{sessionId:e})})})}},aA=async(e,t)=>{let{getSession:n,deleteSession:a}=ej.getState(),{tracker:r}=et(),s=n(e);(null==s?void 0:s.state)===W.SessionStateEnum.completing&&t(e,{stopNetwork:!0});try{var o;r.info({name:"deleteSessionApi",message:"开始请求delete session接口",payload:{chatSessionId:e}});let{data:{code:t},context:n}=await (o={chatSessionId:e},et().http.http.post("/api/v0/chat_session/delete",{json:{chat_session_id:o.chatSessionId}}).then(e=>{let{context:t,json:n}=e;return{data:{code:n.data.biz_code},context:t}}));r.info({name:"deleteSessionApiOk",message:"请求delete session接口成功",payload:{chatSessionId:e,logId:n.logId}}),t===z.DeleteSessionErrorCode.OK?a(e):r.error({name:"deleteSessionApiFailed",message:"请求delete session接口失败，没有找到session ID",payload:{code:"".concat(t),reason:"sessionNotFound",chatSessionId:e,logId:n.logId}})}catch(t){r.error({name:"deleteSessionApiFailed",message:"请求delete session接口失败，意外错误",payload:r.withError(t,{chatSessionId:e})})}},aN=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{tracker:n,http:a}=et();try{let n=await a.http.post("/api/v0/chat/get_client_streams",{json:{chat_session_id:e.chatSessionId,client_stream_ids:e.clientStreamIds},timeout:t.timeout});if(0!==n.json.data.biz_code)throw n.json.data;return{ok:!0,idList:n.json.data.biz_data.client_streams.map(e=>(null==e?void 0:e.response_message_id)||null)}}catch(t){return n.error({name:"getClientStreamsError",message:"获取clientStreams失败",payload:n.withError(t,{chatSessionId:e.chatSessionId})}),{ok:!1}}},aL=async function(e){let{chatSessionId:t,clientStreamId:n}=e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=await aN({clientStreamIds:[n],chatSessionId:t},a);if(!r.ok)return{ok:!1};let s=r.idList.at(0);return"number"==typeof s?{ok:!0,id:s}:{ok:!1}},aF=async(e,t)=>{let n,a=0;for(;a<t.maxRetry;){if(a++,(n=await aL(e,{timeout:t.requestTimeout})).ok)return n;await (0,eD.fC)(t.retryInterval)}return{ok:!1}};class aO{async getResumeId(e){let{chatSessionId:t,resumeId:n}=e;if(!eC(n))return{ok:!0,id:n};let a=this.getServices().messageService.getMessage(t,n);if(!a)throw Error("cannot find message: ".concat(t," ").concat(n));if(null!==a.responseMessageId)return{ok:!0,id:a.responseMessageId};let{clientStreamId:r}=a;if(!r)return{ok:!1,reason:"noClientStreamId"};let s=await aF({chatSessionId:t,clientStreamId:r},{maxRetry:3,requestTimeout:3e3,retryInterval:2e3});return s.ok?s:{ok:!1,reason:"reqGotNull"}}async execute(e){if(e.states.cannotAutoResume)return;let{getSSEAutoResumeConfig:t,tracker:n}=et(),a=t(),r=await this.getResumeId(e);if(!r.ok){n.info({name:"autoResumeAbort",message:"取消auto resume",payload:{reason:r.reason}});return}let{timeout:s}=a;return aP(new ap(this.getServices()).execute({params:{...e,messageId:r.id,autoResume:e}}),s)}static reportError(e){let{tracker:t}=et();t.error({name:"autoResumeBreak",message:"auto resume崩溃",payload:t.withError(e,{})})}constructor(e){(0,e6._)(this,"getServices",void 0),this.getServices=e}}let aP=(e,t)=>{let{abort:n,getStatesSnap:a,promise:r}=e,s=()=>!a().ready;return new Promise((e,a)=>{setTimeout(()=>{try{s()?(n(),a("autoResumeTimeout: no ready chunk after ".concat(t,"ms"))):r.then(e)}catch(e){a(e)}},t)})},aD=e=>(new aO(e),async e=>{});n(98067);let aB=e=>{var t,n;let a=e.feedbackType===W.MessageFeedback.LIKE?z.MessageFeedbackType.LIKE:e.feedbackType===W.MessageFeedback.DISLIKE?z.MessageFeedbackType.DISLIKE:null;return et().http.http.post("/api/v0/chat/message_feedback",{json:{chat_session_id:e.chatSessionId,message_id:e.messageId,feedback_type:a,feedback_tag:null!==(t=e.feedbackTag)&&void 0!==t?t:void 0,description:null!==(n=e.description)&&void 0!==n?n:void 0}}).then(e=>e.json.data.biz_code===z.HistoryMessagesErrorCode.INVALID_SESSION_ID?{sessionInvalid:!0}:{})},aH=async(e,t,n)=>{if(!ej.getState().getMessage(e,t))return{};let{tracker:a}=et();a.info({name:"feedback",message:"用户反馈",payload:{sessionId:e,messageId:t,feedbackType:""+n.feedbackType,feedbackDescription:""+n.description,feedbackTag:""+n.feedbackTag}});try{let{sessionInvalid:a}=await aB({chatSessionId:e,messageId:t,feedbackType:n.feedbackType,feedbackTag:n.feedbackTag,description:n.description});if(!a)return ej.getState().updateMessage(e,t,e=>{e.feedback=n.feedbackType}),{};return ej.getState().deleteSession(e),{sessionInvalid:a,toastFn:()=>tY.error("sessionDeleted")}}catch(r){return ej.getState().updateMessage(e,t,e=>{e.feedback=null}),a.info({name:"feedback",message:"用户反馈失败",payload:a.withError(r,{sessionId:e,messageId:t,feedbackType:""+n.feedbackType,feedbackDescription:""+n.description,feedbackTag:""+n.feedbackTag})}),{}}};class aV{onStartStream(e,t){let n=this.map.get(e);n?n.push(t):this.map.set(e,[t])}onStreamDispose(e,t){let n=this.map.get(e);n&&this.map.set(e,n.filter(e=>e!==t))}onAbortStream(e){let t=this.map.get(e);t&&t.forEach(e=>e.onUserAborted())}constructor(){(0,e6._)(this,"map",new Map)}}let aU=U.NewSSEEventName;class aW{async createSessionAndCompletion(e,t){let{tracker:n}=et();try{await new ax(this.getServices()).execute({params:e,callbacks:t})}catch(e){n.error({name:"createSessionAndCompletionError",message:"创建session并会话失败",payload:n.withError(e,{})})}}async resend(e){let{tracker:t}=et();try{await new aM(this.getServices()).execute(e)}catch(e){t.error({name:"resendMessageError",message:"重新发送消息失败",payload:t.withError(e,{})})}}async completion(e){let{tracker:t}=et();try{await new aS(this.getServices()).execute({params:{...e,targetIndex:null}})}catch(e){t.error({name:"completionError",message:"普通消息错误",payload:t.withError(e,{})})}}async regenerateMessage(e){let{tracker:t}=et();try{await new ab(this.getServices()).execute({params:e})}catch(e){t.error({name:"regenerateMessageError",message:"重新生成消息错误",payload:t.withError(e,{})})}}async editMessage(e,t){let{tracker:n}=et();try{await new aw(this.getServices()).execute({params:{...e,targetIndex:null},callbacks:t})}catch(e){n.error({name:"editMessageError",message:"编辑消息错误",payload:n.withError(e,{})})}}continueCompletion(e){let{tracker:t}=et();try{return new aT(this.getServices()).execute({params:e})}catch(e){t.error({name:"continueMessageError",message:"继续生成错误",payload:t.withError(e,{})})}}async deleteSession(e){await aA(e,aR)}constructor(e){var t=this;(0,e6._)(this,"callbacks",void 0),(0,e6._)(this,"sessionService",new tX),(0,e6._)(this,"messageService",new tz),(0,e6._)(this,"fileService",new aj),(0,e6._)(this,"streamService",new nG),(0,e6._)(this,"autoResume",aD(()=>this.getServices())),(0,e6._)(this,"sseManualAbortStateManager",new aV),(0,e6._)(this,"getServices",()=>({sessionService:this.sessionService,messageService:this.messageService,fileService:this.fileService,baseCompletion:this.baseCompletion,autoResume:this.autoResume})),(0,e6._)(this,"resumeCompletion",e=>{let{tracker:t}=et();try{new ah(this.getServices()).execute({params:e})}catch(e){t.error({name:"resumeMessageError",message:"恢复会话错误",payload:t.withError(e,{})})}}),(0,e6._)(this,"baseCompletion",(e,t,n)=>{this.sessionService.markSessionAsSending(e.chatSessionId),this.sseManualAbortStateManager.onStartStream(e.chatSessionId,n.states);let{abort:a}=this.streamService.startStream(e,{onEvent:r=>{let{tracker:s}=et(),{event:o,context:i}=r,{event:l,data:d}=o,c=n.states;if(at(l,c),nv(o,{states:c,context:i,scene:e.scene}),l===aU.title){this.sessionService.updateSessionTitle(e.chatSessionId,d.content,"SYSTEM");return}if(l===aU.updateSession){this.sessionService.updateSessionUpdatedAt(e.chatSessionId,d.updatedAt);return}if(l===aU.close&&("miniprogram"===et().platform&&setTimeout(()=>{s.info({name:"SSEMiniprogramAutoAbort",message:"小程序主动关闭请求",payload:{}}),a()},5e3),this.sessionService.clearSessionAbortsAndMarkAsIdle(e.chatSessionId)),l===K.EventNames.invalidSessionId){this.sessionService.deleteSession(o.data.sessionId),this.callbacks.onSessionInvalid({sessionId:o.data.sessionId,toastFn:()=>tY.error("sessionDeleted")});return}if(l===K.EventNames.streamDispose&&this.sseManualAbortStateManager.onStreamDispose(e.chatSessionId,n.states),l!==K.EventNames.nonStreamError){try{t.onEvent({event:o,context:i})}catch(e){s.error({name:"baseCompletionOnEventError",message:"事件处理出错",payload:s.withError(e,{event:o.event,data:JSON.stringify(o.data)})})}l===aU.finish&&this.sessionService.clearSessionAbortsAndMarkAsIdle(e.chatSessionId)}},onProtocolViolation:()=>{let{tracker:t}=et();t.error({name:"SSENetProtocolViolation",message:"SSE ready之前出现多次解析失败",payload:{}}),tY.error("protocolViolationToast",{duration:5e3}),a(),this.sessionService.markSessionAsIdle(e.chatSessionId)},onMuted:e=>{let{muteUntil:t}=e;ej.getState().setMuted({isMuted:!0,muteUntil:t})}});return this.sessionService.addAbort(e.chatSessionId,a),{abort:a}}),(0,e6._)(this,"abortCompletion",e=>{aR(e),this.sseManualAbortStateManager.onAbortStream(e)}),(0,e6._)(this,"triggerScrollToBottom",function(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&(n?t.sessionService.forceScrollToBottom(e):t.sessionService.requireScrollToBottom(e))}),(0,e6._)(this,"feedbackMessage",aH),this.callbacks=e}}let aG=(0,eX.createContext)({chatController:null});aG.displayName="ChatContext";let az=()=>{let{chatController:e}=(0,eX.useContext)(aG);if(!e)throw Error("useChatController must be used within a ChatProvider");return e},aZ=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];function aq(e){let t=Math.floor(Math.log(e)/Math.log(1024)),n=aZ[t],a=e/Math.pow(1024,t),r=Number.isInteger(a)?Math.floor(a).toString():a.toFixed(2).replace(/\.?0+$/,"");return{value:r,unit:n,formatStr:"".concat(r).concat(n)}}let aK=e=>{let{searchEnabled:t}=e;return t?43008:61440};class aY{constructor(){(0,e6._)(this,"hooks",{useBranchUsedTokenCount:e=>{let{sessionId:t}=e;return ej(e=>{if(!t)return 0;let n=e_.getLatestMessageId(e,t);if(null===n)return 0;let a=e.getMessage(t,n);return(null==a?void 0:a.accumulatedTokenUsage)||0})},useBranchAndProcessingFilesTokenCount:e=>ec(t=>t.getFilesTokenCount(e))+this.hooks.useBranchUsedTokenCount(e),useIsProcessingTokenCountExceeded:(e,t)=>{let{searchEnabled:n}=t;return this.hooks.useBranchAndProcessingFilesTokenCount(e)>aK({searchEnabled:n})},useMaxTokenNewFilesAllowed:(e,t)=>{let{searchEnabled:n}=t,a=this.hooks.useBranchUsedTokenCount(e);return aK({searchEnabled:n})-a},useIsFirstCompletion:e=>{let{sessionId:t}=e;return ej(e=>{if(!t)return!0;let n=e_.getLatestMessageId(e,t);if(null===n)return!0;let a=e.getMessage(t,n);return(null==a?void 0:a.accumulatedTokenUsage)===0})}})}}async function aX(e){let{fileId:t}=e;return(await et().http.http.get("/api/v0/file/preview",{query:{file_id:t}})).json.data.biz_data.url}n(70538),n(78272),n(5265),n(16326),n(62173),n(17410);let a$=new Set(["docx","xlsx","pptx","doc","xls","ppt"]),aQ=new Set(["pdf"]),aJ=new Set(["xlsx","xls","csv","tsv","tab"]),a1=new Set(["png","jpg","jpeg","svg","svgz","bmp","gif","webp","ico","xbm","dib","pjp","tif","pjpeg","avif","apng","tiff","jfif","jpe","jp2","jpc","jpf","jpx","mpeg","mpg","pbm","pcx","pfm","pgm","ppm","psd","pxr","qoi","ras","rgb","rgba","sgi","tga","vda","vst","wmf","xpm"]),a0=["jpg","png","jpeg","svg","gif","webp","bmp","apng","ico"],a2=(o=null,()=>null!==o?o:o=new Promise(e=>{let t=new Image;t.onerror=()=>e(!1),t.onload=()=>e(!0),t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="}).catch(()=>!1));class a3{dispose(){this.subscription.unsubscribe()}static getIsImageExt(e){return a1.has(e.toLowerCase())}static getIsPdfExt(e){return aQ.has(e.toLowerCase())}static getIsTableExt(e){return aJ.has(e.toLowerCase())}listenPreview(e){return this.previewListeners.add(e),()=>{this.previewListeners.delete(e)}}getIsValidServerFile(e){let{status:t}=e;return z.fileParseStatusMeaning[t].isFinished}getPreviewType(e,t){if(!this.getIsValidServerFile(e))return null;let{fileName:n}=e,a=eB(n,"lower"),r=a$.has(a),s=a1.has(a),o=t(a),i=aQ.has(a);return r?null:o?"image":s?null:i?"pdf":"text"}initSupportPreviewImageExts(){this.nonreactiveStore.addSupportPreviewImageExts(a0),a2().then(e=>{e&&this.nonreactiveStore.addSupportPreviewImageExts(["avif"])})}get nonreactiveStore(){return this.usePreviewStore.getState()}async previewFile(e){let{tracker:t}=et(),n=this.getPreviewType(e,this.nonreactiveStore.getIsSupportedPreviewImage);if(!n)return{success:!0};let{id:a}=e,r=()=>{this.nonreactiveStore.setCurrentPreviewFileId(a),this.previewListeners.forEach(e=>e())};ti.next({method:"openPreview",args:null});let s=this.nonreactiveStore.getPreviewInfo(a);if(s&&a6(s))return t.info({name:"previewFileReuseUrl",message:"预览文件复用地址",payload:{type:n,fileName:e.fileName,id:a}}),r(),{success:!0};try{let t=await aX({fileId:a});return this.nonreactiveStore.setPreviewInfo(a,{url:t,expireAt:a4(t),type:n,name:e.fileName}),r(),{success:!0}}catch(r){return this.closePreview(),t.error({name:"previewFileGetUrlFailed",message:"获取预览文件地址失败",payload:t.withError(r,{type:n,fileName:e.fileName,id:a})}),{success:!1,error:r}}}closePreview(){this.nonreactiveStore.setCurrentPreviewFileId(null)}matchCurrentPreviewFile(e){return this.nonreactiveStore.currentPreviewFileId===e.id}constructor(e){(0,e6._)(this,"usePreviewStore",void 0),(0,e6._)(this,"previewListeners",new Set),(0,e6._)(this,"subscription",void 0),(0,e6._)(this,"hooks",{usePreviewType:e=>{let t=this.usePreviewStore(e=>e.getIsSupportedPreviewImage);return this.getPreviewType(e,t)},useCurrentPreviewInfo:()=>{let e=this.usePreviewStore(e=>e.currentPreviewFileId);return this.usePreviewStore(t=>e?t.getPreviewInfo(e):null)},useIsShowPreview:()=>!!this.hooks.useCurrentPreviewInfo()}),this.usePreviewStore=e,this.initSupportPreviewImageExts(),this.subscription=ti.subscribe(e=>{let{method:t}=e;"openSearchView"===t&&this.closePreview()})}}let a6=e=>{let{expireAt:t}=e;return t-Date.now()>6e5},a4=e=>{let t=new URL(e).searchParams.get("Expires");return t?1e3*parseInt(t):Date.now()+144e5},a5=()=>({previewUrlMap:{},currentPreviewFileId:null,supportPreviewImageExts:[]}),a9=()=>(0,Y.Ue)()((0,X.n)((e,t)=>({...a5(),setPreviewInfo(t,n){e(e=>{e.previewUrlMap[t]=n})},getPreviewInfo:e=>t().previewUrlMap[e]||null,setCurrentPreviewFileId(t){e(e=>{e.currentPreviewFileId=t})},addSupportPreviewImageExts(t){e(e=>{e.supportPreviewImageExts=Array.from(new Set([...e.supportPreviewImageExts,...t]))})},getIsSupportedPreviewImage:e=>t().supportPreviewImageExts.includes(e)}))),a7=(0,eX.createContext)({previewController:null}),a8=e=>{let{children:t,location:n}=e,a=re();(0,eX.useEffect)(()=>{a.closePreview()},[n,a]),(0,eX.useEffect)(()=>()=>{a.dispose()},[a]);let r=(0,eX.useMemo)(()=>({previewController:a}),[a]);return(0,to.jsx)(a7.Provider,{value:r,children:t})},re=()=>{let e=(0,eX.useRef)();return e.current||(e.current=new a3(a9())),e.current};a7.displayName="PreviewContext";let rt=()=>{let{previewController:e}=(0,eX.useContext)(a7);if(!e)throw Error("usePreviewController must be used within a PreviewProvider");return e},rn=(0,eX.createContext)({getTokenCountController:()=>{throw Error("getTokenCountController is not implemented")}});rn.displayName="TokenCountContext";let ra=()=>{let{getTokenCountController:e}=(0,eX.useContext)(rn);return e()},rr=()=>+new Date;class rs{constructor(){(0,e6._)(this,"versionHelper",{getGuardedFrontendVersion:e=>e&&e.match(/^fv-\d+/)?e:ro})}}let ro="fv-0",ri=()=>"fv-2",rl={users_current:"/users/current",users_settings:"/users/settings",character_detail:"/character/detail",character_mine:"/character/mine",download_export_history:"/download_export_history"};function rd(){let{http:e}=et();return e.http.get("/api/v0/users/settings").then(e=>{let{context:t,json:n}=e;return{data:{training_allowed:n.data.biz_data.training_allowed},context:t}})}function rc(e){let{http:t}=et();return t.http.post("/api/v0/users/update_settings",{json:e})}async function ru(e,t){let n=await rh(e,t);if("sessionInvalid"in n)return n;let{bizData:a,context:r,cacheInfo:s}=n,o={},i={};for(let e in a.chat_messages.forEach(e=>{i[e.message_id]=e;let t="".concat(e.parent_id),n=o[t];n||(n=o[t]=[]),n.push(e.message_id)}),o){let t=o[e];null==t||t.sort((e,t)=>e-t)}let l=[],d=rp(a);for(;d;){let e=i[d];if(!e)break;l.push(d),d=e.parent_id}l.reverse();let c=0;if(l.length>0){let e=l[0];c=o["".concat(null)].indexOf(e)}let u=a.chat_messages.map(e=>{let t=o[e.message_id]||[],n=Math.max(t.findIndex(e=>l.includes(e)),0);return tW(e,{childIds:t||[],currentChildIndex:n})}),h={};return u.forEach(e=>{h[e.id]=e}),{context:r,data:{session:{id:a.chat_session.id,messageStore:h,title:a.chat_session.title,seqId:a.chat_session.seq_id,aborts:[],prompt:"",state:W.SessionStateEnum.idle,rootBranchIndex:c,rootBranchIds:o["".concat(null)]||[],scrollToBottomTrigger:0,forceScrollToBottomTrigger:0,updatedAt:1e3*a.chat_session.updated_at,agent:W.AgentId.CHAT,routeId:a.route_id,titleType:a.chat_session.title_type,agentId:W.AgentId.CHAT,isHidden:!1}},cacheInfo:s}}n(49601);let rh=async(e,t)=>{var n,a,r;let s=await (null===(n=t.cache)||void 0===n?void 0:n.get({key:e.chatSessionId,frontendVersion:t.frontendVersion})),o=await et().http.http.get("/api/v0/chat/history_messages",{query:{chat_session_id:e.chatSessionId,cache_version:(null==s?void 0:s.version)||null}});if(o.json.data.biz_code===z.HistoryMessagesErrorCode.INVALID_SESSION_ID)return null===(a=t.cache)||void 0===a||a.delete(e.chatSessionId),{sessionInvalid:!0};let i=o.json.data.biz_data,l={hitCache:!!s,isCacheValid:i.cache_valid,reqVersion:(null==s?void 0:s.version)||null,frontendVersion:(null==s?void 0:s.frontendVersion)||""};return i.cache_valid||null===(r=t.cache)||void 0===r||r.set({data:{data:i,version:i.chat_session.version,key:e.chatSessionId},frontendVersion:t.frontendVersion}),{bizData:{...o.json.data.biz_data,chat_messages:i.cache_valid&&(null==s?void 0:s.data.chat_messages.length)?s.data.chat_messages:i.chat_messages},context:o.context,cacheInfo:l}},rp=e=>{var t;return null!==(t=e.chat_session.current_message_id)&&void 0!==t?t:Math.max(...e.chat_messages.map(e=>e.message_id))};class rg{get nonreactiveStore(){return ej.getState()}resumeLatestMessageAsNeed(e){let t=e_.getLatestSentMessageId(this.nonreactiveStore,e);if((0,ev.Z)(t))return;let n=this.nonreactiveStore.getSession(e);if(n)for(let t of Object.values(n.messageStore))t.status===W.MessageStatus.WIP&&this.resumeCompletion({chatSessionId:e,messageId:t.id})}constructor(e){(0,e6._)(this,"resumeCompletion",void 0),(0,e6._)(this,"renameSession",async(e,t)=>{let{tracker:n}=et(),a=()=>tY.error("renameFailed");try{n.info({name:"renameSessionApi",message:"开始请求rename session接口",payload:{chatSessionId:e,title:t}});let{context:{logId:r},data:{success:s,bizCode:o,bizMsg:i}}=await function(e){let{chatSessionId:t,title:n}=e;return et().http.http.post("/api/v0/chat_session/update_title",{json:{chat_session_id:t,title:n}}).then(e=>{let{context:t,json:n}=e,a=n.data.biz_code;return{data:{success:0===a,bizCode:a,bizMsg:n.data.biz_msg},context:t}})}({chatSessionId:e,title:t});if(!s&&o===z.HistoryMessagesErrorCode.INVALID_SESSION_ID)return this.nonreactiveStore.deleteSession(e),tY.error("sessionDeleted"),n.error({name:"renameSessionApiFailed",message:"重命名session失败，会话已删除",payload:{chatSessionId:e,reason:"sessionDeleted"}}),{deleted:!0};if(!s)return n.error({name:"renameSessionApiFailed",message:"重命名session失败，意外错误",payload:n.withError(Error("biz_code: ".concat(o,", biz_msg: ").concat(i)),{chatSessionId:e,title:t})}),a(),{};return n.info({name:"renameSessionApiOk",message:"请求rename session接口成功",payload:{chatSessionId:e,title:t,logId:r}}),this.nonreactiveStore.updateSession(e,e=>{e.title=t,e.titleType="USER",e.updatedAt=Date.now()}),{}}catch(r){return n.error({name:"renameSessionApiFailed",message:"重命名session失败，意外错误",payload:n.withError(r,{chatSessionId:e,title:t})}),a(),{}}}),(0,e6._)(this,"fetchSessionHistory",async(e,t)=>{let n=this.nonreactiveStore.getSession(e),a=!!n;if(n&&(n.state===W.SessionStateEnum.completing||n.state===W.SessionStateEnum.fetchingHistory||n.state===W.SessionStateEnum.sending)||(null==n?void 0:n.state)===W.SessionStateEnum.historyError&&!(null==t?void 0:t.isManual))return{exist:!0,gotSession:a,sessionDeleted:!1};this.nonreactiveStore.updateSession(e,e=>{e.state=W.SessionStateEnum.fetchingHistory});let{tracker:r}=et();try{r.info({name:"fetchHistoryApi",message:"开始请求fetchHistory接口",payload:{chatSessionId:e,cacheVersion:null}});let n=await ru({chatSessionId:e},{cache:null==t?void 0:t.cache,frontendVersion:ri()});if("sessionInvalid"in n)return r.error({name:"fetchHistoryInvalid",message:"获取对话历史记录不存在",payload:{chatSessionId:e}}),tY.error(a?"sessionDeleted":"sessionNotExist"),this.nonreactiveStore.deleteSession(e),{exist:!1,gotSession:a,sessionDeleted:!0};let{data:{session:s},context:{logId:o},cacheInfo:i}=n;return r.info({name:"fetchHistoryApiOk",message:"请求fetchHistory接口成功",payload:{logId:o,chatSessionId:e,...i}}),this.nonreactiveStore.getSession(e)?this.nonreactiveStore.updateSession(e,e=>{e.state!==W.SessionStateEnum.historyError&&e.state!==W.SessionStateEnum.fetchingHistory&&e.state!==W.SessionStateEnum.idleWithNoHistory||Object.assign(e,$(s,["routeId","messageStore","rootBranchIds","rootBranchIndex","seqId","title"])),e.state=W.SessionStateEnum.idle}):this.nonreactiveStore.addSession(s),this.resumeLatestMessageAsNeed(s.id),{exist:!0,gotSession:a,sessionDeleted:!1}}catch(t){return r.error({name:"fetchHistoryApiFailed",message:"fetchHistory请求失败,未知错误",payload:r.withError(t,{chatSessionId:e})}),this.nonreactiveStore.updateSession(e,e=>{e.state=W.SessionStateEnum.historyError}),r.error({name:"fetchSessionHistoryFailed",message:"获取 session 历史消息失败",payload:r.withError(t,{sessionId:e})}),{exist:!1,gotSession:a,sessionDeleted:!1}}}),this.resumeCompletion=e}}let rm=(0,eX.createContext)({sessionHistoryController:null}),rf=e=>{let{children:t,resumeCompletion:n}=e,a=(0,eX.useRef)(null);a.current||(a.current=new rg(n));let r=(0,eX.useMemo)(()=>({sessionHistoryController:a.current}),[]);return(0,to.jsx)(rm.Provider,{value:r,children:t})};rf.displayName="SessionHistoryProvider";let rC=()=>{let{sessionHistoryController:e}=(0,eX.useContext)(rm);if(!e)throw Error("cannot useSessionHistoryController outside sessionHistoryContext");return e};n(43536);var rv=n(35604),rx=n(192),rS=n(10090);let rE=e=>{let t=ao.mayLoading(e.generateState),n=tl.getSearchFragments(e).some(e=>e.status===z.SearchMessageFragmentStatus.WIP);return!!t&&!n&&"dot"},rb=e=>{var t;if(!tl.getDeepSearchKnownFragments(e).length)return"dot";if(!e.hasPendingFragment)return!1;switch(null===(t=e.fragments.at(-1))||void 0===t?void 0:t.type){case"THINK":return"search";case"SEARCH":return"think";default:return"dot"}},r_=e=>!(!e.isContinuing||tu.isWIP(e.status))&&!!ao.mayLoading(e.generateState)&&"dot",ry=(e,t)=>ej(n=>{let a=n.getMessage(e,t);if(!a)return!1;let r=r_(a);return r||!!tu.isWIP(a.status)&&(a.thinkingEnabled?rb(a):rE(a))}),rw=(e,t)=>ej(n=>{let a=n.getMessage(e,t);return a?a.role:null}),rI=e=>e.role===W.MessageRole.USER?tl.getUserQuery(e):tl.getResponse(e),rT=(e,t)=>ej(n=>{let a=n.getMessage(e,t);return a?rI(a):null}),rk=(e,t)=>ej(n=>{var a;let r=n.getMessage(e,t);return r?null===(a=tl.getThinkFragments(r).at(0))||void 0===a?void 0:a.elapsedSecs:null}),rM=(e,t)=>ej(n=>{let a=n.getMessage(e,t);return a?a.hint:null}),rj=(e,t,n)=>{let{sessionId:a,messageId:r}=n;return e.trim().replace(/\[citation:\d+\]/g,e=>{var n;let s=Number(null===(n=e.match(/\d+/))||void 0===n?void 0:n[0]);return t.getSearchResult({sessionId:a||"",messageId:r||0},s)?"":e})},rR=(e,t)=>ej(n=>e_.getMessageBranchCount(n,e,t)),rA=(e,t)=>ej(n=>e_.getBranchRestoreScrollPosKey(n,e,t)),rN=(e,t)=>ej(n=>e_.getMessageBranchIndex(n,e,t)),rL=(e,t)=>ej(n=>{let a=n.getMessage(e,t);return a?a.status:W.MessageStatus.OK}),rF=(e,t)=>ej(n=>rB(n,e,t)),rO=(e,t)=>ej(n=>{let a=n.getMessage(e,t);return a?a.feedback:null}),rP=(e,t)=>ej(n=>{if(!rB(n,e,t))return!1;let a=n.getSession(e);return!!a&&[W.SessionStateEnum.sending,W.SessionStateEnum.completing].includes(a.state)}),rD=e=>{let{messageId:t,sessionId:n,style:a}=e;return ej((0,eQ.N)(e=>tl.getStandardTipFragments(e.getMessage(n,t)).filter(e=>e.style===a)))},rB=(e,t,n)=>{let a=e.getMessage(t,n);return!!a&&a.status===W.MessageStatus.INCOMPLETE&&a.role===W.MessageRole.ASSISTANT&&!a.childIds.length},rH=(e,t)=>ej(n=>e_.getIsLastShowingUserMessage(n,e,t)),rV=(e,t)=>ej(n=>{let a=n.getMessage(e,t);return!(!a||r_(a))&&!tu.isWIP(a.status)}),rU=(e,t)=>ej(n=>{let a=n.getMessage(e,t);return!!a&&tu.isWIP(a.status)}),rW=(e,t)=>{let n=(0,eX.useRef)(!1),a=ej.getState().getMessage(e,t);if(a){let e=tu.isWIP(a.status);n.current=e}else n.current=!1;return n},rG=(e,t)=>ej(n=>{var a,r;let s=n.getMessage(e,t);return null!==(r=null==s?void 0:null===(a=s.files)||void 0===a?void 0:a.length)&&void 0!==r?r:null}),rz=(e,t)=>ej(n=>{let a=n.getMessage(e,t);return!!a&&a.banRegenerate}),rZ=(e,t)=>ej(n=>{let a=n.getMessage(e,t);return!(!(null==a?void 0:a.thinkingEnabled)||tl.getHasTemplateResponse(a))&&tl.getDeepSearchKnownFragments(a).length}),rq=(e,t)=>ej(n=>{let a=n.getMessage(e,t);return!!a&&tl.getSearchFragments(a).length&&tu.isFinished(a.status)}),rK=(e,t)=>ej((0,rS.$e)(n=>{let a=n.getMessage(e,t);return((null==a?void 0:a.fragments)||[]).filter(tl.isDeepSearchFragment).map(e=>(0,rv.Z)(e,["id","type"]))},(e,t)=>e.length===t.length&&e.every((n,a)=>t[a].id===e[a].id))),rY=(e,t,n)=>ej(a=>{let r=a.getMessage(e,t);return r?r.fragments.find(e=>e.id===n):null}),rX=(e,t)=>ej(n=>{let a=n.getMessage(e,t);return!!(a&&tu.isWIP(a.status)&&a.thinkingEnabled)&&(!a.fragments.at(-1)||!tl.getHasMainResponse(a)&&!tl.getHasTemplateResponse(a))}),r$=(e,t)=>ej(n=>{let a=n.getMessage(e,t);if(!a)return!1;let r=tl.filterFragments(a,tl.types.INFO_TYPES).some(e=>e.content),s=tl.getStandardTipFragments(a).length,o=tl.getSearchFragments(a).length,i=tl.getThinkFragments(a).some(e=>e.content);return r||s||o||i}),rQ=(e,t)=>{let n=td();return ej(a=>{let r=a.getMessage(e,t);if(!r)return"";if(tl.getResponseFragments(r).length){let e=tl.getThinkFragments(r).reduce((e,t)=>(t.elapsedSecs||0)+e,0);return n("messageThinkDuration")({n:Math.max(Math.round(e),1)})}if(r.status!==W.MessageStatus.WIP)return n("messageThinkStopped");let s=tl.getDeepSearchKnownFragments(r).at(-1);if(!s||"TIP"===s.type)return n("messageThinking");switch(s.type){case"THINK":if(r.hasPendingFragment)return n("deepSearchSearching");return n("messageThinking");case"SEARCH":if(s.status===z.SearchMessageFragmentStatus.WIP)return n("deepSearchSearching");return n("messageThinking");default:return(0,eD.vv)(s),n("messageThinking")}})},rJ=(e,t,n)=>{let a=ej.getState().getMessage(e,t);return a?rj(rI(a)||"",n,{sessionId:e,messageId:t}):""},r1=(e,t,n)=>ej((0,eQ.N)(a=>{let r=a.getMessage(e,t);return tl.getSearchQueries(r,e=>e.id===n)})),r0=(e,t,n)=>ej((0,eQ.N)(a=>{let r=a.getMessage(e,t);return"number"==typeof n?tl.getSearchResults(r,e=>e.id===n):tl.getSearchResults(r,()=>!0)})),r2=e=>{let t=td();return e<2?t("messageSearchSummary"):t("messageSearchSummaries")({n:e})},r3=(e,t,n)=>ej(a=>{if("loading"===n)return!0;let r=a.getMessage(e,t);if(!r||!tu.isWIP(r.status)||r.hasPendingFragment)return!1;let s=null==r?void 0:r.fragments.at(-1);return(null==s?void 0:s.type)==="THINK"&&s.id===n}),r6=(e,t)=>({useMessageRole:()=>rw(e,t),useMessageContent:()=>rT(e,t),useThinkingElapsedSecs:()=>rk(e,t),useMessageStatus:()=>rL(e,t),getCopyContent:(0,rx.Z)(rJ,e,t),useBanRegenerate:()=>rz(e,t),useShowLoading:()=>ry(e,t),useIsWIP:()=>rU(e,t),useIsWIPRef:()=>rW(e,t),useShowContinue:()=>rF(e,t),useContinueButtonDisabled:()=>rP(e,t),useMessageHint:()=>rM(e,t),useMessageFeedback:()=>rO(e,t),useShowAssistantBottomThings:()=>rV(e,t),useBranchCount:()=>rR(e,t),useBranchIndex:()=>rN(e,t),useIsLastUserMessage:()=>rH(e,t),useBranchRestoreScrollPosKey:()=>rA(e,t),useTips:n=>rD({messageId:t,sessionId:e,style:n}),useFilesCount:()=>rG(e,t),fragment:{useFragment:(0,rx.Z)(rY,e,t),useIsAnyInfoExistInMessage:()=>r$(e,t),useIsWIPThinking:(0,rx.Z)(r3,e,t)},deepSearch:{useSearchSitesText:r2,useShowDeepSearchGroup:()=>rZ(e,t),useDeepSearchGroupTitle:()=>rQ(e,t),useFragmentsInfoInDeepSearch:()=>rK(e,t),useSearchQueries:(0,rx.Z)(r1,e,t),useSearchResults:(0,rx.Z)(r0,e,t),useIsDeepSearching:(0,rx.Z)(rX,e,t),useShowSearchSitesSummary:()=>rq(e,t)}}),r4=()=>({shareMode:"idle",selectedMessages:[],shareContents:{}}),r5=(0,Y.Ue)()((0,er.mW)((0,X.n)((e,t)=>({...r4(),toggleSessionShareSelection:(t,n)=>{e(e=>{e.currentSessionId!==t&&(e.selectedMessages=[]),e.currentSessionId=t,e.shareMode=n?"selecting":"idle",n||(e.selectedMessages=[])})},toggleMessageSelection:(t,n)=>{e(e=>{let a=e.selectedMessages.includes(t);n&&!a&&e.selectedMessages.push(t),!n&&a&&(e.selectedMessages=e.selectedMessages.filter(e=>e!==t))})},exitSelection:()=>{e(e=>{e.shareMode="idle",e.selectedMessages=[]})},setShareContent:(t,n)=>e(e=>{e.shareContents[t]=n}),getShareContent:e=>t().shareContents[e]})),{enabled:ey(),name:"deepChat.useShareStore"}));function r9(e){return"share-".concat(e)}function r7(e){return!(e.status===W.MessageStatus.CONTENT_FILTER||e.status===W.MessageStatus.WIP||eC(e.id))}let r8=(e,t)=>r5(n=>n.currentSessionId===e&&n.selectedMessages.includes(t)),se={useSessionIsWaitingSelection:e=>r5(t=>void 0!==e&&t.currentSessionId===e&&"selecting"===t.shareMode),useMessageSelectedForShare:r8,useSelectedMessagesCount:e=>r5(t=>void 0===e||t.currentSessionId!==e?0:t.selectedMessages.length),useSelectedMessages:e=>r5(t=>void 0===e||t.currentSessionId!==e?[]:t.selectedMessages),useShareContent:e=>r5(t=>{if(void 0!==e)return t.shareContents[e]}),useMessageSelectStatus:(e,t)=>{let n=r8(e,t);return ej((0,eQ.N)(a=>{let r=a.getMessage(e,t),s=a.getMatchingMessage(e,t);return r&&s?{selected:n,selectable:r7(r)&&r7(s)}:{selected:!1,selectable:!1}}))},useSelectableMessageIds:e=>ej((0,eQ.N)(t=>e?(e_.getMessagePath(t,e)||[]).filter(n=>{let a=t.getMessage(e,n),r=t.getMatchingMessage(e,n);return a&&r&&r7(a)&&r7(r)}):[])),useIsShareSelecting:()=>r5(e=>"selecting"===e.shareMode)},st=()=>{let e=az();return{deleteSession:e.deleteSession,abortCompletion:e.abortCompletion,startCompletion:e.completion.bind(e),createSessionAndStartCompletion:e.createSessionAndCompletion.bind(e),editMessage:e.editMessage.bind(e),regenerateMessage:e.regenerateMessage.bind(e),continueCompletion:e.continueCompletion.bind(e),resendMessage:e.resend.bind(e),feedbackMessage:e.feedbackMessage.bind(e)}};class sn{get plainStore(){return r5.getState()}get plainChatStore(){return ej.getState()}toggleShareSelection(e,t){this.plainStore.toggleSessionShareSelection(e,t)}toggleMessageSelection(e,t){let n=this.plainStore;if(!n.currentSessionId)return;let a=this.plainChatStore.getMatchingMessage(n.currentSessionId,e);a&&(n.toggleMessageSelection(a.id,t),n.toggleMessageSelection(e,t))}async createShare(e,t){return(await function(e){let{chatSessionId:t,messageIds:n}=e;return et().http.http.post("/api/v0/share/create",{json:{chat_session_id:t,message_ids:n}}).then(e=>{let{context:t,json:n}=e;if(n.data.biz_code!==z.CreateShareErrorCode.OK)throw{code:n.data.biz_code};return{data:{shareId:n.data.biz_data.share_id},context:t}})}({chatSessionId:e,messageIds:t})).data.shareId}async fetchShareContent(e){if(!this.plainStore.getShareContent(e))try{let t=(await function(e){let{shareId:t}=e;return et().http.http.get("/api/v0/share/content",{query:{share_id:t}}).then(e=>{let{context:n,json:a}=e;if(a.data.biz_code!==z.GetShareContentErrorCode.OK)throw{code:a.data.biz_code};let{messages:r}=a.data.biz_data,s=r.map(e=>{var t;return tW(e,{childIds:[null===(t=r.find(t=>t.parent_id===e.message_id))||void 0===t?void 0:t.message_id].filter(eD.DX),currentChildIndex:0})}),o=a.data.biz_data.title,i=a.data.biz_data.chat_session_id,l=Object.fromEntries(s.map(e=>[e.id,{...e,status:W.MessageStatus.OK}]));return{data:{title:o,messages:s,chatSessionId:i,fakeSession:{...en({id:r9(t),seq_id:0,title:o,title_type:"USER",updated_at:0}),isHidden:!0,messageStore:l,agentId:"chat",state:W.SessionStateEnum.idle}},context:n}})}({shareId:e})).data;this.plainStore.setShareContent(e,t),t.messages.forEach(e=>{this.plainChatStore.addMessage(t.fakeSession.id,e)}),this.plainChatStore.addSession(t.fakeSession)}catch(t){if(t&&"object"==typeof t&&"code"in t)switch(t.code){case z.GetShareContentErrorCode.SHARE_DOES_NOT_EXIST:tY.error("sessionNotExist");return;case z.GetShareContentErrorCode.SHARE_IS_DELETED_OR_BANNED:case z.GetShareContentErrorCode.ORIGINAL_SESSION_DELETED:tY.error("sessionDeleted");return}tY.error("hintNetworkError"),this.plainChatStore.addSession({...en({id:r9(e),seq_id:0,title:"",title_type:"USER",updated_at:0}),isHidden:!0,messageStore:{},agentId:"chat",state:W.SessionStateEnum.historyError})}}async listShares(e,t){return(await function(e){let{count:t,lteDate:n}=e;return et().http.http.get("/api/v0/share/list",{query:{count:t,lte_date:n}}).then(e=>{let{context:t,json:n}=e;return{data:{shares:n.data.biz_data.shares.map(e=>({shareId:e.share_id,createdAt:e.created_at,chatSessionId:e.chat_session_id,hint:e.hint}))},context:t}})}({count:e,lteDate:t})).data.shares}async deleteShare(e){return(await function(e){let{shareId:t}=e;return et().http.http.post("/api/v0/share/delete",{json:{share_id:t}}).then(e=>{let{context:t,json:n}=e;return{data:{code:n.data.biz_code},context:t}})}({shareId:e})).data.code}async forkShare(e){return(await function(e){let{shareId:t}=e;return et().http.http.post("/api/v0/share/fork",{json:{share_id:t}}).then(e=>{let{context:t,json:n}=e;if(n.data.biz_code!==z.ForkShareErrorCode.OK)throw{code:n.data.biz_code};return{data:{chatSessionId:n.data.biz_data.chat_session_id},context:t}})}({shareId:e})).data.chatSessionId}constructor(){(0,e6._)(this,"exitSelection",this.plainStore.exitSelection),(0,e6._)(this,"removeShareContent",e=>{this.plainChatStore.deleteSession(r9(e))})}}let sa=(0,eX.createContext)({shareController:null}),sr=e=>{let{children:t}=e,n=ss(),a=(0,eX.useMemo)(()=>({shareController:n}),[n]);return(0,to.jsx)(sa.Provider,{value:a,children:t})},ss=()=>{let e=(0,eX.useRef)();return e.current||(e.current=new sn),e.current},so=()=>{let e=(0,eX.useContext)(sa).shareController;if(!e)throw Error("not under ShareProvider");return e}},75929:function(e,t,n){let a;n.d(t,{Wx:()=>m,$q:()=>f,Zu:()=>g,$Y:()=>C}),n(36631);let r="__widgetRemoved",s="cf-overlay",o="cf-turnstile",i=()=>{},l=(new Promise(e=>{i=e}),null),d="",c=null,u=null,h=!1,p=!1;function g(e){let{sitekey:t,tracker:n,logger:a,ignoreFailed:r}=e;h=r,d=t,c=n,u=a}function m(){let e,t;if(p)return;if(!d)throw Error("[@deepseek/cloudflare-turnstile]: 未设置 sitekey");if(!c)throw Error("[@deepseek/cloudflare-turnstile]: 未设置 tracker");p=!0,!function(e){let t=document.createElement("div");t.id=s,t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.right="0",t.style.bottom="0",t.style.backgroundColor="rgba(0, 0, 0, 0.7)",t.style.border="1px solid grey",t.style.zIndex="10000",t.style.display="none",t.innerHTML='<p style="color: white; text-align: center; margin-top: 50vh;">One more step before you proceed...</p><div style="display: flex; flex-wrap: nowrap; align-items: center; justify-content: center;" id="'.concat(e,'"></div>'),document.body.appendChild(t)}(o),a=new Promise((n,a)=>{e=n,t=a});let n=document.createElement("script");n.src="https://challenges.cloudflare.com/turnstile/v0/api.js?onload=onloadTurnstileCallback",n.defer=!0,n.onerror=e=>{null==t||t(e),null==c||c.error({name:"__cloudflareTurnstileLoadFailed",message:"cloudflare turnstile 加载失败",payload:c.withError(e,{ignoreFailed:"".concat(h)})})},document.body.appendChild(n),window.onloadTurnstileCallback=function(){null==e||e(),null==c||c.info({name:"__cloudflareTurnstileLoadOk",message:"cloudflare turnstile 加载成功",payload:{ignoreFailed:"".concat(h)}})}}async function f(){let e=document.getElementById(s);if(!e)throw Error("[@deepseek/cloudflare-turnstile]: 未找到 overlay");if(e.style.display="block",!document.getElementById(o))throw Error("[@deepseek/cloudflare-turnstile]: 未找到 widget");return await a,new Promise((t,n)=>{null==u||u.info("开始渲染 cloudflare turnstile widget");try{l=window.turnstile.render("#cf-turnstile",{sitekey:d,"error-callback":e=>{null==c||c.error({name:"__cloudflareTurnstileChallengeFailed",message:"获取 cloudflare turnstile token 失败，code: ".concat(e),payload:{code:e,ignoreFailed:"".concat(h)}}),h||t(),C(),n(e)},callback:function(a,r){if(null==c||c.info({name:"__cloudflareTurnstileChallengeOk",message:"获取到 cloudflare turnstile token，".concat(a,"，preClearanceObtained: ").concat(r),payload:{token:a,ignoreFailed:"".concat(h)}}),r){e.style.display="none";let n=l;n&&window.turnstile.remove(n),t()}else null==c||c.error({name:"__cloudflareTurnstileChallengeFailed",message:"获取 cloudflare turnstile token 失败，preClearanceObtained 为 false",payload:{code:"[PRE_CLEARANCE_FALSE]",ignoreFailed:"".concat(h)}}),e.style.display="none",n(Error("Unable to obtain pre-clearance"));C()}})}catch(e){null==c||c.error({name:"__cloudflareTurnstileRenderFailed",message:"cloudflare render turnstile 失败",payload:c.withError(e,{ignoreFailed:"".concat(h)})})}})}function C(){null==u||u.info("停止 cloudflare turnstile 后台刷新 token 任务"),l&&(window.turnstile.remove(l),i({code:r,action:"unexpected",reason:r,status:"failed"}),l=null,new Promise(e=>{i=e}))}},30866:function(e,t,n){n.d(t,{G6:()=>o,L:()=>i,Qj:()=>u,di:()=>r,jU:()=>a,mL:()=>d,qW:()=>l,qn:()=>c}),n(36631);let a="undefined"!=typeof document&&"undefined"!=typeof window,r="undefined"!=typeof wx&&wx&&"object"==typeof wx&&"getSystemInfoSync"in wx,s=a&&"chrome"in window;a&&navigator.userAgent.includes("Firefox");let o=a&&navigator.userAgent.includes("Safari")&&!s,i=!!a&&(/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!window.MSStream,l=a&&navigator.userAgent.match(/(MicroMessenger|micromessenger);?/i),d=a&&navigator.platform.toLowerCase().startsWith("mac")||i;Math.random().toString(36).slice(2);let c=a&&location.search.includes("ios_auth"),u=(()=>{try{return Error("Test error",{cause:Error("Cause error")}).cause instanceof Error}catch(e){return!1}})()},10090:function(e,t,n){let a;n.d(t,{of:()=>p,Cc:()=>o,uX:()=>f,$e:()=>m,Vb:()=>d,UL:()=>c,$0:()=>s,II:()=>i,$z:()=>l,mJ:()=>u}),n(82538);var r=n(15629);function s(e){let t=(0,r.useRef)(e);return t.current=e,(0,r.useCallback)(function(){for(var e=arguments.length,n=Array(e),a=0;a<e;a++)n[a]=arguments[a];return t.current(...n)},[])}function o(e){let t=(0,r.useRef)(null),n=(0,r.useRef)(),a=(0,r.useCallback)(a=>{var r;null===(r=n.current)||void 0===r||r.call(n),t.current=a,n.current=e(a)},[e]);return Object.assign(a,{ref:t}),a}function i(e){let t=(0,r.useRef)(e);return t.current=e,t}function l(e){let{rootMargin:t,threshold:n,rootRef:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=s(e);return o((0,r.useCallback)(e=>{if(!e||"undefined"==typeof IntersectionObserver)return;let r=new IntersectionObserver(e=>{var t;let[n]=e;i(null!==(t=null==n?void 0:n.isIntersecting)&&void 0!==t&&t,e)},{root:null==a?void 0:a.current,rootMargin:t,threshold:n});return r.observe(e),()=>{r.disconnect()}},[i,t,a,n]))}function d(e){let{value:t,shouldDelay:n=()=>!0,delay:a,defaultValue:s}=e,o=n(t),i=(0,r.useRef)(s),l=(0,r.useReducer)(e=>e+1,0)[1];return(0,r.useEffect)(()=>{if(!o)return i.current=t,()=>{};{let e=setTimeout(()=>{i.current=t,l()},a);return()=>clearTimeout(e)}},[t,a,o,l]),o?i.current:t}function c(e){let{value:t,shouldDelay:n=()=>!0,defaultValue:a}=e,o=n(t),i=(0,r.useRef)(a),l=(0,r.useReducer)(e=>e+1,0)[1],d=s(()=>{i.current=t,l()});return(0,r.useEffect)(()=>{o||(i.current=t)},[t,o]),{value:o?i.current:t,trigger:d}}function u(e,t,n){let{showDelay:a,minDuration:s}=t,[,o]=(0,r.useReducer)(e=>e+1,0),i=(0,r.useRef)(!1),l=(0,r.useRef)(!1);(0,r.useMemo)(()=>{l.current=!1},[n]),(0,r.useEffect)(()=>{l.current||(i.current=!1,l.current=!0,o())},[n]);let c=e=>e,u=d({value:l.current,shouldDelay:c,delay:a,defaultValue:!1}),h=d({value:u,shouldDelay:c,delay:s,defaultValue:!1}),p=e&&u||i.current&&!h;return i.current=i.current||p,p}n(78140),n(63393);var h=n(69629);try{a=new Intl.Segmenter("en",{granularity:"grapheme"})}catch{a=null}function p(e){let{text:t,finished:n}=e,s=(0,r.useRef)(t),o=(0,r.useReducer)(e=>e+1,0)[1],i=(0,r.useRef)(),l=(0,r.useRef)(t),d=(0,r.useCallback)(function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];s.current=e,t&&o()},[o]);n&&(s.current=t);let c=(0,r.useCallback)(()=>{var e;null===(e=i.current)||void 0===e||e.dispose(),i.current=function(e){let{windowSize:t=10,preserveRate:n=.8,initialText:r="",onTextGrow:s}=e,o=[r],i=[],l=[],d=null,c=1,u=500,p=.04,g=0;return{feed:e=>{i=function(e){let t=a?Array.from(a.segment(e),e=>e.segment):[...e],n=[];for(let e=0;e<t.length;e++){let a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=t,a="[citation:";for(let t=0;t<a.length;t++,n++)if(e[n]!==a[t])return!1;for(;n<e.length&&e[n]>="0"&&e[n]<="9";)n++;return"]"===e[n]&&n}(t,e)||function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=t,a=e[n];if("-"===a||"*"===a||"#"===a){for(;n<e.length&&e[n]===a;)n++;return n-1}if("`"===a&&"`"===e[n+1]&&"`"===e[n+2]){for(n+=3;n<e.length&&/[a-zA-Z]/.test(e[n]);)n++;if("\n"===e[n])return n}return!1}(t,e)||e;n.push(t.slice(e,a+1).join("")),e=a}return n}(e),o.push(...i);let r=Date.now(),m=(l=[...l.slice(-t),r]).slice(1).map((e,t)=>e-l[t]);m.length>0&&(u=(0,h.Z)(m)/m.length,p=Math.max((o.length-c)*n,o.length-c-i.length,o.length-c-32,1)/u),g=Date.now(),d||function e(){if(c>=o.length){d=null;return}let t=Date.now(),n=p*(t-g);n>=1&&(c=Math.min(o.length,c+n),s(o.slice(0,c).join("")),g=t),d=requestAnimationFrame(e)}()},dispose(){d&&cancelAnimationFrame(d)}}}({initialText:t,onTextGrow:d}),d(t,!1)},[d,t]);return(0,r.useEffect)(()=>{if((t.startsWith(l.current)?t.length-l.current.length:0)>0){var e;null===(e=i.current)||void 0===e||e.feed(t.slice(l.current.length))}l.current=t},[t]),(0,r.useEffect)(()=>{n&&c()},[n,c]),i.current&&t.startsWith(l.current)||c(),s.current}n(98067),n(36631);let g=Symbol("useZustandCompare");function m(e,t){let n=(0,r.useRef)(g);return a=>{let r=e(a);return n.current===g?(n.current=r,r):(function(e){if(e===g)throw Error("Unexpected default value")}(n.current),t(n.current,r)?n.current:n.current=r)}}let f=e=>{let{content:t,maxWait:n=2e3,enable:a,timeConsumingRate:s,getNow:o}=e,i=Math.max(1,s),l=(0,r.useRef)(0),d=(0,r.useRef)(0),c=(0,r.useRef)(o);c.current=o;let[u,h]=(0,r.useState)(t);return((0,r.useMemo)(()=>{l.current=c.current()},[u]),(0,r.useEffect)(()=>{let e=c.current(),t=e-l.current;d.current=Math.min(n,t*i)+e},[n,i,u]),(0,r.useEffect)(()=>{c.current()>=d.current&&h(t)},[t]),a)?u:t}},96723:function(e,t,n){n.d(t,{OS:()=>h,g6:()=>c,Wc:()=>d,Lz:()=>g});var a=n(16446);n(36631);var r=n(87169),s=n(60442);let o=()=>({preparing:!1,pair:{challenge:null,answer:null,updatedAt:Date.now()}}),i=()=>(0,r.Ue)()((0,s.n)((e,t)=>({...o(),clear:(n,a)=>{let{pair:r}=t();(r.challenge||r.answer)&&(n.info({name:"powCleared",message:"工作量证明清除: ".concat(a),payload:{scene:a}}),e(o()))},clearAll:()=>{e(o())}})));n(82538),n(1227);let l=(e,t)=>async function(){for(var n=arguments.length,a=Array(n),r=0;r<n;r++)a[r]=arguments[r];try{return await e(...a)}catch(e){throw t(e,...a),e}},d=(e,t)=>["X-DS-Guest-PoW-Response",t(JSON.stringify({salt:e.salt,answer:e.answer}))],c=(e,t,n)=>["X-DS-PoW-Response",n(JSON.stringify({algorithm:e.algorithm,challenge:e.challenge,salt:e.salt,answer:e.answer,signature:e.signature,target_path:t}))];class u{get tracker(){return this.getTracker()}constructor(e){(0,a._)(this,"getTracker",void 0),(0,a._)(this,"doSolveChallenge",void 0),(0,a._)(this,"expireTimeOffset",void 0),(0,a._)(this,"getChallengeWrapped",void 0),(0,a._)(this,"useProofOfWorkStore",void 0),(0,a._)(this,"scene",void 0),(0,a._)(this,"clearAll",()=>{this.useProofOfWorkStore.getState().clearAll()}),(0,a._)(this,"verifySolveExpired",()=>{let{pair:e}=this.useProofOfWorkStore.getState();if(!e.answer||!e.challenge)return"empty";let{expireAfter:t}=e.challenge,{updatedAt:n}=e;return n+t-this.expireTimeOffset>Date.now()?"valid":"expired"}),(0,a._)(this,"calcImmediatelyNotStore",async()=>{this.tracker.info({name:"calcPowImmediatelyNotStore",message:"立即计算工作量证明: ".concat(this.scene),payload:{scene:this.scene}});try{let e=await this.getChallengeWrapped(),{challengeResponse:t,duration:n}=await this.doSolveChallenge(e);return this.tracker.info({name:"calcPowImmediatelyNotStoreSuccess",message:"立即计算工作量证明成功: ".concat(this.scene),payload:{duration:n,scene:this.scene,difficulty:e.difficulty,answer:t.answer}}),{res:t,duration:n}}catch(e){return this.tracker.error({name:"proofOfWorkFailed",message:"准备工作量证明失败: ".concat(this.scene),payload:this.tracker.withError(e,{scene:this.scene,source:"calcImmediatelyNotStore"})}),null}}),(0,a._)(this,"retrieveAnswer",()=>{if(this.useProofOfWorkStore.getState().preparing)return this.calcImmediatelyNotStore();let e=this.verifySolveExpired();if("valid"!==e)return this.useProofOfWorkStore.getState().clear(this.tracker,this.scene),this.calcImmediatelyNotStore();let{pair:{answer:t,challenge:n}}=this.useProofOfWorkStore.getState();return(this.useProofOfWorkStore.getState().clear(this.tracker,this.scene),Number.isInteger(null==t?void 0:t.res.answer))?(this.tracker.info({name:"retrievePowAnswer",message:"获取工作量证明: ".concat(this.scene),payload:{expireInfo:e,expireAt:(null==n?void 0:n.expireAt)||-1,scene:this.scene,answer:(null==t?void 0:t.res.answer)||-1,expireAfter:(null==n?void 0:n.expireAfter)||-1}}),t):(this.tracker.error({name:"retrievePowAnswerFailed",message:"获取工作量证明失败: ".concat(this.scene,",重新计算"),payload:this.tracker.withError(Error("invalid answer"),{scene:this.scene})}),this.calcImmediatelyNotStore())}),this.getTracker=e.getTracker,this.doSolveChallenge=e.doSolveChallenge,this.expireTimeOffset=e.expireTimeOffset,this.scene=e.scene||"completion_like",this.getChallengeWrapped=l(e.getChallengeApi,e=>{this.tracker.error({name:"getChallengeFailed",message:"获取工作量证明失败",payload:this.tracker.withError(e,{scene:this.scene})})}),this.useProofOfWorkStore=i()}}class h{get tracker(){return this.getTracker()}async getChallengeAndSolve(e){let{url:t}=e;this.tracker.info({name:"getGuestPowChallengeAndSolve",message:"guest pow 获取",payload:{url:t}});let n=await this.getChallengeWrapped(e);try{let{challengeResponse:e,duration:a}=await this.solveChallenge(n);return this.tracker.info({name:"guestPowSolved",message:"guest pow 计算完成",payload:{url:t,duration:a,difficulty:n.difficulty,answer:e.answer}}),{challenge:n,challengeResponse:e,duration:a}}catch(e){throw this.tracker.error({name:"guestProofOfWorkFailed",message:"准备工作量证明失败",payload:this.tracker.withError(e,{url:t})}),e}}constructor(e){(0,a._)(this,"solveChallenge",void 0),(0,a._)(this,"getTracker",void 0),(0,a._)(this,"getChallengeWrapped",void 0),this.solveChallenge=e.solveChallenge,this.getTracker=e.getTracker,this.getChallengeWrapped=l(e.getChallengeApi,(e,t)=>{let{url:n}=t;this.tracker.error({name:"guestGetChallengeFailed",message:"guest pow 获取失败",payload:this.tracker.withError(e,{url:n})})})}}let p=["completion_like","upload_file"];class g{constructor(e){for(let t of((0,a._)(this,"services",new Map),(0,a._)(this,"getTracker",void 0),(0,a._)(this,"retrieveAnswer",async e=>{let t=this.services.get(e);if(!t)throw Error("Scene ".concat(e," not found"));return t.retrieveAnswer()}),(0,a._)(this,"clearAllPow",()=>{for(let e of(this.getTracker().info({name:"clearAllPow",message:"清理所有Pow",payload:{}}),this.services.values()))e.clearAll()}),this.getTracker=e.getTracker,p))this.services.set(t,new u({...e,scene:t,getChallengeApi:()=>e.getChallengeByScene(t)}))}}},52640:function(e,t,n){let a,r;n.d(t,{EP:()=>f,g6:()=>s.g6,xN:()=>d});var s=n(96723);n(36631),n(70538),n(78272),n(5265),n(16326),n(62173),n(17410),n(82538);var o=n(30866);let i=()=>{if(!window.Worker)throw Error("Worker is not supported");return new Worker(new URL(n.p+n.u("318"),n.b),Object.assign({},{type:"module"},{type:void 0}))},l=async e=>c(e,i()),d=async e=>l(e),c=async(e,t)=>{t.postMessage({type:"pow-challenge",challenge:e});let n=performance.now(),a=await new Promise((e,n)=>{t.onmessage=a=>{if(h(a)){n(o.Qj?Error("Worker error",{cause:a.data.error}):a.data.error),t.terminate();return}if(u(a)){e(a.data),t.terminate();return}},t.onerror=e=>{n(Error("Worker error: ".concat(e.message," ").concat(e.filename,":").concat(e.lineno,":").concat(e.colno))),t.terminate()}}),r=performance.now();return{challengeResponse:a.answer,duration:r-n}},u=e=>"pow-answer"===e.data.type,h=e=>"pow-error"===e.data.type;n(54235),n(48773),n(84011),n(96141),n(93078),n(8286),n(51093),n(79300),n(69279),n(12821),n(48981),n(84426),n(36244),n(2550),("undefined"!=typeof TextEncoder?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}}).encodeInto;let p="undefined"!=typeof TextDecoder?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};async function g(e,t){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,t)}catch(t){if("application/wasm"!=e.headers.get("Content-Type"))console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t);else throw t}let n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}{let n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}async function m(e){if(void 0!==a)return a;void 0!==e&&(Object.getPrototypeOf(e)===Object.prototype?{module_or_path:e}=e:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),void 0===e&&(e=new URL(n(8880),n.b));let t=function(){let e={};return e.wbg={},e}();("string"==typeof e||"function"==typeof Request&&e instanceof Request||"function"==typeof URL&&e instanceof URL)&&(e=fetch(e));let{instance:r,module:s}=await g(await e,t);return a=r.exports,m.__wbindgen_wasm_module=s,a}"undefined"!=typeof TextDecoder&&p.decode(),new URL(n(8880),n.b);let f=e=>new s.Lz({...e,doSolveChallenge:d,expireTimeOffset:6e4})},15838:function(e,t,n){var a,r,s,o;n.d(t,{Ts:()=>a,WN:()=>i,bF:()=>l,IY:()=>r,nR:()=>u,Ag:()=>d});let i="[unset]",l=Object.freeze({withToken:!0,tokenSource:"none",startTime:-1,duration:-1,path:"",logId:i,mayMissingApiCode:!1,unauthorizedReason:null,id:-1,isSse:!1,shouldWaitSse:!1}),d=e=>{let{platform:t,version:n,locale:a}=e;return{"x-client-platform":t,"x-client-version":n,"x-client-locale":a}};(s=a||(a={}))[s.OK=0]="OK",s[s.MISSING_TOKEN=40002]="MISSING_TOKEN",s[s.INVALID_TOKEN=40003]="INVALID_TOKEN",s[s.IP_ACCESS_RESTRICTED=40029]="IP_ACCESS_RESTRICTED",s[s.USER_IS_BANNED=40012]="USER_IS_BANNED",s[s.MUTED=50006]="MUTED",s[s.POW_HEADER_ERROR=40300]="POW_HEADER_ERROR",s[s.INVALID_POW_RESPONSE=40301]="INVALID_POW_RESPONSE",(o=r||(r={}))[o.OK=0]="OK",n(82538);let c=["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE"],u={cookieBannerRegions:["GB","US",...c],raw:{UnitedStatesOfAmerica:"US",UnitedKingdom:"GB",EuropeanUnionCodes:c}}},37918:function(e,t,n){n.d(t,{Se:()=>u,AO:()=>v,Bf:()=>C,v5:()=>g}),n(82538);var a=n(82070),r=n(78769),s=n(15838),o=n(30866),i=n(70423);n(63393);let l=0;function d(e){e.length>=1e3&&(e=e.slice(e.length-500,e.length),l+=e.length-500+1)}let c=e=>{let t=(0,i.Xy)(e);return t&&"object"!=typeof t?{error_wrap:t}:t};function u(e){let{staticEnv:t,lylaAdapter:n,customEventsApi:i}=e,u=function(e){let{channel:t}=e,n=[],a=!1;switch(t){case"console":return{debug:console.debug,info:console.info,warn:console.warn,error:console.error,switchToConsoleChannel(e){}};case"queue":return{debug(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(a){console.debug(...t);return}n.push({level:"debug",args:t}),d(n)},info:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(a){console.info(...t);return}n.push({level:"info",args:t}),d(n)},warn:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(a){console.warn(...t);return}n.push({level:"warn",args:t}),d(n)},error:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(a){console.error(...t);return}n.push({level:"error",args:t}),d(n)},switchToConsoleChannel(e){a||(console.log("[@deepseek/tracker]: ".concat("debugPanel"===e?"Debug 面板打开":"未知原因","，切换到 console channel")),l>0&&console.log("[@deepseek/tracker]: 队列过长，丢弃了 "+l+" 条消息"),a=!0,n.forEach(e=>{let{level:t,args:n}=e;console[t](...n)}),n=[])}}}}({channel:o.jU||o.di?t.channel:"console"}),h=(0,a.H)({onEvent(e){let{level:t,event:n,options:{consoleOnlyArgs:a=[]}={}}=e,{name:r,message:s,payload:o}=n;"debug"!==t&&(null==i||i({event:{level:t,eventMessage:s,eventName:r,payload:o}}));let l="info"===t?"color: blue;":"warn"===t?"color: orange;":"debug"===t?"color: grey;":"";void 0!==o?u[t]("%c[".concat(r,"]:%c ").concat(s),l,"",{payload:o},...a):u[t]("%c[".concat(r,"]:%c ").concat(s),l,"",...a)}}).mergePayloadObjectWith(i?{__appVersion:t.appVersion,__commitId:t.commitId}:{__nodeEnv:t.nodeEnv,__deployEnv:t.deployEnv,__appVersion:t.appVersion,__commitId:t.commitId,__userAgent:t.userAgent,__referrer:t.referrer}),{isLylaError:p}=(0,r.w)(n,{context:s.bF}),g=(e,t)=>{if(u.error(e),p(e)){var n,a;return Object.assign({__error:{name:e.name,message:e.message,stack:e.stack,cause:e.cause,error:c(e.error)||null,logId:e.context.logId,httpStatus:"".concat(null!==(a=null===(n=e.response)||void 0===n?void 0:n.status)&&void 0!==a?a:-1)}},t)}{let n=c(e)||{};return n.name||(n.name=""),n.message||(n.message=""),n.stack||(n.stack=""),n.cause||(n.cause=""),Object.assign({__error:n},t)}};return h.withError=g,{tracker:h,logger:{debug(e,t){h.debug({name:"__log",message:e,options:{consoleOnlyArgs:null==t?void 0:t.consoleOnlyArgs}})},info(e,t){h.info({name:"__log",message:e,options:{consoleOnlyArgs:null==t?void 0:t.consoleOnlyArgs}})},warn(e,t){h.warn({name:"__log",message:e,options:{consoleOnlyArgs:null==t?void 0:t.consoleOnlyArgs}})},error(e,t){h.error({name:"__log",message:e,options:{consoleOnlyArgs:null==t?void 0:t.consoleOnlyArgs}})}},switchToConsoleChannel:u.switchToConsoleChannel,withError:g}}n(1227),n(16841),n(70538),n(78272),n(5265),n(16326),n(62173),n(17410);let h="dsp__location",p="dsp__host",g=e=>{let t=m(),n=f(t);return"object"!=typeof e||null===e?{dsp__abnormal_payload:"string"==typeof e?e:JSON.stringify(e),dsp__payload_type:typeof e,[h]:t,[p]:n}:Object.fromEntries([...Object.entries(e).map(e=>{let[t,n]=e;return[t.startsWith("_")?"dsp".concat(t):"ds_".concat(t),"string"==typeof n?n:JSON.stringify(n)]}),[h,t],[p,n]])},m=()=>{try{if("undefined"!=typeof window&&window.location)return window.location.href}catch(e){}return""},f=e=>{if(!e)return"";try{return new URL(e).host}catch(e){return""}},C=["__httpRequest","__httpResponse","__pageVisibilityChange","__getIpFromHtmlOk","__log"],v=e=>{if("__globalError"!==e.eventName)return!1;let{payload:t}=e;if(!S(t))return!1;let n=x(t);return!!n&&E(n)},x=e=>{if("filename"in e&&"string"==typeof e.filename&&e.filename)return e.filename;if(!("__error"in e&&S(e.__error)))return null;let t=e.__error;return"stack"in t&&"string"==typeof t.stack?t.stack:null},S=e=>"object"==typeof e&&null!==e,E=e=>e.includes("extension://")},58764:function(e,t,n){n.d(t,{F:()=>a});let a="ds"},64486:function(e,t,n){n.d(t,{G:()=>s});let a="undefined"!=typeof document&&"undefined"!=typeof window,r=a&&"chrome"in window,s=a&&navigator.userAgent.includes("Safari")&&!r},395:function(e,t,n){n.d(t,{P5:()=>s,hj:()=>o,yI:()=>r});var a=n(15629);function r(e,t,n){let r=(0,a.useRef)(e);return n&&(r.current=t),r}let s=e=>"string"==typeof e?e:"number"==typeof e?String(e):"<ReactNode />";function o(){let e=(0,a.useRef)(!1),t=(0,a.useRef)(!1);return(0,a.useLayoutEffect)(()=>(e.current=!0,()=>{t.current=!0}),[]),{isMountedRef:e,isUnmountedRef:t}}},85125:function(e,t,n){n.d(t,{l:()=>a});function a(e,t){return n=>{e&&("function"==typeof e?e(n):e.current=n),t&&("function"==typeof t?t(n):t.current=n)}}},55736:function(e,t,n){n.d(t,{C:()=>s}),n(63393);var a=n(15629);let r=[];function s(e){let t=(0,a.useRef)(null),n=(0,a.useMemo)(()=>{if(t.current){let e=r.indexOf(t.current);e>-1&&r.splice(e,1)}if(!e)return 0;let n=1024;return r.length&&(n=r[r.length-1]+1),r.push(n),t.current=n,n},[e]);return(0,a.useEffect)(()=>()=>{if(t.current){let e=r.indexOf(t.current);e>-1&&r.splice(e,1)}},[]),n}},722:function(e,t,n){n.d(t,{A:()=>l}),n(82538);var a=n(23279),r=n(15629),s=n(23331),o=n(58764),i=n(64486);function l(e){let{className:t,theme:n,style:l,render:d,domRef:c,children:u,_type:h="link",...p}=e,g={...l,"--a-border-radius":null==n?void 0:n.borderRadius,"--a-text-color":null==n?void 0:n.textColor,"--a-box-shadow-color-focus":null==n?void 0:n.boxShadowColorFocus},m=(0,s.Z)("".concat(o.F,"-a"),h&&"".concat(o.F,"-a--").concat(h),t),f=(0,r.useRef)(null),[C,v]=(0,r.useState)(!1),x=function(){let[e,t]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{t(!0)},[]),e}(),S=(0,a.jsx)("span",{"aria-hidden":"true",tabIndex:i.G?C?-1:0:x?-1:0,style:{position:"fixed",userSelect:"none",msUserSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none",opacity:0,width:0,height:0,display:"block"},onFocus:i.G?()=>{var e;null===(e=f.current)||void 0===e||e.focus()}:void 0}),E=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.useCallback)(e=>{t.forEach(t=>{"function"==typeof t?t(e):t&&(t.current=e)})},t)}(c,f),b=e=>{var t,n;i.G&&(e.preventDefault(),null===(n=f.current)||void 0===n||n.focus()),null==p||null===(t=p.onMouseDown)||void 0===t||t.call(p,e)},_=e=>{var t;v(!0),null==p||null===(t=p.onFocus)||void 0===t||t.call(p,e)},y=e=>{var t;v(!1),null==p||null===(t=p.onBlur)||void 0===t||t.call(p,e)};return d?(0,a.jsx)(a.Fragment,{children:d({...p,ref:E,onFocus:_,onBlur:y,onMouseDown:b,style:g,className:m,children:(0,a.jsxs)(a.Fragment,{children:[S,u]})})}):(0,a.jsxs)("a",{...p,onFocus:_,onBlur:y,onMouseDown:b,ref:E,style:g,className:m,children:[S,u]})}n(22677)},17353:function(e,t,n){n.d(t,{z:()=>d}),n(82538);var a=n(23279),r=n(23331),s=n(15629),o=n(10090),i=n(34979),l=n(58764);function d(e){let{className:t,children:n,shape:d="rect",variant:c="filled",type:u="primary",icon:h,block:p,disabled:g,size:m="m",style:f,loading:C,loadingDelay:v=0,onClick:x,theme:S,domProps:E,domRef:b,component:_}=e,y=(0,o.II)(C||g),w=(0,s.useCallback)(()=>{!y.current&&(null==x||x())},[x,y]),[I,T]=(0,s.useState)(!1);(0,s.useEffect)(()=>{if(0!==v&&C){let e=window.setTimeout(()=>{T(!0)},v);return()=>{window.clearTimeout(e)}}},[C,v]);let k=0===v?C:I,M=b||(0,s.useRef)(null),j=null!=n,R=(0,s.useMemo)(()=>({...f,"--button-ring-color":null==S?void 0:S.ringColor,"--ds-button-color":null==S?void 0:S.color,"--button-text-color":null==S?void 0:S.textColor,"--button-font-size":null==S?void 0:S.fontSize,"--button-line-height":null==S?void 0:S.lineHeight,"--button-height":null==S?void 0:S.height,"--button-padding":null==S?void 0:S.padding,"--button-border-color":null==S?void 0:S.borderColor,"--button-border-radius":null==S?void 0:S.borderRadius,"--button-icon-margin":null==S?void 0:S.iconMargin,"--ds-button-hover-color":null==S?void 0:S.hoverColor,"--ds-button-hover-text-color":null==S?void 0:S.hoverTextColor,"--ds-secondary-button-color":null==S?void 0:S.secondaryButtonColor,"--ds-bordered-secondary-button-color":null==S?void 0:S.borderedSecondaryColor,"--ds-secondary-button-hover-color":null==S?void 0:S.secondaryButtonHoverColor,"--ds-button-bordered-hover-color":null==S?void 0:S.borderedHoverColor,"--ds-text-primary-button-color":null==S?void 0:S.textPrimaryColor}),[f,S]);return(0,a.jsxs)(_||"div",{...E,ref:M,role:"button",className:(0,r.Z)("".concat(l.F,"-button"),"".concat(l.F,"-button--").concat(u),"".concat(l.F,"-button--").concat(c),"".concat(l.F,"-button--").concat(d),p&&"".concat(l.F,"-button--block"),"".concat(l.F,"-button--").concat(m),g&&"".concat(l.F,"-button--disabled"),t),style:R,onClick:w,onKeyDown:e=>{if("Enter"===e.key){var t;null===(t=M.current)||void 0===t||t.click()}},tabIndex:g?void 0:0,children:[h||k?(0,a.jsx)("div",{className:(0,r.Z)("".concat(l.F,"-button__icon"),!j&&"".concat(l.F,"-button__icon--last-child")),children:k?(0,a.jsx)(i.g,{}):h}):null,n]})}n(40514)},62443:function(e,t,n){n.d(t,{P:()=>i,m:()=>d});var a=n(23279),r=n(15360),s=n(95830);function o(){return(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24",children:(0,a.jsx)("g",{fill:"none",children:(0,a.jsx)("path",{d:"M4.397 4.554l.073-.084a.75.75 0 0 1 .976-.073l.084.073L12 10.939l6.47-6.47a.75.75 0 1 1 1.06 1.061L13.061 12l6.47 6.47a.75.75 0 0 1 .072.976l-.073.084a.75.75 0 0 1-.976.073l-.084-.073L12 13.061l-6.47 6.47a.75.75 0 0 1-1.06-1.061L10.939 12l-6.47-6.47a.75.75 0 0 1-.072-.976l.073-.084l-.073.084z",fill:"currentColor"})})})}function i(e){return(0,a.jsx)(s.h,{...e,children:(0,a.jsx)(o,{})})}function l(){return(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",children:[(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.314.687a.97.97 0 0 1 0 1.373L2.059 9.315A.97.97 0 1 1 .686 7.943L7.941.687a.97.97 0 0 1 1.373 0z",fill:"currentColor"}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M.686.685a.97.97 0 0 1 1.373 0l7.255 7.256A.97.97 0 0 1 7.94 9.314L.686 2.058a.97.97 0 0 1 0-1.373z",fill:"currentColor"})]})}function d(e){return(0,a.jsx)(s.h,{...e,children:(0,a.jsx)(r.J,{size:12,children:(0,a.jsx)(l,{})})})}},78368:function(e,t,n){n.d(t,{C:()=>d});var a=n(15629),r=n(23279),s=n(58764),o=n(722);n(63393),n(82538);let i=/[a-zA-Z\d.\-_]+@[a-zA-Z\d.\-_]+.com/g,l=/(\*\*(.+)\*\*)|(\[([^\]]+)\]\(([^)]+)\))/g;function d(e){let{children:t,splitParagraph:n=!1,splitLine:o=!1,showEmailLink:i=!1,showMarkdownBold:l=!1,showMarkdownLink:d=!1,style:u,aProps:h}=e;return t?n||o?(0,r.jsx)(r.Fragment,{children:t.split("\n").map(n?(e,t)=>(0,r.jsx)("p",{className:"".concat(s.F,"-enhanced-text__p"),style:u,children:(0,r.jsx)(c,{style:void 0,showEmailLink:i,showMarkdownBold:l,showMarkdownLink:d,aProps:h,children:e})},t):(e,n)=>(0,r.jsxs)(a.Fragment,{children:[(0,r.jsx)(c,{style:void 0,showEmailLink:i,showMarkdownBold:l,showMarkdownLink:d,aProps:h,children:e},"".concat(n,"_1")),n===t.length-1?null:(0,r.jsx)("br",{},"".concat(n,"_2"))]},n))}):(0,r.jsx)(c,{showEmailLink:i,showMarkdownBold:l,showMarkdownLink:d,style:u,aProps:h,children:t}):null}function c(e){let{children:t,showEmailLink:n,showMarkdownBold:d,showMarkdownLink:c,style:u,aProps:h}=e;return n||d||c?(function(e,t){let{showEmailLink:n,showMarkdownBold:a,showMarkdownLink:r}=t,s=[];if(n){let t=0;for(;;){let n=i.exec(e);if(n){let a=e.slice(t,n.index);a&&s.push({type:"text",content:a}),s.push({type:"email",content:n[0]}),t=n.index+n[0].length}else{let n=e.slice(t,e.length);n&&s.push({type:"text",content:n});break}}i.lastIndex=0}else s.push({type:"text",content:e});let o=[];for(let e of s)if("email"===e.type)o.push(e);else for(let t of function(e,t){let{showMarkdownBold:n,showMarkdownLink:a}=t,r=[],s=0;for(;;){let t=l.exec(e);if(t){let o=e.slice(s,t.index);o&&r.push({type:"text",content:o}),t[2]?n?r.push({type:"bold",content:t[2]}):r.push({type:"text",content:t[0]}):t[4]&&(a?r.push({type:"link",content:t[4],href:t[5]}):r.push({type:"text",content:t[0]})),s=t.index+t[0].length}else{let t=e.slice(s,e.length);t&&r.push({type:"text",content:t});break}}return l.lastIndex=0,r}(e.content,{showMarkdownBold:a,showMarkdownLink:r}))o.push(t);return o})(t,{showEmailLink:n,showMarkdownBold:d,showMarkdownLink:c}).map((e,t)=>{switch(e.type){case"email":return(0,a.createElement)(o.A,{...h,href:"mailto:".concat(e.content),key:t},e.content);case"link":return(0,a.createElement)(o.A,{...h,href:e.href,key:t,target:"_blank"},e.content);case"bold":return(0,r.jsx)("span",{className:"".concat(s.F,"-enhanced-text__bold"),style:u,children:e.content},t);case"text":return(0,r.jsx)("span",{style:u,children:e.content},t)}}):t}n(18255)},3172:function(e,t,n){n.d(t,{j:()=>d});var a=n(23279),r=n(15629),s=n(97411),o=n(58764);n(69263);var i=n(10090),l=n(395);function d(e){let{children:t,in:n,appear:d,onExit:c,onExited:u,componentRef:h,animated:p}=e,g=(0,r.useRef)(null);(0,r.useImperativeHandle)(h,()=>({nodeRef:g}),[]);let m=(0,i.II)(c),f=(0,i.II)(u),C=(0,i.II)(p),{isUnmountedRef:v}=(0,l.hj)();return((0,r.useLayoutEffect)(()=>()=>{if(!C.current&&!v.current&&n){var e,t;null===(e=m.current)||void 0===e||e.call(m),null===(t=f.current)||void 0===t||t.call(f)}},[n,m,f,v,C]),p)?(0,a.jsx)(s.Z,{nodeRef:g,appear:d,in:n,timeout:100,classNames:{appear:"".concat(o.F,"-fade-in-zoom-in-enter"),appearActive:"".concat(o.F,"-fade-in-zoom-in-active"),enter:"".concat(o.F,"-fade-in-zoom-in-enter"),enterActive:"".concat(o.F,"-fade-in-zoom-in-active"),exit:"".concat(o.F,"-fade-in-zoom-in-exit"),exitActive:"".concat(o.F,"-fade-in-zoom-in-exit-active")},onExit:c,onExited:u,unmountOnExit:!0,children:t(g)}):n?t(g):null}},72955:function(e,t,n){n.d(t,{$:()=>l});var a=n(23279),r=n(15629),s=n(97411),o=n(58764);n(591);var i=n(23331);function l(e){let{children:t,in:n,appear:l,transformOrigin:d,className:c,onEntered:u,onExited:h}=e,p=(0,r.useRef)(null),g=(0,r.useRef)("");return(0,a.jsx)(s.Z,{nodeRef:p,appear:l,in:n,timeout:100,classNames:{appear:"".concat(o.F,"-fade-in-zoom-in-expand-enter"),appearActive:"".concat(o.F,"-fade-in-zoom-in-expand-enter-active"),enter:"".concat(o.F,"-fade-in-zoom-in-expand-enter"),enterActive:"".concat(o.F,"-fade-in-zoom-in-expand-enter-active"),exit:"".concat(o.F,"-fade-in-zoom-in-expand-exit"),exitActive:"".concat(o.F,"-fade-in-zoom-in-expand-exit-active")},unmountOnExit:!0,onEnter:()=>{let e=p.current;e&&(e.style.transition="unset",e.style.maxHeight="unset",g.current="".concat(e.offsetHeight,"px"),e.style.maxHeight="0")},onEntering:()=>{let e=p.current;e&&(e.style.transition="",e.style.maxHeight=g.current)},onEntered:()=>{null==u||u();let e=p.current;e&&(e.style.maxHeight="")},onExit:()=>{let e=p.current;e&&(e.style.maxHeight="".concat(e.offsetHeight,"px"))},onExiting:()=>{let e=p.current;e&&(e.style.maxHeight="0")},onExited:h,children:(0,a.jsx)("div",{ref:p,className:(0,i.Z)("".concat(o.F,"-fade-in-zoom-in-expand-").concat(d),c),children:t})})}},24232:function(e,t,n){n.d(t,{f:()=>v}),n(82538),n(63393);var a=n(23279),r=n(23331),s=n(91054),o=n(15629),i=n(10090),l=n(52606),d=n(43370),c=n(6462),u=n(3172),h=n(58764),p=n(41380),g=n(55736),m=n(395);let f={bottom:"top","bottom-start":"top left","bottom-end":"top right",left:"right","left-start":"right top","left-end":"right bottom",right:"left","right-start":"left top","right-end":"left bottom",top:"bottom","top-start":"bottom left","top-end":"bottom right"};n(97593);let C=(0,o.createContext)(null);function v(e){let{trigger:t="none",leaveDelay:n=300,enterDelay:v=300,disabled:S=!1,placement:E="top",floatingAnimated:b=!0,isOpen:_,showArrow:y,wrapperStyle:w,wrapperDisplayPolicy:I="keepAfterFirstOpen",widthPolicy:T,checkEllipsis:k,hoverable:M=!0,onIsOpenChange:j,renderTrigger:R,renderFloating:A,onClickoutside:N,componentRef:L,floatingWrapperClassName:F,offsetOptions:O,flipOptions:P}=e,D=(0,o.useRef)(null),B=(0,o.useRef)(null),H=(0,o.useRef)(null),V=(0,o.useRef)(null),U=(0,o.useRef)(null),W=(0,i.II)(O),G=(0,i.II)(P),[z,Z]=(0,o.useState)(!1),q=(0,i.$0)(e=>{"function"==typeof e?Z(t=>{let n=e(t);return null==j||j(n),n}):(null==j||j(e),Z(e))}),K=!S&&(void 0===_?z:_),Y=(0,o.useRef)(0),X=(0,o.useRef)(0),$=(0,i.II)(n),Q=(0,i.II)(v),J=(0,o.useRef)(),ee=(0,o.useCallback)(e=>{var t,n;return(null===(t=eS.current)||void 0===t?void 0:t.nodeRef.current)&&B.current&&J.current&&function(e,t,n,a){let r=[];switch(a){case"bottom":case"bottom-end":case"bottom-start":r.push({y:t.bottom-1,x:t.left},{y:t.bottom-1,x:t.right},{y:n.top+1,x:n.left},{y:n.top+1,x:n.right});break;case"top":case"top-end":case"top-start":r.push({y:t.top+1,x:t.left},{y:t.top+1,x:t.right},{y:n.bottom-1,x:n.left},{y:n.bottom-1,x:n.right});break;case"left":case"left-end":case"left-start":r.push({y:t.top,x:t.left+1},{y:t.bottom,x:t.left+1},{y:n.top,x:n.right-1},{y:n.bottom,x:n.right-1});break;case"right":case"right-end":case"right-start":r.push({y:t.top,x:t.right-1},{y:t.bottom,x:t.right-1},{y:n.top,x:n.left+1},{y:n.bottom,x:n.left+1})}return function(e,t){let[n,a,r,s]=function(e){let t=(e[0].x+e[1].x+e[2].x+e[3].x)/4,n=(e[0].y+e[1].y+e[2].y+e[3].y)/4;return e.sort((e,a)=>Math.atan2(e.y-n,e.x-t)-Math.atan2(a.y-n,a.x-t))}(e);function o(e,t,n){var a,r,s;return a=t.x-e.x,r=t.y-e.y,s=n.x-e.x,a*(n.y-e.y)-r*s}let i=o(n,a,t),l=o(a,r,t),d=o(r,s,t),c=o(s,n,t);return!((i>0||l>0||d>0||c>0)&&(i<0||l<0||d<0||c<0))}(r,e)}({x:e.clientX,y:e.clientY},B.current.getBoundingClientRect(),null===(n=eS.current)||void 0===n?void 0:n.nodeRef.current.getBoundingClientRect(),J.current)},[]);(0,o.useImperativeHandle)(L,()=>({setIsOpen:e=>{window.clearTimeout(Y.current),window.clearTimeout(X.current),q(e)},getIsOpen:()=>K}));let et=(0,i.$0)(e=>{!1===e?(window.clearTimeout(X.current),X.current=0,Y.current||(Y.current=window.setTimeout(()=>{q(!1),Y.current=0},$.current))):(window.clearTimeout(Y.current),Y.current=0,X.current||(X.current=window.setTimeout(()=>{if(k){let e=D.current;e&&function(e){let{width:t,height:n}=e.getBoundingClientRect();return e.scrollHeight>Math.max(n,e.offsetHeight)||e.scrollWidth>Math.max(t,e.offsetWidth)}(e)&&q(!0)}else q(!0);X.current=0},Q.current)))});(0,o.useEffect)(()=>{q(!1)},[S]);let en=(0,i.$0)(()=>{"hover"!==t||S||et(!0)}),ea=(0,i.$0)(()=>{K&&("hover"!==t||S||et(!0))}),er=(0,o.useCallback)(e=>{if("hover"===t&&!S){if(e.target instanceof Node){var n,a,r;if((null===(n=B.current)||void 0===n?void 0:n.contains(e.target))||M&&((null===(r=eS.current)||void 0===r?void 0:null===(a=r.nodeRef.current)||void 0===a?void 0:a.contains(e.target))||ee(e)))return}et(!1)}},[t,S,et,ee,M]),es=(0,o.useCallback)(e=>{if(!S){if(e.target instanceof Node){var n,a,r;if((null===(a=eS.current)||void 0===a?void 0:null===(n=a.nodeRef.current)||void 0===n?void 0:n.contains(e.target))||(null===(r=B.current)||void 0===r?void 0:r.contains(e.target)))return}null==N||N(),"click"!==t||S||q(!1)}},[S,N,t,q]),eo=(0,o.useCallback)(()=>{"hover"!==t||S||q(!0)},[t,S,q]),ei=(0,o.useRef)(!1),el=(0,o.useCallback)(()=>{!ei.current&&("hover"!==t||S||q(!1))},[t,S,q]),ed=(0,o.useCallback)(e=>{"hover"===t&&!(M&&ee(e))&&et(!1)},[et,t,ee,M]),ec=(0,o.useCallback)(()=>{ei.current=!0,setTimeout(()=>{ei.current=!1},0)},[]),eu=(0,o.useCallback)(()=>{"click"!==t||S||Z(e=>!e)},[t,S]),eh=(0,o.useContext)(C),ep=(0,p.B)();(0,o.useLayoutEffect)(()=>{if(K&&B.current){let e=[];if("hover"===t){let t=B.current;(0,l.on)("mousemoveoutside",t,er),e.push(()=>(0,l.S)("mousemoveoutside",t,er))}let n=B.current;return(0,l.on)("clickoutside",n,es),e.push(()=>(0,l.S)("clickoutside",n,es)),()=>e.forEach(e=>e())}},[K,er,es,B,t]),(0,o.useLayoutEffect)(()=>{let e=U.current||B.current;if(K&&e&&V.current)return(0,d.Me)(e,V.current,()=>{if(e&&V.current){var t;(0,d.oo)(e,V.current,{placement:E,middleware:[(0,c.cv)(null!==(t=W.current)&&void 0!==t?t:8+4*!!y),(0,d.uY)({padding:8}),(0,d.RR)(G.current),y&&H.current?(0,d.x7)({element:H.current}):void 0]}).then(e=>{let{x:t,y:n,placement:a,middlewareData:r}=e;if(J.current=a,V.current&&(V.current.setAttribute("data-transform-origin",f[a]),Object.assign(V.current.style,{left:"".concat(t,"px"),top:"".concat(n,"px")})),H.current&&r.arrow){let{x:e,y:t}=r.arrow;H.current.setAttribute("ds-floating-placement",a),Object.assign(H.current.style,{left:"number"==typeof e?"".concat(e,"px"):void 0,top:"number"==typeof t?"".concat(t,"px"):void 0})}})}})},[G,K,W,E,y]);let{value:eg,trigger:em}=(0,i.UL)({value:K,defaultValue:K,shouldDelay:()=>!K}),ef=(0,g.C)(eg),eC=(0,m.yI)(K,!0,K),ev=(0,o.useMemo)(()=>null==R?void 0:R({isOpen:K,domProps:{onMouseEnter:en,onMouseLeave:ed,onFocus:eo,onBlur:el,onClick:eu},ellipsisDomRef:D,domRef:B,positionDomRef:U}),[K,el,eo,en,ed,R,eu]),ex=eC.current,eS=(0,o.useRef)(null),eE=(0,m.hj)().isMountedRef.current,eb=(0,o.useMemo)(()=>"undefined"==typeof document?null:(0,s.createPortal)(ex&&!S&&"alwaysKeep"===I||"keepAfterFirstOpen"===I&&ex||"keepIfIsOpen"===I&&K?(0,a.jsx)("div",{className:"".concat(h.F,"-floating-container"),style:{zIndex:ef},children:(0,a.jsx)("div",{className:(0,r.Z)("".concat(h.F,"-floating-position-wrapper"),"".concat(h.F,"-theme"),F),ref:V,style:{...ep,zIndex:ef,width:"consistent"===T?x(B.current):void 0,minWidth:"minConsistent"===T?x(B.current):void 0,...w},children:(0,a.jsx)(u.j,{appear:eE,in:K,componentRef:eS,onExited:em,animated:b,children:e=>A({arrowNodeRef:H,nodeRef:e,onMouseEnter:ea,onMouseLeave:ed,onMouseDown:ec})})})}):null,(null==eh?void 0:eh.current)||document.body),[ex,S,I,K,F,ep,ef,T,w,b,em,eh,A,ea,ed,ec,eE]);return(0,a.jsxs)(a.Fragment,{children:[ev,eb]})}let x=e=>{if(e)return getComputedStyle(e).width}},15360:function(e,t,n){n.d(t,{J:()=>o});var a=n(23279),r=n(23331),s=n(58764);function o(e){var t;let{children:n,size:o,height:i=o,width:l=o,style:d,domProps:c,domRef:u,className:h}=e;return(0,a.jsx)("div",{...c,className:(0,r.Z)("".concat(s.F,"-icon"),null==c?void 0:c.className,h),style:{fontSize:o,width:l,height:i,...null!==(t=null==c?void 0:c.style)&&void 0!==t?t:{},...d},ref:u,children:n})}n(16659)},95830:function(e,t,n){n.d(t,{h:()=>o});var a=n(23279),r=n(23331),s=n(58764);function o(e){let{theme:t,onClick:n,onMousedown:o,className:i,children:l,style:d,domProps:c,domRef:u,focusable:h=!0,forceSvgColor:p=!0}=e;return(0,a.jsx)("div",{...c,ref:u,onClick:e=>{var t;null==n||n({source:"click",evt:e}),null==c||null===(t=c.onClick)||void 0===t||t.call(c,e)},onMouseDown:o,className:(0,r.Z)("".concat(s.F,"-icon-button"),i,null==c?void 0:c.className,p&&"ds-force-svg-color"),tabIndex:h?0:-1,style:{"--ds-icon-button-text-color":null==t?void 0:t.textColor,"--ds-icon-button-outline-color":null==t?void 0:t.boxShadowColorFocus,"--ds-icon-button-size":null==t?void 0:t.size,"--ds-icon-button-background-inset":null==t?void 0:t.backgroundInset,"--ds-icon-button-hover-color":null==t?void 0:t.hoverColor,...null==c?void 0:c.style,...d},onKeyDown:e=>{var t;null==c||null===(t=c.onKeyDown)||void 0===t||t.call(c,e),"Enter"===e.key&&(null==n||n({source:"keyboard"}))},children:l})}n(13779)},34979:function(e,t,n){n.d(t,{g:()=>i});var a=n(23279),r=n(15629),s=n(23331),o=n(58764);n(85310);let i=(0,r.forwardRef)(function(e,t){let{size:n,className:r}=e;return(0,a.jsx)("div",{className:(0,s.Z)("".concat(o.F,"-loading"),r),ref:t,style:"number"==typeof n?{fontSize:"".concat(n,"px")}:n?{fontSize:n}:void 0,children:(0,a.jsxs)("svg",{viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true","data-icon":"spin",children:[(0,a.jsx)("defs",{children:(0,a.jsxs)("linearGradient",{x1:"0%",y1:"100%",x2:"100%",y2:"100%",id:"linearGradient-1",children:[(0,a.jsx)("stop",{stopColor:"currentColor",stopOpacity:"0",offset:"0%"}),(0,a.jsx)("stop",{stopColor:"currentColor",stopOpacity:"0.50",offset:"39.9430698%"}),(0,a.jsx)("stop",{stopColor:"currentColor",offset:"100%"})]})}),(0,a.jsxs)("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[(0,a.jsx)("rect",{fillOpacity:"0.01",fill:"none",x:"0",y:"0",width:"36",height:"36"}),(0,a.jsx)("path",{d:"M34,18 C34,9.163444 26.836556,2 18,2 C11.6597233,2 6.18078805,5.68784135 3.59122325,11.0354951",stroke:"url(#linearGradient-1)",strokeWidth:"4",strokeLinecap:"round"})]})]})})})},49393:function(e,t,n){n.d(t,{H:()=>r});var a=n(87847);let r=void 0===window.ResizeObserver?a.do:window.ResizeObserver},45264:function(e,t,n){n.d(t,{fu:()=>g,_P:()=>m});var a=n(23279),r=n(15629),s=n(10090);let o="onpointermove"in window?"pointermove":"mousemove";var i=n(49393);n(85833);let l=(0,r.createContext)({});function d(e){let t=(0,r.useRef)(e);return t.current=e,()=>t.current}let c={leading:0,trailing:0,top:8,bottom:8},u={leading:8,trailing:8,top:0,bottom:0},h={leading:8,trailing:16,top:0,bottom:8},p={leading:0,trailing:8,top:8,bottom:16},g=e=>{let{verticalScrollbarInsets:t=c,horizontalScrollbarInsets:n=u,verticalScrollbarMinHeight:g=24,horizontalScrollbarMinWidth:f=24,conflictedHorizontalScrollbarInsets:C=h,conflictedVerticalScrollbarInsets:v=p,verticalScrollbarWidth:x=8,horizontalScrollbarHeight:S=8,guttersPosition:E="sticky"}=e,b=(0,r.useRef)(null),_=(0,r.useRef)(null),y=(0,r.useCallback)(()=>{var e;null===(e=_.current)||void 0===e||e.call(_)},[]),w=(0,r.useMemo)(()=>({}),[]),I=d(g),T=d(f),k=d(E),M=d(t),j=d(n),R=d(v),A=d(C),N=d(x),L=d(S);(0,r.useLayoutEffect)(()=>{var e,t;if(!b.current||!(null===(e=w.horizontalBarRef)||void 0===e?void 0:e.current)||!(null===(t=w.guttersRef)||void 0===t?void 0:t.current))return;let{teardown:n,deriveScrollingStatus:a}=function(e){let{container:t,verticalBar:n,verticalGutter:a,horizontalBar:r,horizontalGutter:s,getVerticalScrollbarMinHeight:i,getHorizontalScrollbarMinWidth:l,gutters:d,getGuttersPosition:c,getVerticalScrollbarInsets:u,getHorizontalScrollbarInsets:h,getConflictedVerticalScrollbarInsets:p,getConflictedHorizontalScrollbarInsets:g,getVerticalScrollbarWidth:m,getHorizontalScrollbarHeight:f}=e,C=!1,v=!1,x=0,S=0,E=0,b=0,_=0,y=0;function w(e){d.style.position=c(),d.style.top="0",d.style.left="0",d.style.right="0";let t=e?p():u(),n=e?g():h();switch(a.style.right="".concat(t.trailing,"px"),a.style.top="".concat(t.top,"px"),s.style.left="".concat(n.leading,"px"),s.style.right="".concat(n.trailing,"px"),c()){case"sticky":a.style.bottom="calc(0px - var(--container-height) + ".concat(t.bottom,"px)"),s.style.top="calc(var(--container-height) - ".concat(n.bottom+f(),"px)"),d.style.bottom="",d.style.height="0";break;case"absolute":a.style.bottom="".concat(t.bottom,"px"),s.style.bottom="".concat(n.bottom,"px"),d.style.bottom="0",d.style.height=""}s.style.height="".concat(f(),"px"),a.style.width="".concat(m(),"px")}let I=null;function T(){I&&cancelAnimationFrame(I),I=requestAnimationFrame(()=>{C||v?function(){let e=t.offsetHeight,o=t.offsetWidth,d=t.scrollHeight,c=t.scrollWidth;w(d>e&&c>o);let u=a.offsetHeight,h=s.offsetWidth,{top:p}=a.getBoundingClientRect(),{left:g}=s.getBoundingClientRect();if(d<=e)n.style.display="none";else if(C){let a=Math.max(i(),u/d*e),r=S+y-a*b-p;r=function(e,t,n){return e<t?t:e>n?n:e}(r,0,u-a),n.style.display="",n.style.top="".concat(r,"px"),n.style.height="".concat(a,"px"),t.scrollTop=(d-e)*r/(u-a)}if(c<=o)r.style.display="none";else if(v){let e=Math.max(l(),h/c*o),n=x+_-e*E-g;n=function(e,t,n){return e<t?t:e>n?n:e}(n,0,h-e),r.style.display="",r.style.left="".concat(n,"px"),r.style.width="".concat(e,"px"),t.scrollLeft=(c-o)*n/(h-e)}}():function(){let e=t.scrollHeight,o=t.scrollWidth,d=t.scrollTop,c=t.scrollLeft,u=t.offsetHeight,h=t.offsetWidth;w(e>u&&o>h);let p=a.offsetHeight,g=s.offsetWidth;if(e<=u)n.style.display="none";else{let t=Math.max(i(),p/e*u);n.style.display="",n.style.top="".concat((p-t)*d/(e-u),"px"),n.style.height="".concat(t,"px")}if(o<=h)r.style.display="none";else{let e=Math.max(l(),g/o*h);r.style.display="",r.style.left="".concat((g-e)*c/(o-h),"px"),r.style.width="".concat(e,"px")}}()})}let k=()=>{v=!1,window.removeEventListener("mouseup",k),window.removeEventListener(o,j)},M=()=>{C=!1,window.removeEventListener("mouseup",M),window.removeEventListener(o,R)},j=e=>{_=e.clientX-x,T()},R=e=>{y=e.clientY-S,T()};return r.addEventListener("mousedown",e=>{e.preventDefault(),v=!0,x=e.clientX;let{left:t}=r.getBoundingClientRect();E=(e.clientX-t)/r.offsetWidth,window.addEventListener(o,j),window.addEventListener("mouseup",k)}),n.addEventListener("mousedown",e=>{e.preventDefault(),C=!0,S=e.clientY;let{top:t}=n.getBoundingClientRect();b=(e.clientY-t)/n.offsetHeight,window.addEventListener(o,R),window.addEventListener("mouseup",M)}),{deriveScrollingStatus:T,teardown:()=>{window.removeEventListener("mouseup",k),window.removeEventListener("mouseup",M),window.removeEventListener(o,j),window.removeEventListener(o,R)}}}({getVerticalScrollbarMinHeight:I,getHorizontalScrollbarMinWidth:T,container:b.current,horizontalBar:w.horizontalBarRef.current,horizontalGutter:w.horizontalGutterRef.current,verticalBar:w.verticalBarRef.current,verticalGutter:w.verticalGutterRef.current,gutters:w.guttersRef.current,getGuttersPosition:k,getVerticalScrollbarInsets:M,getHorizontalScrollbarInsets:j,getConflictedVerticalScrollbarInsets:R,getConflictedHorizontalScrollbarInsets:A,getVerticalScrollbarWidth:N,getHorizontalScrollbarHeight:L});return _.current=a,n}),(0,r.useLayoutEffect)(()=>{y()},[y,e.horizontalScrollbarMinWidth,e.verticalScrollbarMinHeight,E,t.leading,t.trailing,t.top,t.bottom,n.leading,n.trailing,n.top,n.bottom,v.leading,v.trailing,v.top,v.bottom,C.leading,C.trailing,C.top,C.bottom,x,S]);let F=(0,r.useCallback)(()=>{let e=b.current.offsetHeight;w.guttersRef.current.style.setProperty("--container-height","".concat(e,"px")),y()},[w.guttersRef,y]),O=(0,r.useMemo)(()=>function(e){let{children:t}=e;return(0,a.jsx)(l.Provider,{value:w,children:t})},[w]),P=(0,r.useMemo)(()=>function(){return(0,a.jsx)(O,{children:(0,a.jsx)(m,{})})},[O]);return{ScrollAreaContextProvider:O,ScrollAreaGutters:P,containerDomRef:(0,s.Cc)((0,r.useCallback)(e=>{if(b.current=e,e){let t=new i.H(F);return t.observe(e),()=>t.disconnect()}},[F])),onContainerScroll:y,onContentResize:y,className:"ds-scroll-area"}};function m(){let e=(0,r.useRef)(null),t=(0,r.useRef)(null),n=(0,r.useRef)(null),s=(0,r.useRef)(null),o=(0,r.useRef)(null),i=(0,r.useContext)(l);return i.horizontalBarRef=e,i.horizontalGutterRef=t,i.verticalBarRef=n,i.verticalGutterRef=s,i.guttersRef=o,(0,a.jsxs)("div",{className:"ds-scroll-area__gutters",ref:o,children:[(0,a.jsx)("div",{className:"ds-scroll-area__horizontal-gutter",ref:t,children:(0,a.jsx)("div",{className:"ds-scroll-area__horizontal-bar",ref:e})}),(0,a.jsx)("div",{className:"ds-scroll-area__vertical-gutter",ref:s,children:(0,a.jsx)("div",{className:"ds-scroll-area__vertical-bar",ref:n})})]})}function f(e,t,n){return e<t?t:e>n?n:e}},26071:function(e,t,n){n.d(t,{O:()=>i}),n(63393);var a=n(23279);n(9445);var r=n(23331),s=n(58764),o=n(15629);function i(e){let{variant:t="rect",sharp:n=!1,size:i="m",repeat:l=1,repeatSeparator:d,className:c,style:u,children:h}=e,p=(0,o.useCallback)(e=>(0,a.jsx)("div",{className:(0,r.Z)("".concat(s.F,"-skeleton"),"".concat(s.F,"-skeleton--").concat(i),"".concat(s.F,"-skeleton--").concat(t),n&&"".concat(s.F,"-skeleton--sharp"),h&&"".concat(s.F,"-skeleton--has-children"),c),style:u,children:"text"===t?void 0===h?(0,a.jsx)("span",{"aria-hidden":!0,children:"\xa0"}):(0,a.jsx)("span",{"aria-hidden":!0,children:h}):h},e),[c,u,i,t,n,h]);return(0,o.useMemo)(()=>{if(1===l)return p(void 0);let e=[];for(let t=0;t<l;t++)e.push(p(t)),void 0!==d&&t<l-1&&e.push(d);return(0,a.jsx)(a.Fragment,{children:e})},[l,p,d])}},41380:function(e,t,n){n.d(t,{B:()=>s,W:()=>r});var a=n(15629);let r=(0,a.createContext)(void 0),s=()=>(0,a.useContext)(r)},3985:function(e,t,n){n.d(t,{BV:()=>m,Pz:()=>u,aN:()=>h,pm:()=>f,tm:()=>p}),n(82538),n(36631);var a=n(23279),r=n(15629),s=n(23331),o=n(10090),i=n(72955),l=n(58764),d=n(57570);n(92997);let c=0;function u(){return(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 16 16",children:(0,a.jsx)("g",{fill:"none",children:(0,a.jsx)("path",{d:"M8 2a6 6 0 1 1 0 12A6 6 0 0 1 8 2zM6.534 5.839a.5.5 0 0 0-.638.057l-.057.07a.5.5 0 0 0 .057.638L7.293 8L5.896 9.396l-.057.07a.5.5 0 0 0 .057.638l.07.057a.5.5 0 0 0 .638-.057L8 8.707l1.396 1.397l.07.057a.5.5 0 0 0 .638-.057l.057-.07a.5.5 0 0 0-.057-.638L8.707 8l1.397-1.396l.057-.07a.5.5 0 0 0-.057-.638l-.07-.057a.5.5 0 0 0-.638.057L8 7.293L6.604 5.896l-.07-.057z",fill:"currentColor"})})})}function h(){return(0,a.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M8 .333a7.667 7.667 0 1 1 0 15.334A7.667 7.667 0 0 1 8 .333zm0 1.334a6.333 6.333 0 1 0 0 12.666A6.333 6.333 0 0 0 8 1.667z",fill:"#F59E0B"}),(0,a.jsx)("path",{d:"M7.383 8.4c.013.406.222.61.624.61.388 0 .587-.204.597-.61l.11-3.373a.603.603 0 0 0-.194-.492.728.728 0 0 0-.527-.202.718.718 0 0 0-.52.195.622.622 0 0 0-.188.5l.098 3.371zM7.424 11.098a.849.849 0 0 0 .583.215.83.83 0 0 0 .569-.215.7.7 0 0 0 .243-.548.7.7 0 0 0-.243-.548.815.815 0 0 0-.569-.215.834.834 0 0 0-.583.222.701.701 0 0 0-.236.54c0 .218.079.4.236.549z",fill:"#F59E0B"})]})}function p(){return(0,a.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("g",{clipPath:"url(#clip0_12563_43114)",children:(0,a.jsx)("path",{d:"M8 .333a7.667 7.667 0 1 1 0 15.334A7.667 7.667 0 0 1 8 .333zm0 1.334a6.333 6.333 0 1 0 0 12.666A6.333 6.333 0 0 0 8 1.667zm1.762 3.656a.667.667 0 0 1 1.143.687l-3 5a.667.667 0 0 1-1.078.09l-2-2.332a.667.667 0 0 1 1.013-.869L7.237 9.53l2.525-4.207z",fill:"#22C55E"})}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"clip0_12563_43114",children:(0,a.jsx)("path",{fill:"#fff",d:"M0 0h16v16H0z"})})})]})}function g(e){let t,{content:n,type:r}=e;switch(r){case"warning":case"error":t=(0,a.jsx)(h,{});break;case"success":t=(0,a.jsx)(p,{});break;default:t=null}return(0,a.jsxs)("div",{className:(0,s.Z)("".concat(l.F,"-toast"),"".concat(l.F,"-toast--").concat(r)),children:[t?(0,a.jsx)("div",{className:(0,s.Z)("".concat(l.F,"-toast__icon")),children:t}):null,(0,a.jsx)("div",{className:"".concat(l.F,"-toast__content"),children:"string"==typeof n?n:n.node})]})}function m(e){let{toastProps:t,setToasts:n}=e,[s,o]=(0,r.useState)(!0);return(0,a.jsx)(i.$,{appear:!0,className:"".concat(l.F,"-toast-animation"),transformOrigin:t.placement,in:s,onEntered:()=>{setTimeout(()=>{o(!1)},t.duration)},onExited:()=>{n(e=>e.filter(e=>e.id!==t.id))},children:(0,r.useMemo)(()=>(0,a.jsx)(g,{...t}),[t])})}function f(){let e=(0,r.useContext)(d.BD),t=(0,r.useContext)(d.wj),n=(0,r.useContext)(d.DS)||"top";if(!e)throw Error("useToast must be used inside ToastProvider");let a=(0,o.II)(t),s=(0,r.useCallback)(function(t,r){let{duration:s=5e3,dedupeKey:o,placement:i=n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=c++;e(e=>{var n;return void 0!==o&&e.some(e=>e.dedupeKey===o)?e:(null===(n=a.current)||void 0===n||n.call(a,r,"success"===t?"info":"warning"===t?"warn":"error"),e.concat({type:t,content:r,id:l,duration:s,dedupeKey:o,placement:i}))})},[n,e,a]);return(0,r.useMemo)(()=>({warning:(e,t)=>s("warning",e,t),error:(e,t)=>s("error",e,t),success:(e,t)=>s("success",e,t),info:(e,t)=>s("info",e,t)}),[s])}},57570:function(e,t,n){n.d(t,{BD:()=>r,DS:()=>s,wj:()=>o});var a=n(15629);let r=(0,a.createContext)(null),s=(0,a.createContext)(null),o=(0,a.createContext)(null)},78828:function(e,t,n){n.d(t,{u:()=>c});var a=n(23279),r=n(23331),s=n(15629),o=n(58764),i=n(41380),l=n(24232);n(99688);var d=n(61498);function c(e){var t,n,c,h,p,g,m,f;let{children:C,size:v,leaveDelay:x,enterDelay:S,wrapperStyle:E,showShadow:b,isOpen:_,disabled:y,showArrow:w,arrowVariant:I,placement:T="top",trigger:k="hover",componentRef:M,theme:j,checkEllipsis:R,floatingAnimated:A,renderTrigger:N,className:L,hoverable:F,...O}=e,P=(0,s.useContext)(d.d),D=null!==(t=null!=w?w:P.showArrow)&&void 0!==t&&t,B=null!==(n=null!=y?y:P.disabled)&&void 0!==n&&n,H=null!==(c=null!=I?I:P.arrowVariant)&&void 0!==c?c:"sharp",V=null!==(h=null!=x?x:P.leaveDelay)&&void 0!==h?h:void 0,U=null!==(p=null!=S?S:P.enterDelay)&&void 0!==p?p:void 0,W=null===(g=null!=A?A:P.floatingAnimated)||void 0===g||g,G=null!==(m=null!=F?F:P.hoverable)&&void 0!==m&&m,z=null!==(f=null!=v?v:P.size)&&void 0!==f?f:"m",Z=(0,s.useMemo)(()=>{switch(z){case"m":return;case"s":return{mainAxis:4}}},[z]),q=(0,i.B)(),K={"--tooltip-font-size":null==j?void 0:j.fontSize,"--tooltip-line-height":null==j?void 0:j.lineHeight,"--tooltip-padding":null==j?void 0:j.padding,"--ds-toast-max-width":null==j?void 0:j.maxWidth,"--tooltip-color":null==j?void 0:j.backgroundColor,"--tooltip-text-color":null==j?void 0:j.color},Y=(0,s.useRef)(null);return(0,s.useImperativeHandle)(M,()=>({setIsOpen(e){var t;null===(t=Y.current)||void 0===t||t.setIsOpen(e)}})),(0,a.jsx)(l.f,{floatingAnimated:W,disabled:B,leaveDelay:V,enterDelay:U,wrapperStyle:E,renderTrigger:N,renderFloating:e=>{let{nodeRef:t,arrowNodeRef:n,onMouseEnter:s,onMouseDown:i,onMouseLeave:l}=e;return(0,a.jsxs)("div",{ref:t,className:(0,r.Z)("".concat(o.F,"-tooltip"),"".concat(o.F,"-tooltip--").concat(z),b&&"".concat(o.F,"-tooltip--show-shadow"),"".concat(o.F,"-elevated"),"".concat(o.F,"-theme"),L),style:{...q,...K},onMouseEnter:s,onMouseLeave:l,onMouseDown:i,onClick:e=>e.stopPropagation(),children:[C,D&&(0,a.jsx)("div",{className:(0,r.Z)("".concat(o.F,"-tooltip__arrow"),"".concat(o.F,"-tooltip__arrow--").concat(H)),ref:n,children:"soft"===H&&(0,a.jsx)(u,{})})]})},placement:T,trigger:k,isOpen:_,componentRef:Y,showArrow:D,checkEllipsis:R,offsetOptions:Z,hoverable:G,...O})}function u(){return(0,a.jsxs)("svg",{className:"".concat(o.F,"-tooltip__soft-arrow"),viewBox:"0 0 47 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("mask",{id:"mask0_0_3329",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"47",height:"13",children:(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 0.00316996C1.71249 0.00316996 3.42448 -0.00533022 5.13697 0.0131702C6.77598 0.0311706 8.61044 0.0566711 10.2055 0.658184C11.9284 1.3082 13.0691 2.44472 14.2168 3.78225C15.043 4.74427 16.666 6.79681 17.4563 7.78784C18.1031 8.60035 19.3692 10.2064 20.0605 10.9834C20.9308 11.9609 22.0064 12.9999 23.5005 12.9999C24.9946 12.9999 26.0697 11.9609 26.9395 10.9844C27.6308 10.2079 28.8969 8.60085 29.5442 7.78884C30.3335 6.79781 31.9565 4.74527 32.7832 3.78325C33.9329 2.44572 35.0716 1.3092 36.794 0.659184C38.3896 0.0591711 40.2245 0.0321706 41.8625 0.0141702C43.5755 -0.0043302 45.2875 0.00416998 47 0.00416998",fill:"#FF0000"})}),(0,a.jsx)("g",{mask:"url(#mask0_0_3329)",children:(0,a.jsx)("g",{clipPath:"url(#clip0_0_3329)",children:(0,a.jsx)("g",{filter:"url(#filter0_b_0_3329)",children:(0,a.jsx)("rect",{width:"47",height:"13",fill:"currentColor",style:{mixBlendMode:"color-dodge"}})})})}),(0,a.jsxs)("defs",{children:[(0,a.jsxs)("filter",{id:"filter0_b_0_3329",x:"-50",y:"-50",width:"147",height:"113",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,a.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,a.jsx)("feGaussianBlur",{in:"BackgroundImageFix",stdDeviation:"25"}),(0,a.jsx)("feComposite",{in2:"SourceAlpha",operator:"in",result:"effect1_backgroundBlur_0_3329"}),(0,a.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_backgroundBlur_0_3329",result:"shape"})]}),(0,a.jsx)("clipPath",{id:"clip0_0_3329",children:(0,a.jsx)("rect",{width:"47",height:"13",fill:"white"})})]})]})}},61498:function(e,t,n){n.d(t,{d:()=>a});let a=(0,n(15629).createContext)({})},2480:function(e,t,n){n.d(t,{B:()=>r});var a=n(16446);class r{get instantValue(){return this.value}constructor(){(0,a._)(this,"promise",void 0),(0,a._)(this,"resolve",void 0),(0,a._)(this,"reject",void 0),(0,a._)(this,"then",void 0),(0,a._)(this,"value",null);let e=new Promise((e,t)=>{this.resolve=t=>{this.value=t,e(t)},this.reject=t});this.promise=e,this.then=e.then.bind(e)}}},42154:function(e,t,n){n.d(t,{DX:()=>o,fC:()=>s,vv:()=>a,y0:()=>r}),n(36631);let a=e=>{},r=e=>{throw Error("Unhandled case: ".concat(e))},s=async e=>new Promise(t=>{setTimeout(t,e)});function o(e){return null!=e}}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var s=t[a]={id:a,loaded:!1,exports:{}};return e[a].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(a,r){if(1&r&&(a=this(a)),8&r||"object"==typeof a&&a&&(4&r&&a.__esModule||16&r&&"function"==typeof a.then))return a;var s=Object.create(null);n.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var i=2&r&&a;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach(e=>{o[e]=()=>a[e]});return o.default=()=>a,n.d(s,o),s}})(),n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,a)=>(n.f[a](e,t),t),[])),n.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),n.k=e=>"static/"+({531:"mermaidRender",884:"previewAll",945:"katex"})[e]+"."+({531:"49df1a1d07",884:"9dfa9f5cad",945:"66a418a9b7"})[e]+".css",n.u=e=>"static/"+(({20:"prism-m-r",205:"prism-a-d",531:"mermaidRender",637:"prism-s-z",654:"prism-e-l",789:"mermaid-vendors",884:"previewAll",945:"katex",963:"prism-common"})[e]||e)+"."+({112:"d426e7719e",116:"bc79aa8d24",185:"9121c72d5e",20:"59627f1430",205:"ae925ee81b",246:"28bbffa968",267:"4ea39b4325",271:"6a969de216",294:"3093cbb040",311:"24dd509c6a",318:"8819dcd0a1",329:"eeaf965486",38:"bd93631726",440:"6e8ca9d521",454:"a6466fac36",531:"c85b51ecce",569:"4fcce01393",637:"3e0313bc2d",654:"0442b3ab75",662:"97748eef3b",687:"3ba3ba23b4",704:"05b5690901",715:"90a2c5ed79",77:"f46788a06d",779:"5db252f769",784:"f0ed625841",789:"e8675df7e0",856:"88a6228e41",884:"cd612e7e25",885:"0089f4def9",943:"31fe7a886f",945:"8f5a914db9",963:"96991a9769",976:"5d410599fe",992:"4c58386115"})[e]+".js",(()=>{n.g=(()=>{if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}})()})(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="@deepseek/chat:";n.l=function(a,r,s,o){if(e[a]){e[a].push(r);return}if(void 0!==s)for(var i,l,d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var u=d[c];if(u.getAttribute("src")==a||u.getAttribute("data-webpack")==t+s){i=u;break}}i||(l=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,n.nc&&i.setAttribute("nonce",n.nc),i.setAttribute("data-webpack",t+s),i.src=a),e[a]=[r];var h=function(t,n){i.onerror=i.onload=null,clearTimeout(p);var r=e[a];if(delete e[a],i.parentNode&&i.parentNode.removeChild(i),r&&r.forEach(function(e){return e(n)}),t)return t(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=h.bind(null,i.onerror),i.onload=h.bind(null,i.onload),l&&document.head.appendChild(i)}})(),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e=[];n.O=(t,a,r,s)=>{if(a){s=s||0;for(var o=e.length;o>0&&e[o-1][2]>s;o--)e[o]=e[o-1];e[o]=[a,r,s];return}for(var i=1/0,o=0;o<e.length;o++){for(var[a,r,s]=e[o],l=!0,d=0;d<a.length;d++)(!1&s||i>=s)&&Object.keys(n.O).every(e=>n.O[e](a[d]))?a.splice(d--,1):(l=!1,s<i&&(i=s));if(l){e.splice(o--,1);var c=r();void 0!==c&&(t=c)}}return t}})(),n.p="https://static.deepseek.com/chat/",n.rv=()=>"1.2.8",(()=>{var e={909:0},t="@deepseek/chat",a=(t,n)=>{e[n]=0},r="data-webpack-loading",s=function(e,a,s,o,i){var l,d,c="chunk-"+e;if(!o){for(var u=document.getElementsByTagName("link"),h=0;h<u.length;h++){var p=u[h],g=p.getAttribute("href")||p.href;if(g&&!g.startsWith(n.p)&&(g=n.p+(g.startsWith("/")?g.slice(1):g)),"stylesheet"==p.rel&&(g&&g.startsWith(a)||p.getAttribute("data-webpack")==t+":"+c)){l=p;break}}if(!s)return l}l||(d=!0,l=document.createElement("link"),n.nc&&l.setAttribute("nonce",n.nc),l.setAttribute("data-webpack",t+":"+c),i&&l.setAttribute("fetchpriority",i),l.setAttribute(r,1),l.rel="stylesheet",l.href=a);var m=function(e,t){if(l.onerror=l.onload=null,l.removeAttribute(r),clearTimeout(f),t&&"load"!=t.type&&l.parentNode.removeChild(l),s(t),e)return e(t)};if(l.getAttribute(r)){var f=setTimeout(m.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=m.bind(null,l.onerror),l.onload=m.bind(null,l.onload)}else m(void 0,{type:"load",target:l});return o?document.head.insertBefore(l,o):d&&document.head.appendChild(l),l};a(n.m,0,"909"),n.f.css=function(t,r,o){var i=n.o(e,t)?e[t]:void 0;if(0!==i){if(i)r.push(i[2]);else if(/^(531|884|909|945)$/.test(t)){var l=new Promise(function(n,a){i=e[t]=[n,a]});r.push(i[2]=l);var d=n.p+n.k(t),c=Error();s(t,d,function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){if("load"!==r.type){var s=r&&r.type,o=r&&r.target&&r.target.src;c.message="Loading css chunk "+t+" failed.\n("+s+": "+o+")",c.name="ChunkLoadError",c.type=s,c.request=o,i[1](c)}else a(n.m,t),i[0]()}},void 0,o)}else e[t]=0}}})(),(()=>{n.b=document.baseURI||self.location.href;var e={909:0};n.f.j=function(t,a){var r=n.o(e,t)?e[t]:void 0;if(0!==r){if(r)a.push(r[2]);else{var s=new Promise((n,a)=>r=e[t]=[n,a]);a.push(r[2]=s);var o=n.p+n.u(t),i=Error();n.l(o,function(a){if(n.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var s=a&&("load"===a.type?"missing":a.type),o=a&&a.target&&a.target.src;i.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",i.name="ChunkLoadError",i.type=s,i.request=o,r[1](i)}},"chunk-"+t,t)}}},n.O.j=t=>0===e[t];var t=(t,a)=>{var r,s,[o,i,l]=a,d=0;if(o.some(t=>0!==e[t])){for(r in i)n.o(i,r)&&(n.m[r]=i[r]);if(l)var c=l(n)}for(t&&t(a);d<o.length;d++)s=o[d],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(c)},a=self.webpackChunk_deepseek_chat=self.webpackChunk_deepseek_chat||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})(),n.ruid="bundler=rspack@1.2.8";var a=n.O(void 0,["694"],function(){return n(98321)});a=n.O(a)})();